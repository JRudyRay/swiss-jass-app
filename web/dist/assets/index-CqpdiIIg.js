(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))a(p);new MutationObserver(p=>{for(const h of p)if(h.type==="childList")for(const S of h.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&a(S)}).observe(document,{childList:!0,subtree:!0});function s(p){const h={};return p.integrity&&(h.integrity=p.integrity),p.referrerPolicy&&(h.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?h.credentials="include":p.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(p){if(p.ep)return;p.ep=!0;const h=s(p);fetch(p.href,h)}})();function tp(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var ma={exports:{}},Ss={},ga={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc;function np(){if(Xc)return ae;Xc=1;var u=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),S=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),P=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),B=Symbol.iterator;function ne(w){return w===null||typeof w!="object"?null:(w=B&&w[B]||w["@@iterator"],typeof w=="function"?w:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,N={};function J(w,I,te){this.props=w,this.context=I,this.refs=N,this.updater=te||W}J.prototype.isReactComponent={},J.prototype.setState=function(w,I){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,I,"setState")},J.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function Ee(){}Ee.prototype=J.prototype;function Le(w,I,te){this.props=w,this.context=I,this.refs=N,this.updater=te||W}var jt=Le.prototype=new Ee;jt.constructor=Le,F(jt,J.prototype),jt.isPureReactComponent=!0;var rt=Array.isArray,$=Object.prototype.hasOwnProperty,$e={current:null},He={key:!0,ref:!0,__self:!0,__source:!0};function Oe(w,I,te){var le,he={},ge=null,_e=null;if(I!=null)for(le in I.ref!==void 0&&(_e=I.ref),I.key!==void 0&&(ge=""+I.key),I)$.call(I,le)&&!He.hasOwnProperty(le)&&(he[le]=I[le]);var Te=arguments.length-2;if(Te===1)he.children=te;else if(1<Te){for(var Pe=Array(Te),Ke=0;Ke<Te;Ke++)Pe[Ke]=arguments[Ke+2];he.children=Pe}if(w&&w.defaultProps)for(le in Te=w.defaultProps,Te)he[le]===void 0&&(he[le]=Te[le]);return{$$typeof:u,type:w,key:ge,ref:_e,props:he,_owner:$e.current}}function Ze(w,I){return{$$typeof:u,type:w.type,key:I,ref:w.ref,props:w.props,_owner:w._owner}}function Tt(w){return typeof w=="object"&&w!==null&&w.$$typeof===u}function mt(w){var I={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(te){return I[te]})}var Yt=/\/+/g;function gt(w,I){return typeof w=="object"&&w!==null&&w.key!=null?mt(""+w.key):I.toString(36)}function xe(w,I,te,le,he){var ge=typeof w;(ge==="undefined"||ge==="boolean")&&(w=null);var _e=!1;if(w===null)_e=!0;else switch(ge){case"string":case"number":_e=!0;break;case"object":switch(w.$$typeof){case u:case i:_e=!0}}if(_e)return _e=w,he=he(_e),w=le===""?"."+gt(_e,0):le,rt(he)?(te="",w!=null&&(te=w.replace(Yt,"$&/")+"/"),xe(he,I,te,"",function(Ke){return Ke})):he!=null&&(Tt(he)&&(he=Ze(he,te+(!he.key||_e&&_e.key===he.key?"":(""+he.key).replace(Yt,"$&/")+"/")+w)),I.push(he)),1;if(_e=0,le=le===""?".":le+":",rt(w))for(var Te=0;Te<w.length;Te++){ge=w[Te];var Pe=le+gt(ge,Te);_e+=xe(ge,I,te,Pe,he)}else if(Pe=ne(w),typeof Pe=="function")for(w=Pe.call(w),Te=0;!(ge=w.next()).done;)ge=ge.value,Pe=le+gt(ge,Te++),_e+=xe(ge,I,te,Pe,he);else if(ge==="object")throw I=String(w),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return _e}function ct(w,I,te){if(w==null)return w;var le=[],he=0;return xe(w,le,"","",function(ge){return I.call(te,ge,he++)}),le}function it(w){if(w._status===-1){var I=w._result;I=I(),I.then(function(te){(w._status===0||w._status===-1)&&(w._status=1,w._result=te)},function(te){(w._status===0||w._status===-1)&&(w._status=2,w._result=te)}),w._status===-1&&(w._status=0,w._result=I)}if(w._status===1)return w._result.default;throw w._result}var Re={current:null},U={transition:null},ee={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:U,ReactCurrentOwner:$e};function V(){throw Error("act(...) is not supported in production builds of React.")}return ae.Children={map:ct,forEach:function(w,I,te){ct(w,function(){I.apply(this,arguments)},te)},count:function(w){var I=0;return ct(w,function(){I++}),I},toArray:function(w){return ct(w,function(I){return I})||[]},only:function(w){if(!Tt(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ae.Component=J,ae.Fragment=s,ae.Profiler=p,ae.PureComponent=Le,ae.StrictMode=a,ae.Suspense=y,ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,ae.act=V,ae.cloneElement=function(w,I,te){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var le=F({},w.props),he=w.key,ge=w.ref,_e=w._owner;if(I!=null){if(I.ref!==void 0&&(ge=I.ref,_e=$e.current),I.key!==void 0&&(he=""+I.key),w.type&&w.type.defaultProps)var Te=w.type.defaultProps;for(Pe in I)$.call(I,Pe)&&!He.hasOwnProperty(Pe)&&(le[Pe]=I[Pe]===void 0&&Te!==void 0?Te[Pe]:I[Pe])}var Pe=arguments.length-2;if(Pe===1)le.children=te;else if(1<Pe){Te=Array(Pe);for(var Ke=0;Ke<Pe;Ke++)Te[Ke]=arguments[Ke+2];le.children=Te}return{$$typeof:u,type:w.type,key:he,ref:ge,props:le,_owner:_e}},ae.createContext=function(w){return w={$$typeof:S,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:h,_context:w},w.Consumer=w},ae.createElement=Oe,ae.createFactory=function(w){var I=Oe.bind(null,w);return I.type=w,I},ae.createRef=function(){return{current:null}},ae.forwardRef=function(w){return{$$typeof:R,render:w}},ae.isValidElement=Tt,ae.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:it}},ae.memo=function(w,I){return{$$typeof:P,type:w,compare:I===void 0?null:I}},ae.startTransition=function(w){var I=U.transition;U.transition={};try{w()}finally{U.transition=I}},ae.unstable_act=V,ae.useCallback=function(w,I){return Re.current.useCallback(w,I)},ae.useContext=function(w){return Re.current.useContext(w)},ae.useDebugValue=function(){},ae.useDeferredValue=function(w){return Re.current.useDeferredValue(w)},ae.useEffect=function(w,I){return Re.current.useEffect(w,I)},ae.useId=function(){return Re.current.useId()},ae.useImperativeHandle=function(w,I,te){return Re.current.useImperativeHandle(w,I,te)},ae.useInsertionEffect=function(w,I){return Re.current.useInsertionEffect(w,I)},ae.useLayoutEffect=function(w,I){return Re.current.useLayoutEffect(w,I)},ae.useMemo=function(w,I){return Re.current.useMemo(w,I)},ae.useReducer=function(w,I,te){return Re.current.useReducer(w,I,te)},ae.useRef=function(w){return Re.current.useRef(w)},ae.useState=function(w){return Re.current.useState(w)},ae.useSyncExternalStore=function(w,I,te){return Re.current.useSyncExternalStore(w,I,te)},ae.useTransition=function(){return Re.current.useTransition()},ae.version="18.3.1",ae}var Zc;function Ia(){return Zc||(Zc=1,ga.exports=np()),ga.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function rp(){if(ed)return Ss;ed=1;var u=Ia(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,p=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function S(R,y,P){var b,B={},ne=null,W=null;P!==void 0&&(ne=""+P),y.key!==void 0&&(ne=""+y.key),y.ref!==void 0&&(W=y.ref);for(b in y)a.call(y,b)&&!h.hasOwnProperty(b)&&(B[b]=y[b]);if(R&&R.defaultProps)for(b in y=R.defaultProps,y)B[b]===void 0&&(B[b]=y[b]);return{$$typeof:i,type:R,key:ne,ref:W,props:B,_owner:p.current}}return Ss.Fragment=s,Ss.jsx=S,Ss.jsxs=S,Ss}var td;function ip(){return td||(td=1,ma.exports=rp()),ma.exports}var c=ip(),Ro={},ya={exports:{}},Ot={},va={exports:{}},xa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function sp(){return nd||(nd=1,(function(u){function i(U,ee){var V=U.length;U.push(ee);e:for(;0<V;){var w=V-1>>>1,I=U[w];if(0<p(I,ee))U[w]=ee,U[V]=I,V=w;else break e}}function s(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var ee=U[0],V=U.pop();if(V!==ee){U[0]=V;e:for(var w=0,I=U.length,te=I>>>1;w<te;){var le=2*(w+1)-1,he=U[le],ge=le+1,_e=U[ge];if(0>p(he,V))ge<I&&0>p(_e,he)?(U[w]=_e,U[ge]=V,w=ge):(U[w]=he,U[le]=V,w=le);else if(ge<I&&0>p(_e,V))U[w]=_e,U[ge]=V,w=ge;else break e}}return ee}function p(U,ee){var V=U.sortIndex-ee.sortIndex;return V!==0?V:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;u.unstable_now=function(){return h.now()}}else{var S=Date,R=S.now();u.unstable_now=function(){return S.now()-R}}var y=[],P=[],b=1,B=null,ne=3,W=!1,F=!1,N=!1,J=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,Le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function jt(U){for(var ee=s(P);ee!==null;){if(ee.callback===null)a(P);else if(ee.startTime<=U)a(P),ee.sortIndex=ee.expirationTime,i(y,ee);else break;ee=s(P)}}function rt(U){if(N=!1,jt(U),!F)if(s(y)!==null)F=!0,it($);else{var ee=s(P);ee!==null&&Re(rt,ee.startTime-U)}}function $(U,ee){F=!1,N&&(N=!1,Ee(Oe),Oe=-1),W=!0;var V=ne;try{for(jt(ee),B=s(y);B!==null&&(!(B.expirationTime>ee)||U&&!mt());){var w=B.callback;if(typeof w=="function"){B.callback=null,ne=B.priorityLevel;var I=w(B.expirationTime<=ee);ee=u.unstable_now(),typeof I=="function"?B.callback=I:B===s(y)&&a(y),jt(ee)}else a(y);B=s(y)}if(B!==null)var te=!0;else{var le=s(P);le!==null&&Re(rt,le.startTime-ee),te=!1}return te}finally{B=null,ne=V,W=!1}}var $e=!1,He=null,Oe=-1,Ze=5,Tt=-1;function mt(){return!(u.unstable_now()-Tt<Ze)}function Yt(){if(He!==null){var U=u.unstable_now();Tt=U;var ee=!0;try{ee=He(!0,U)}finally{ee?gt():($e=!1,He=null)}}else $e=!1}var gt;if(typeof Le=="function")gt=function(){Le(Yt)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ct=xe.port2;xe.port1.onmessage=Yt,gt=function(){ct.postMessage(null)}}else gt=function(){J(Yt,0)};function it(U){He=U,$e||($e=!0,gt())}function Re(U,ee){Oe=J(function(){U(u.unstable_now())},ee)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(U){U.callback=null},u.unstable_continueExecution=function(){F||W||(F=!0,it($))},u.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ze=0<U?Math.floor(1e3/U):5},u.unstable_getCurrentPriorityLevel=function(){return ne},u.unstable_getFirstCallbackNode=function(){return s(y)},u.unstable_next=function(U){switch(ne){case 1:case 2:case 3:var ee=3;break;default:ee=ne}var V=ne;ne=ee;try{return U()}finally{ne=V}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=ne;ne=U;try{return ee()}finally{ne=V}},u.unstable_scheduleCallback=function(U,ee,V){var w=u.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?w+V:w):V=w,U){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=V+I,U={id:b++,callback:ee,priorityLevel:U,startTime:V,expirationTime:I,sortIndex:-1},V>w?(U.sortIndex=V,i(P,U),s(y)===null&&U===s(P)&&(N?(Ee(Oe),Oe=-1):N=!0,Re(rt,V-w))):(U.sortIndex=I,i(y,U),F||W||(F=!0,it($))),U},u.unstable_shouldYield=mt,u.unstable_wrapCallback=function(U){var ee=ne;return function(){var V=ne;ne=ee;try{return U.apply(this,arguments)}finally{ne=V}}}})(xa)),xa}var rd;function op(){return rd||(rd=1,va.exports=sp()),va.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function lp(){if(id)return Ot;id=1;var u=Ia(),i=op();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,p={};function h(e,t){S(e,t),S(e+"Capture",t)}function S(e,t){for(p[e]=t,e=0;e<t.length;e++)a.add(t[e])}var R=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},B={};function ne(e){return y.call(B,e)?!0:y.call(b,e)?!1:P.test(e)?B[e]=!0:(b[e]=!0,!1)}function W(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F(e,t,n,r){if(t===null||typeof t>"u"||W(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,n,r,o,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var J={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){J[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];J[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){J[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){J[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){J[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){J[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){J[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){J[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){J[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ee=/[\-:]([a-z])/g;function Le(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ee,Le);J[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ee,Le);J[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ee,Le);J[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){J[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),J.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){J[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function jt(e,t,n,r){var o=J.hasOwnProperty(t)?J[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F(t,n,o,r)&&(n=null),r||o===null?ne(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rt=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),$e=Symbol.for("react.portal"),He=Symbol.for("react.fragment"),Oe=Symbol.for("react.strict_mode"),Ze=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),mt=Symbol.for("react.context"),Yt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),ct=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),U=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,w;function I(e){if(w===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var te=!1;function le(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var r=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){r=_}e.call(t.prototype)}else{try{throw Error()}catch(_){r=_}e()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var o=_.stack.split(`
`),l=r.stack.split(`
`),d=o.length-1,m=l.length-1;1<=d&&0<=m&&o[d]!==l[m];)m--;for(;1<=d&&0<=m;d--,m--)if(o[d]!==l[m]){if(d!==1||m!==1)do if(d--,m--,0>m||o[d]!==l[m]){var v=`
`+o[d].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=d&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function he(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case He:return"Fragment";case $e:return"Portal";case Ze:return"Profiler";case Oe:return"StrictMode";case gt:return"Suspense";case xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mt:return(e.displayName||"Context")+".Consumer";case Tt:return(e._context.displayName||"Context")+".Provider";case Yt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ct:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case it:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}function _e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(t);case 8:return t===Oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Te(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ke(e){var t=Pe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){r=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hr(e){e._valueTracker||(e._valueTracker=Ke(e))}function mr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _s(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pn(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Te(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ar(e,t){t=t.checked,t!=null&&jt(e,"checked",t,!1)}function hn(e,t){Ar(e,t);var n=Te(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ei(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ei(e,t.type,Te(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ei(e,t,n){(t!=="number"||_i(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _n=Array.isArray;function st(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Te(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Br(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(_n(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Te(n)}}function Dr(e,t){var n=Te(t.value),r=Te(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ft,Es=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ft=ft||document.createElement("div"),ft.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ft.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(e){Mr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xt[t]=Xt[e]})});function Wr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xt.hasOwnProperty(e)&&Xt[e]?(""+t).trim():t+"px"}function we(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Wr(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Hn=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fe(e,t){if(t){if(Hn[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Ri(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=null;function Ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ur=null,Vn=null,Mt=null;function Oi(e){if(e=os(e)){if(typeof Ur!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Hs(t),Ur(e.stateNode,e.type,t))}}function $r(e){Vn?Mt?Mt.push(e):Mt=[e]:Vn=e}function Ii(){if(Vn){var e=Vn,t=Mt;if(Mt=Vn=null,Oi(e),t)for(e=0;e<t.length;e++)Oi(t[e])}}function zi(e,t){return e(t)}function Li(){}var Hr=!1;function Ps(e,t,n){if(Hr)return e(t,n);Hr=!0;try{return zi(e,t,n)}finally{Hr=!1,(Vn!==null||Mt!==null)&&(Li(),Ii())}}function qn(e,t){var n=e.stateNode;if(n===null)return null;var r=Hs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Ai=!1;if(R)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{Ai=!1}function Fo(e,t,n,r,o,l,d,m,v){var _=Array.prototype.slice.call(arguments,3);try{t.apply(n,_)}catch(L){this.onError(L)}}var En=!1,Vr=null,Pn=!1,Bi=null,bs={onError:function(e){En=!0,Vr=e}};function Rs(e,t,n,r,o,l,d,m,v){En=!1,Vr=null,Fo.apply(bs,arguments)}function De(e,t,n,r,o,l,d,m,v){if(Rs.apply(this,arguments),En){if(En){var _=Vr;En=!1,Vr=null}else throw Error(s(198));Pn||(Pn=!0,Bi=_)}}function It(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Di(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qr(e){if(It(e)!==e)throw Error(s(188))}function Uo(e){var t=e.alternate;if(!t){if(t=It(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return qr(o),e;if(l===r)return qr(o),t;l=l.sibling}throw Error(s(188))}if(n.return!==r.return)n=o,r=l;else{for(var d=!1,m=o.child;m;){if(m===n){d=!0,n=o,r=l;break}if(m===r){d=!0,r=o,n=l;break}m=m.sibling}if(!d){for(m=l.child;m;){if(m===n){d=!0,n=l,r=o;break}if(m===r){d=!0,r=l,n=o;break}m=m.sibling}if(!d)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Ns(e){return e=Uo(e),e!==null?Gr(e):null}function Gr(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gr(e);if(t!==null)return t;e=e.sibling}return null}var Mi=i.unstable_scheduleCallback,Zt=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ma=i.unstable_requestPaint,be=i.unstable_now,Qr=i.unstable_getCurrentPriorityLevel,Wi=i.unstable_ImmediatePriority,Fi=i.unstable_UserBlockingPriority,Ve=i.unstable_NormalPriority,Ui=i.unstable_LowPriority,yr=i.unstable_IdlePriority,Ae=null,Wt=null;function $o(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Ae,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:$i,Wa=Math.log,Fa=Math.LN2;function $i(e){return e>>>=0,e===0?32:31-(Wa(e)/Fa|0)|0}var Hi=64,en=4194304;function Qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,d=n&268435455;if(d!==0){var m=d&~o;m!==0?r=Qn(m):(l&=d,l!==0&&(r=Qn(l)))}else d=n&~o,d!==0?r=Qn(d):l!==0&&(r=Qn(l));if(r===0)return 0;if(t!==0&&t!==r&&(t&o)===0&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),o=1<<n,r|=e[n],t&=~o;return r}function Ua(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-zt(l),m=1<<d,v=o[d];v===-1?((m&n)===0||(m&r)!==0)&&(o[d]=Ua(m,t)):v<=t&&(e.expiredLanes|=m),l&=~m}}function Kr(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function et(){var e=Hi;return Hi<<=1,(Hi&4194240)===0&&(Hi=64),e}function Kn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function Jr(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-zt(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function qi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Se=0;function xr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var gn,Gi,Is,zs,Yr,Ft=!1,qe=[],yt=null,yn=null,tn=null,bn=new Map,vn=new Map,xn=[],Ho="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qi(e,t){switch(e){case"focusin":case"focusout":yt=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(t.pointerId)}}function wr(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=os(t),t!==null&&Gi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Vo(e,t,n,r,o){switch(t){case"focusin":return yt=wr(yt,e,t,n,r,o),!0;case"dragenter":return yn=wr(yn,e,t,n,r,o),!0;case"mouseover":return tn=wr(tn,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return bn.set(l,wr(bn.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,vn.set(l,wr(vn.get(l)||null,e,t,n,r,o)),!0}return!1}function Rn(e){var t=Tr(e.target);if(t!==null){var n=It(t);if(n!==null){if(t=n.tag,t===13){if(t=Di(n),t!==null){e.blockedOn=t,Yr(e.priority,function(){Is(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ki(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fr=r,n.target.dispatchEvent(r),Fr=null}else return t=os(n),t!==null&&Gi(t),e.blockedOn=n,!1;t.shift()}return!0}function Ls(e,t,n){Sr(e)&&n.delete(t)}function kr(){Ft=!1,yt!==null&&Sr(yt)&&(yt=null),yn!==null&&Sr(yn)&&(yn=null),tn!==null&&Sr(tn)&&(tn=null),bn.forEach(Ls),vn.forEach(Ls)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ft||(Ft=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,kr)))}function Jn(e){function t(o){return jr(o,e)}if(0<qe.length){jr(qe[0],e);for(var n=1;n<qe.length;n++){var r=qe[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yt!==null&&jr(yt,e),yn!==null&&jr(yn,e),tn!==null&&jr(tn,e),bn.forEach(t),vn.forEach(t),n=0;n<xn.length;n++)r=xn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<xn.length&&(n=xn[0],n.blockedOn===null);)Rn(n),n.blockedOn===null&&xn.shift()}var Nn=rt.ReactCurrentBatchConfig,Xr=!0;function qo(e,t,n,r){var o=Se,l=Nn.transition;Nn.transition=null;try{Se=1,Zr(e,t,n,r)}finally{Se=o,Nn.transition=l}}function As(e,t,n,r){var o=Se,l=Nn.transition;Nn.transition=null;try{Se=4,Zr(e,t,n,r)}finally{Se=o,Nn.transition=l}}function Zr(e,t,n,r){if(Xr){var o=Ki(e,t,n,r);if(o===null)sl(e,t,r,ei,n),Qi(e,r);else if(Vo(o,e,t,n,r))r.stopPropagation();else if(Qi(e,r),t&4&&-1<Ho.indexOf(e)){for(;o!==null;){var l=os(o);if(l!==null&&gn(l),l=Ki(e,t,n,r),l===null&&sl(e,t,r,ei,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else sl(e,t,r,null,n)}}var ei=null;function Ki(e,t,n,r){if(ei=null,e=Ni(r),e=Tr(e),e!==null)if(t=It(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Di(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function Ji(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qr()){case Wi:return 1;case Fi:return 4;case Ve:case Ui:return 16;case yr:return 536870912;default:return 16}default:return 16}}var f=null,g=null,j=null;function E(){if(j)return j;var e,t=g,n=t.length,r,o="value"in f?f.value:f.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var d=n-e;for(r=1;r<=d&&t[n-r]===o[l-r];r++);return j=o.slice(e,1<r?1-r:void 0)}function C(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function M(){return!0}function Q(){return!1}function G(e){function t(n,r,o,l,d){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(l):l[m]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?M:Q,this.isPropagationStopped=Q,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=M)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=M)},persist:function(){},isPersistent:M}),t}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ue=G(ce),Ge=V({},ce,{view:0,detail:0}),On=G(Ge),In,nn,Z,de=V({},Ge,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Z&&(Z&&e.type==="mousemove"?(In=e.screenX-Z.screenX,nn=e.screenY-Z.screenY):nn=In=0,Z=e),In)},movementY:function(e){return"movementY"in e?e.movementY:nn}}),Lt=G(de),vt=V({},de,{dataTransfer:0}),Ce=G(vt),rn=V({},Ge,{relatedTarget:0}),sn=G(rn),fe=V({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),ye=G(fe),Ut=V({},ce,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ti=G(Ut),ni=V({},ce,{data:0}),zn=G(ni),Go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dd[e])?!!t[e]:!1}function Qo(){return Md}var Wd=V({},Ge,{key:function(e){if(e.key){var t=Go[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=C(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(e){return e.type==="keypress"?C(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?C(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fd=G(Wd),Ud=V({},de,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$a=G(Ud),$d=V({},Ge,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Hd=G($d),Vd=V({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),qd=G(Vd),Gd=V({},de,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qd=G(Gd),Kd=[9,13,27,32],Ko=R&&"CompositionEvent"in window,Yi=null;R&&"documentMode"in document&&(Yi=document.documentMode);var Jd=R&&"TextEvent"in window&&!Yi,Ha=R&&(!Ko||Yi&&8<Yi&&11>=Yi),Va=" ",qa=!1;function Ga(e,t){switch(e){case"keyup":return Kd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ri=!1;function Yd(e,t){switch(e){case"compositionend":return Qa(t);case"keypress":return t.which!==32?null:(qa=!0,Va);case"textInput":return e=t.data,e===Va&&qa?null:e;default:return null}}function Xd(e,t){if(ri)return e==="compositionend"||!Ko&&Ga(e,t)?(e=E(),j=g=f=null,ri=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ha&&t.locale!=="ko"?null:t.data;default:return null}}var Zd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ka(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zd[e.type]:t==="textarea"}function Ja(e,t,n,r){$r(r),t=Fs(t,"onChange"),0<t.length&&(n=new ue("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xi=null,Zi=null;function ef(e){hu(e,0)}function Bs(e){var t=ai(e);if(mr(t))return e}function tf(e,t){if(e==="change")return t}var Ya=!1;if(R){var Jo;if(R){var Yo="oninput"in document;if(!Yo){var Xa=document.createElement("div");Xa.setAttribute("oninput","return;"),Yo=typeof Xa.oninput=="function"}Jo=Yo}else Jo=!1;Ya=Jo&&(!document.documentMode||9<document.documentMode)}function Za(){Xi&&(Xi.detachEvent("onpropertychange",eu),Zi=Xi=null)}function eu(e){if(e.propertyName==="value"&&Bs(Zi)){var t=[];Ja(t,Zi,e,Ni(e)),Ps(ef,t)}}function nf(e,t,n){e==="focusin"?(Za(),Xi=t,Zi=n,Xi.attachEvent("onpropertychange",eu)):e==="focusout"&&Za()}function rf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bs(Zi)}function sf(e,t){if(e==="click")return Bs(t)}function of(e,t){if(e==="input"||e==="change")return Bs(t)}function lf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:lf;function es(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!y.call(t,o)||!on(e[o],t[o]))return!1}return!0}function tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nu(e,t){var n=tu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tu(n)}}function ru(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ru(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iu(){for(var e=window,t=_i();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_i(e.document)}return t}function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function af(e){var t=iu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ru(n.ownerDocument.documentElement,n)){if(r!==null&&Xo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=nu(n,l);var d=nu(n,r);o&&d&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uf=R&&"documentMode"in document&&11>=document.documentMode,ii=null,Zo=null,ts=null,el=!1;function su(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;el||ii==null||ii!==_i(r)||(r=ii,"selectionStart"in r&&Xo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ts&&es(ts,r)||(ts=r,r=Fs(Zo,"onSelect"),0<r.length&&(t=new ue("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ii)))}function Ds(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var si={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},tl={},ou={};R&&(ou=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function Ms(e){if(tl[e])return tl[e];if(!si[e])return e;var t=si[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ou)return tl[e]=t[n];return e}var lu=Ms("animationend"),au=Ms("animationiteration"),uu=Ms("animationstart"),cu=Ms("transitionend"),du=new Map,fu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){du.set(e,t),h(t,[e])}for(var nl=0;nl<fu.length;nl++){var rl=fu[nl],cf=rl.toLowerCase(),df=rl[0].toUpperCase()+rl.slice(1);Yn(cf,"on"+df)}Yn(lu,"onAnimationEnd"),Yn(au,"onAnimationIteration"),Yn(uu,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(cu,"onTransitionEnd"),S("onMouseEnter",["mouseout","mouseover"]),S("onMouseLeave",["mouseout","mouseover"]),S("onPointerEnter",["pointerout","pointerover"]),S("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ff=new Set("cancel close invalid load scroll toggle".split(" ").concat(ns));function pu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,De(r,t,void 0,e),e.currentTarget=null}function hu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var d=r.length-1;0<=d;d--){var m=r[d],v=m.instance,_=m.currentTarget;if(m=m.listener,v!==l&&o.isPropagationStopped())break e;pu(o,m,_),l=v}else for(d=0;d<r.length;d++){if(m=r[d],v=m.instance,_=m.currentTarget,m=m.listener,v!==l&&o.isPropagationStopped())break e;pu(o,m,_),l=v}}}if(Pn)throw e=Bi,Pn=!1,Bi=null,e}function Ie(e,t){var n=t[dl];n===void 0&&(n=t[dl]=new Set);var r=e+"__bubble";n.has(r)||(mu(t,e,2,!1),n.add(r))}function il(e,t,n){var r=0;t&&(r|=4),mu(n,e,r,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function rs(e){if(!e[Ws]){e[Ws]=!0,a.forEach(function(n){n!=="selectionchange"&&(ff.has(n)||il(n,!1,e),il(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,il("selectionchange",!1,t))}}function mu(e,t,n,r){switch(Ji(t)){case 1:var o=qo;break;case 4:o=As;break;default:o=Zr}n=o.bind(null,t,n,e),o=void 0,!Ai||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function sl(e,t,n,r,o){var l=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var m=r.stateNode.containerInfo;if(m===o||m.nodeType===8&&m.parentNode===o)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&(v=d.stateNode.containerInfo,v===o||v.nodeType===8&&v.parentNode===o))return;d=d.return}for(;m!==null;){if(d=Tr(m),d===null)return;if(v=d.tag,v===5||v===6){r=l=d;continue e}m=m.parentNode}}r=r.return}Ps(function(){var _=l,L=Ni(n),A=[];e:{var z=du.get(e);if(z!==void 0){var H=ue,K=e;switch(e){case"keypress":if(C(n)===0)break e;case"keydown":case"keyup":H=Fd;break;case"focusin":K="focus",H=sn;break;case"focusout":K="blur",H=sn;break;case"beforeblur":case"afterblur":H=sn;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Lt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ce;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Hd;break;case lu:case au:case uu:H=ye;break;case cu:H=qd;break;case"scroll":H=On;break;case"wheel":H=Qd;break;case"copy":case"cut":case"paste":H=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$a}var Y=(t&4)!==0,Qe=!Y&&e==="scroll",k=Y?z!==null?z+"Capture":null:z;Y=[];for(var x=_,T;x!==null;){T=x;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,k!==null&&(D=qn(x,k),D!=null&&Y.push(is(x,D,T)))),Qe)break;x=x.return}0<Y.length&&(z=new H(z,K,null,n,L),A.push({event:z,listeners:Y}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&n!==Fr&&(K=n.relatedTarget||n.fromElement)&&(Tr(K)||K[Ln]))break e;if((H||z)&&(z=L.window===L?L:(z=L.ownerDocument)?z.defaultView||z.parentWindow:window,H?(K=n.relatedTarget||n.toElement,H=_,K=K?Tr(K):null,K!==null&&(Qe=It(K),K!==Qe||K.tag!==5&&K.tag!==6)&&(K=null)):(H=null,K=_),H!==K)){if(Y=Lt,D="onMouseLeave",k="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Y=$a,D="onPointerLeave",k="onPointerEnter",x="pointer"),Qe=H==null?z:ai(H),T=K==null?z:ai(K),z=new Y(D,x+"leave",H,n,L),z.target=Qe,z.relatedTarget=T,D=null,Tr(L)===_&&(Y=new Y(k,x+"enter",K,n,L),Y.target=T,Y.relatedTarget=Qe,D=Y),Qe=D,H&&K)t:{for(Y=H,k=K,x=0,T=Y;T;T=oi(T))x++;for(T=0,D=k;D;D=oi(D))T++;for(;0<x-T;)Y=oi(Y),x--;for(;0<T-x;)k=oi(k),T--;for(;x--;){if(Y===k||k!==null&&Y===k.alternate)break t;Y=oi(Y),k=oi(k)}Y=null}else Y=null;H!==null&&gu(A,z,H,Y,!1),K!==null&&Qe!==null&&gu(A,Qe,K,Y,!0)}}e:{if(z=_?ai(_):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var X=tf;else if(Ka(z))if(Ya)X=of;else{X=rf;var re=nf}else(H=z.nodeName)&&H.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(X=sf);if(X&&(X=X(e,_))){Ja(A,X,n,L);break e}re&&re(e,z,_),e==="focusout"&&(re=z._wrapperState)&&re.controlled&&z.type==="number"&&Ei(z,"number",z.value)}switch(re=_?ai(_):window,e){case"focusin":(Ka(re)||re.contentEditable==="true")&&(ii=re,Zo=_,ts=null);break;case"focusout":ts=Zo=ii=null;break;case"mousedown":el=!0;break;case"contextmenu":case"mouseup":case"dragend":el=!1,su(A,n,L);break;case"selectionchange":if(uf)break;case"keydown":case"keyup":su(A,n,L)}var ie;if(Ko)e:{switch(e){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else ri?Ga(e,n)&&(se="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(se="onCompositionStart");se&&(Ha&&n.locale!=="ko"&&(ri||se!=="onCompositionStart"?se==="onCompositionEnd"&&ri&&(ie=E()):(f=L,g="value"in f?f.value:f.textContent,ri=!0)),re=Fs(_,se),0<re.length&&(se=new zn(se,e,null,n,L),A.push({event:se,listeners:re}),ie?se.data=ie:(ie=Qa(n),ie!==null&&(se.data=ie)))),(ie=Jd?Yd(e,n):Xd(e,n))&&(_=Fs(_,"onBeforeInput"),0<_.length&&(L=new zn("onBeforeInput","beforeinput",null,n,L),A.push({event:L,listeners:_}),L.data=ie))}hu(A,t)})}function is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fs(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=qn(e,n),l!=null&&r.unshift(is(e,l,o)),l=qn(e,t),l!=null&&r.push(is(e,l,o))),e=e.return}return r}function oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gu(e,t,n,r,o){for(var l=t._reactName,d=[];n!==null&&n!==r;){var m=n,v=m.alternate,_=m.stateNode;if(v!==null&&v===r)break;m.tag===5&&_!==null&&(m=_,o?(v=qn(n,l),v!=null&&d.unshift(is(n,v,m))):o||(v=qn(n,l),v!=null&&d.push(is(n,v,m)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var pf=/\r\n?/g,hf=/\u0000|\uFFFD/g;function yu(e){return(typeof e=="string"?e:""+e).replace(pf,`
`).replace(hf,"")}function Us(e,t,n){if(t=yu(t),yu(e)!==t&&n)throw Error(s(425))}function $s(){}var ol=null,ll=null;function al(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,mf=typeof clearTimeout=="function"?clearTimeout:void 0,vu=typeof Promise=="function"?Promise:void 0,gf=typeof queueMicrotask=="function"?queueMicrotask:typeof vu<"u"?function(e){return vu.resolve(null).then(e).catch(yf)}:ul;function yf(e){setTimeout(function(){throw e})}function cl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Jn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Jn(t)}function Xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),wn="__reactFiber$"+li,ss="__reactProps$"+li,Ln="__reactContainer$"+li,dl="__reactEvents$"+li,vf="__reactListeners$"+li,xf="__reactHandles$"+li;function Tr(e){var t=e[wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ln]||n[wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xu(e);e!==null;){if(n=e[wn])return n;e=xu(e)}return t}e=n,n=e.parentNode}return null}function os(e){return e=e[wn]||e[Ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ai(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Hs(e){return e[ss]||null}var fl=[],ui=-1;function Zn(e){return{current:e}}function ze(e){0>ui||(e.current=fl[ui],fl[ui]=null,ui--)}function Ne(e,t){ui++,fl[ui]=e.current,e.current=t}var er={},xt=Zn(er),Et=Zn(!1),Cr=er;function ci(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pt(e){return e=e.childContextTypes,e!=null}function Vs(){ze(Et),ze(xt)}function wu(e,t,n){if(xt.current!==er)throw Error(s(168));Ne(xt,t),Ne(Et,n)}function Su(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(s(108,_e(e)||"Unknown",o));return V({},n,r)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Cr=xt.current,Ne(xt,e),Ne(Et,Et.current),!0}function ku(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Su(e,t,Cr),r.__reactInternalMemoizedMergedChildContext=e,ze(Et),ze(xt),Ne(xt,e)):ze(Et),Ne(Et,n)}var An=null,Gs=!1,pl=!1;function ju(e){An===null?An=[e]:An.push(e)}function wf(e){Gs=!0,ju(e)}function tr(){if(!pl&&An!==null){pl=!0;var e=0,t=Se;try{var n=An;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}An=null,Gs=!1}catch(o){throw An!==null&&(An=An.slice(e+1)),Mi(Wi,tr),o}finally{Se=t,pl=!1}}return null}var di=[],fi=0,Qs=null,Ks=0,$t=[],Ht=0,_r=null,Bn=1,Dn="";function Er(e,t){di[fi++]=Ks,di[fi++]=Qs,Qs=e,Ks=t}function Tu(e,t,n){$t[Ht++]=Bn,$t[Ht++]=Dn,$t[Ht++]=_r,_r=e;var r=Bn;e=Dn;var o=32-zt(r)-1;r&=~(1<<o),n+=1;var l=32-zt(t)+o;if(30<l){var d=o-o%5;l=(r&(1<<d)-1).toString(32),r>>=d,o-=d,Bn=1<<32-zt(t)+o|n<<o|r,Dn=l+e}else Bn=1<<l|n<<o|r,Dn=e}function hl(e){e.return!==null&&(Er(e,1),Tu(e,1,0))}function ml(e){for(;e===Qs;)Qs=di[--fi],di[fi]=null,Ks=di[--fi],di[fi]=null;for(;e===_r;)_r=$t[--Ht],$t[Ht]=null,Dn=$t[--Ht],$t[Ht]=null,Bn=$t[--Ht],$t[Ht]=null}var At=null,Bt=null,Be=!1,ln=null;function Cu(e,t){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _u(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,Bt=Xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_r!==null?{id:Bn,overflow:Dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,At=e,Bt=null,!0):!1;default:return!1}}function gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yl(e){if(Be){var t=Bt;if(t){var n=t;if(!_u(e,t)){if(gl(e))throw Error(s(418));t=Xn(n.nextSibling);var r=At;t&&_u(e,t)?Cu(r,n):(e.flags=e.flags&-4097|2,Be=!1,At=e)}}else{if(gl(e))throw Error(s(418));e.flags=e.flags&-4097|2,Be=!1,At=e}}}function Eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function Js(e){if(e!==At)return!1;if(!Be)return Eu(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!al(e.type,e.memoizedProps)),t&&(t=Bt)){if(gl(e))throw Pu(),Error(s(418));for(;t;)Cu(e,t),t=Xn(t.nextSibling)}if(Eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bt=Xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=At?Xn(e.stateNode.nextSibling):null;return!0}function Pu(){for(var e=Bt;e;)e=Xn(e.nextSibling)}function pi(){Bt=At=null,Be=!1}function vl(e){ln===null?ln=[e]:ln.push(e)}var Sf=rt.ReactCurrentBatchConfig;function ls(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var m=o.refs;d===null?delete m[l]:m[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bu(e){var t=e._init;return t(e._payload)}function Ru(e){function t(k,x){if(e){var T=k.deletions;T===null?(k.deletions=[x],k.flags|=16):T.push(x)}}function n(k,x){if(!e)return null;for(;x!==null;)t(k,x),x=x.sibling;return null}function r(k,x){for(k=new Map;x!==null;)x.key!==null?k.set(x.key,x):k.set(x.index,x),x=x.sibling;return k}function o(k,x){return k=ur(k,x),k.index=0,k.sibling=null,k}function l(k,x,T){return k.index=T,e?(T=k.alternate,T!==null?(T=T.index,T<x?(k.flags|=2,x):T):(k.flags|=2,x)):(k.flags|=1048576,x)}function d(k){return e&&k.alternate===null&&(k.flags|=2),k}function m(k,x,T,D){return x===null||x.tag!==6?(x=ua(T,k.mode,D),x.return=k,x):(x=o(x,T),x.return=k,x)}function v(k,x,T,D){var X=T.type;return X===He?L(k,x,T.props.children,D,T.key):x!==null&&(x.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===it&&bu(X)===x.type)?(D=o(x,T.props),D.ref=ls(k,x,T),D.return=k,D):(D=ko(T.type,T.key,T.props,null,k.mode,D),D.ref=ls(k,x,T),D.return=k,D)}function _(k,x,T,D){return x===null||x.tag!==4||x.stateNode.containerInfo!==T.containerInfo||x.stateNode.implementation!==T.implementation?(x=ca(T,k.mode,D),x.return=k,x):(x=o(x,T.children||[]),x.return=k,x)}function L(k,x,T,D,X){return x===null||x.tag!==7?(x=Lr(T,k.mode,D,X),x.return=k,x):(x=o(x,T),x.return=k,x)}function A(k,x,T){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ua(""+x,k.mode,T),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $:return T=ko(x.type,x.key,x.props,null,k.mode,T),T.ref=ls(k,null,x),T.return=k,T;case $e:return x=ca(x,k.mode,T),x.return=k,x;case it:var D=x._init;return A(k,D(x._payload),T)}if(_n(x)||ee(x))return x=Lr(x,k.mode,T,null),x.return=k,x;Ys(k,x)}return null}function z(k,x,T,D){var X=x!==null?x.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return X!==null?null:m(k,x,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case $:return T.key===X?v(k,x,T,D):null;case $e:return T.key===X?_(k,x,T,D):null;case it:return X=T._init,z(k,x,X(T._payload),D)}if(_n(T)||ee(T))return X!==null?null:L(k,x,T,D,null);Ys(k,T)}return null}function H(k,x,T,D,X){if(typeof D=="string"&&D!==""||typeof D=="number")return k=k.get(T)||null,m(x,k,""+D,X);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $:return k=k.get(D.key===null?T:D.key)||null,v(x,k,D,X);case $e:return k=k.get(D.key===null?T:D.key)||null,_(x,k,D,X);case it:var re=D._init;return H(k,x,T,re(D._payload),X)}if(_n(D)||ee(D))return k=k.get(T)||null,L(x,k,D,X,null);Ys(x,D)}return null}function K(k,x,T,D){for(var X=null,re=null,ie=x,se=x=0,at=null;ie!==null&&se<T.length;se++){ie.index>se?(at=ie,ie=null):at=ie.sibling;var ke=z(k,ie,T[se],D);if(ke===null){ie===null&&(ie=at);break}e&&ie&&ke.alternate===null&&t(k,ie),x=l(ke,x,se),re===null?X=ke:re.sibling=ke,re=ke,ie=at}if(se===T.length)return n(k,ie),Be&&Er(k,se),X;if(ie===null){for(;se<T.length;se++)ie=A(k,T[se],D),ie!==null&&(x=l(ie,x,se),re===null?X=ie:re.sibling=ie,re=ie);return Be&&Er(k,se),X}for(ie=r(k,ie);se<T.length;se++)at=H(ie,k,se,T[se],D),at!==null&&(e&&at.alternate!==null&&ie.delete(at.key===null?se:at.key),x=l(at,x,se),re===null?X=at:re.sibling=at,re=at);return e&&ie.forEach(function(cr){return t(k,cr)}),Be&&Er(k,se),X}function Y(k,x,T,D){var X=ee(T);if(typeof X!="function")throw Error(s(150));if(T=X.call(T),T==null)throw Error(s(151));for(var re=X=null,ie=x,se=x=0,at=null,ke=T.next();ie!==null&&!ke.done;se++,ke=T.next()){ie.index>se?(at=ie,ie=null):at=ie.sibling;var cr=z(k,ie,ke.value,D);if(cr===null){ie===null&&(ie=at);break}e&&ie&&cr.alternate===null&&t(k,ie),x=l(cr,x,se),re===null?X=cr:re.sibling=cr,re=cr,ie=at}if(ke.done)return n(k,ie),Be&&Er(k,se),X;if(ie===null){for(;!ke.done;se++,ke=T.next())ke=A(k,ke.value,D),ke!==null&&(x=l(ke,x,se),re===null?X=ke:re.sibling=ke,re=ke);return Be&&Er(k,se),X}for(ie=r(k,ie);!ke.done;se++,ke=T.next())ke=H(ie,k,se,ke.value,D),ke!==null&&(e&&ke.alternate!==null&&ie.delete(ke.key===null?se:ke.key),x=l(ke,x,se),re===null?X=ke:re.sibling=ke,re=ke);return e&&ie.forEach(function(ep){return t(k,ep)}),Be&&Er(k,se),X}function Qe(k,x,T,D){if(typeof T=="object"&&T!==null&&T.type===He&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case $:e:{for(var X=T.key,re=x;re!==null;){if(re.key===X){if(X=T.type,X===He){if(re.tag===7){n(k,re.sibling),x=o(re,T.props.children),x.return=k,k=x;break e}}else if(re.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===it&&bu(X)===re.type){n(k,re.sibling),x=o(re,T.props),x.ref=ls(k,re,T),x.return=k,k=x;break e}n(k,re);break}else t(k,re);re=re.sibling}T.type===He?(x=Lr(T.props.children,k.mode,D,T.key),x.return=k,k=x):(D=ko(T.type,T.key,T.props,null,k.mode,D),D.ref=ls(k,x,T),D.return=k,k=D)}return d(k);case $e:e:{for(re=T.key;x!==null;){if(x.key===re)if(x.tag===4&&x.stateNode.containerInfo===T.containerInfo&&x.stateNode.implementation===T.implementation){n(k,x.sibling),x=o(x,T.children||[]),x.return=k,k=x;break e}else{n(k,x);break}else t(k,x);x=x.sibling}x=ca(T,k.mode,D),x.return=k,k=x}return d(k);case it:return re=T._init,Qe(k,x,re(T._payload),D)}if(_n(T))return K(k,x,T,D);if(ee(T))return Y(k,x,T,D);Ys(k,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,x!==null&&x.tag===6?(n(k,x.sibling),x=o(x,T),x.return=k,k=x):(n(k,x),x=ua(T,k.mode,D),x.return=k,k=x),d(k)):n(k,x)}return Qe}var hi=Ru(!0),Nu=Ru(!1),Xs=Zn(null),Zs=null,mi=null,xl=null;function wl(){xl=mi=Zs=null}function Sl(e){var t=Xs.current;ze(Xs),e._currentValue=t}function kl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function gi(e,t){Zs=e,xl=mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(bt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(xl!==e)if(e={context:e,memoizedValue:t,next:null},mi===null){if(Zs===null)throw Error(s(308));mi=e,Zs.dependencies={lanes:0,firstContext:e}}else mi=mi.next=e;return t}var Pr=null;function jl(e){Pr===null?Pr=[e]:Pr.push(e)}function Ou(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,jl(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mn(e,r)}function Mn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nr=!1;function Tl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(ve&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mn(e,n)}return o=r.interleaved,o===null?(t.next=t,jl(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mn(e,n)}function eo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qi(e,n)}}function zu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=d:l=l.next=d,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function to(e,t,n,r){var o=e.updateQueue;nr=!1;var l=o.firstBaseUpdate,d=o.lastBaseUpdate,m=o.shared.pending;if(m!==null){o.shared.pending=null;var v=m,_=v.next;v.next=null,d===null?l=_:d.next=_,d=v;var L=e.alternate;L!==null&&(L=L.updateQueue,m=L.lastBaseUpdate,m!==d&&(m===null?L.firstBaseUpdate=_:m.next=_,L.lastBaseUpdate=v))}if(l!==null){var A=o.baseState;d=0,L=_=v=null,m=l;do{var z=m.lane,H=m.eventTime;if((r&z)===z){L!==null&&(L=L.next={eventTime:H,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var K=e,Y=m;switch(z=t,H=n,Y.tag){case 1:if(K=Y.payload,typeof K=="function"){A=K.call(H,A,z);break e}A=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=Y.payload,z=typeof K=="function"?K.call(H,A,z):K,z==null)break e;A=V({},A,z);break e;case 2:nr=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,z=o.effects,z===null?o.effects=[m]:z.push(m))}else H={eventTime:H,lane:z,tag:m.tag,payload:m.payload,callback:m.callback,next:null},L===null?(_=L=H,v=A):L=L.next=H,d|=z;if(m=m.next,m===null){if(m=o.shared.pending,m===null)break;z=m,m=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);if(L===null&&(v=A),o.baseState=v,o.firstBaseUpdate=_,o.lastBaseUpdate=L,t=o.shared.interleaved,t!==null){o=t;do d|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);Nr|=d,e.lanes=d,e.memoizedState=A}}function Lu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(s(191,o));o.call(r)}}}var as={},Sn=Zn(as),us=Zn(as),cs=Zn(as);function br(e){if(e===as)throw Error(s(174));return e}function Cl(e,t){switch(Ne(cs,t),Ne(us,e),Ne(Sn,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mn(t,e)}ze(Sn),Ne(Sn,t)}function yi(){ze(Sn),ze(us),ze(cs)}function Au(e){br(cs.current);var t=br(Sn.current),n=mn(t,e.type);t!==n&&(Ne(us,e),Ne(Sn,n))}function _l(e){us.current===e&&(ze(Sn),ze(us))}var Me=Zn(0);function no(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function Pl(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var ro=rt.ReactCurrentDispatcher,bl=rt.ReactCurrentBatchConfig,Rr=0,We=null,tt=null,ot=null,io=!1,ds=!1,fs=0,kf=0;function wt(){throw Error(s(321))}function Rl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Nl(e,t,n,r,o,l){if(Rr=l,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=e===null||e.memoizedState===null?_f:Ef,e=n(r,o),ds){l=0;do{if(ds=!1,fs=0,25<=l)throw Error(s(301));l+=1,ot=tt=null,t.updateQueue=null,ro.current=Pf,e=n(r,o)}while(ds)}if(ro.current=lo,t=tt!==null&&tt.next!==null,Rr=0,ot=tt=We=null,io=!1,t)throw Error(s(300));return e}function Ol(){var e=fs!==0;return fs=0,e}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?We.memoizedState=ot=e:ot=ot.next=e,ot}function qt(){if(tt===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=ot===null?We.memoizedState:ot.next;if(t!==null)ot=t,tt=e;else{if(e===null)throw Error(s(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ot===null?We.memoizedState=ot=e:ot=ot.next=e}return ot}function ps(e,t){return typeof t=="function"?t(e):t}function Il(e){var t=qt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=tt,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var d=o.next;o.next=l.next,l.next=d}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var m=d=null,v=null,_=l;do{var L=_.lane;if((Rr&L)===L)v!==null&&(v=v.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:e(r,_.action);else{var A={lane:L,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};v===null?(m=v=A,d=r):v=v.next=A,We.lanes|=L,Nr|=L}_=_.next}while(_!==null&&_!==l);v===null?d=r:v.next=m,on(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=d,t.baseQueue=v,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,We.lanes|=l,Nr|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zl(e){var t=qt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var d=o=o.next;do l=e(l,d.action),d=d.next;while(d!==o);on(l,t.memoizedState)||(bt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Bu(){}function Du(e,t){var n=We,r=qt(),o=t(),l=!on(r.memoizedState,o);if(l&&(r.memoizedState=o,bt=!0),r=r.queue,Ll(Fu.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,hs(9,Wu.bind(null,n,r,o,t),void 0,null),lt===null)throw Error(s(349));(Rr&30)!==0||Mu(n,t,o)}return o}function Mu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wu(e,t,n,r){t.value=n,t.getSnapshot=r,Uu(t)&&$u(e)}function Fu(e,t,n){return n(function(){Uu(t)&&$u(e)})}function Uu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function $u(e){var t=Mn(e,1);t!==null&&dn(t,e,1,-1)}function Hu(e){var t=kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t.queue=e,e=e.dispatch=Cf.bind(null,We,e),[t.memoizedState,e]}function hs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vu(){return qt().memoizedState}function so(e,t,n,r){var o=kn();We.flags|=e,o.memoizedState=hs(1|t,n,void 0,r===void 0?null:r)}function oo(e,t,n,r){var o=qt();r=r===void 0?null:r;var l=void 0;if(tt!==null){var d=tt.memoizedState;if(l=d.destroy,r!==null&&Rl(r,d.deps)){o.memoizedState=hs(t,n,l,r);return}}We.flags|=e,o.memoizedState=hs(1|t,n,l,r)}function qu(e,t){return so(8390656,8,e,t)}function Ll(e,t){return oo(2048,8,e,t)}function Gu(e,t){return oo(4,2,e,t)}function Qu(e,t){return oo(4,4,e,t)}function Ku(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ju(e,t,n){return n=n!=null?n.concat([e]):null,oo(4,4,Ku.bind(null,t,e),n)}function Al(){}function Yu(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xu(e,t){var n=qt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zu(e,t,n){return(Rr&21)===0?(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n):(on(n,t)||(n=et(),We.lanes|=n,Nr|=n,e.baseState=!0),t)}function jf(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=bl.transition;bl.transition={};try{e(!1),t()}finally{Se=n,bl.transition=r}}function ec(){return qt().memoizedState}function Tf(e,t,n){var r=lr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tc(e))nc(t,n);else if(n=Ou(e,t,n,r),n!==null){var o=_t();dn(n,e,r,o),rc(n,t,r)}}function Cf(e,t,n){var r=lr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tc(e))nc(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,m=l(d,n);if(o.hasEagerState=!0,o.eagerState=m,on(m,d)){var v=t.interleaved;v===null?(o.next=o,jl(t)):(o.next=v.next,v.next=o),t.interleaved=o;return}}catch{}finally{}n=Ou(e,t,o,r),n!==null&&(o=_t(),dn(n,e,r,o),rc(n,t,r))}}function tc(e){var t=e.alternate;return e===We||t!==null&&t===We}function nc(e,t){ds=io=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rc(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qi(e,n)}}var lo={readContext:Vt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},_f={readContext:Vt,useCallback:function(e,t){return kn().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:qu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,so(4194308,4,Ku.bind(null,t,e),n)},useLayoutEffect:function(e,t){return so(4194308,4,e,t)},useInsertionEffect:function(e,t){return so(4,2,e,t)},useMemo:function(e,t){var n=kn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Tf.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=kn();return e={current:e},t.memoizedState=e},useState:Hu,useDebugValue:Al,useDeferredValue:function(e){return kn().memoizedState=e},useTransition:function(){var e=Hu(!1),t=e[0];return e=jf.bind(null,e[1]),kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,o=kn();if(Be){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),lt===null)throw Error(s(349));(Rr&30)!==0||Mu(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,qu(Fu.bind(null,r,l,e),[e]),r.flags|=2048,hs(9,Wu.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=kn(),t=lt.identifierPrefix;if(Be){var n=Dn,r=Bn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ef={readContext:Vt,useCallback:Yu,useContext:Vt,useEffect:Ll,useImperativeHandle:Ju,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:Xu,useReducer:Il,useRef:Vu,useState:function(){return Il(ps)},useDebugValue:Al,useDeferredValue:function(e){var t=qt();return Zu(t,tt.memoizedState,e)},useTransition:function(){var e=Il(ps)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Bu,useSyncExternalStore:Du,useId:ec,unstable_isNewReconciler:!1},Pf={readContext:Vt,useCallback:Yu,useContext:Vt,useEffect:Ll,useImperativeHandle:Ju,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:Xu,useReducer:zl,useRef:Vu,useState:function(){return zl(ps)},useDebugValue:Al,useDeferredValue:function(e){var t=qt();return tt===null?t.memoizedState=e:Zu(t,tt.memoizedState,e)},useTransition:function(){var e=zl(ps)[0],t=qt().memoizedState;return[e,t]},useMutableSource:Bu,useSyncExternalStore:Du,useId:ec,unstable_isNewReconciler:!1};function an(e,t){if(e&&e.defaultProps){t=V({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:V({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return(e=e._reactInternals)?It(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_t(),o=lr(e),l=Wn(r,o);l.payload=t,n!=null&&(l.callback=n),t=rr(e,l,o),t!==null&&(dn(t,e,o,r),eo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_t(),o=lr(e),l=Wn(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=rr(e,l,o),t!==null&&(dn(t,e,o,r),eo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),r=lr(e),o=Wn(n,r);o.tag=2,t!=null&&(o.callback=t),t=rr(e,o,r),t!==null&&(dn(t,e,r,n),eo(t,e,r))}};function ic(e,t,n,r,o,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,d):t.prototype&&t.prototype.isPureReactComponent?!es(n,r)||!es(o,l):!0}function sc(e,t,n){var r=!1,o=er,l=t.contextType;return typeof l=="object"&&l!==null?l=Vt(l):(o=Pt(t)?Cr:xt.current,r=t.contextTypes,l=(r=r!=null)?ci(e,o):er),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function oc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function Dl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Tl(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Vt(l):(l=Pt(t)?Cr:xt.current,o.context=ci(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Bl(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ao.enqueueReplaceState(o,o.state,null),to(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function vi(e,t){try{var n="",r=t;do n+=he(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Ml(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var bf=typeof WeakMap=="function"?WeakMap:Map;function lc(e,t,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){go||(go=!0,ta=r),Wl(e,t)},n}function ac(e,t,n){n=Wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Wl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Wl(e,t),typeof r!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function uc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new bf;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=$f.bind(null,e,t,n),t.then(e,e))}function cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dc(e,t,n,r,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wn(-1,1),t.tag=2,rr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Rf=rt.ReactCurrentOwner,bt=!1;function Ct(e,t,n,r){t.child=e===null?Nu(t,null,n,r):hi(t,e.child,n,r)}function fc(e,t,n,r,o){n=n.render;var l=t.ref;return gi(t,o),r=Nl(e,t,n,r,l,o),n=Ol(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fn(e,t,o)):(Be&&n&&hl(t),t.flags|=1,Ct(e,t,r,o),t.child)}function pc(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!aa(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,hc(e,t,l,r,o)):(e=ko(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,(e.lanes&o)===0){var d=l.memoizedProps;if(n=n.compare,n=n!==null?n:es,n(d,r)&&e.ref===t.ref)return Fn(e,t,o)}return t.flags|=1,e=ur(l,r),e.ref=t.ref,e.return=t,t.child=e}function hc(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(es(l,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=l,(e.lanes&o)!==0)(e.flags&131072)!==0&&(bt=!0);else return t.lanes=e.lanes,Fn(e,t,o)}return Fl(e,t,n,r,o)}function mc(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(wi,Dt),Dt|=n;else{if((n&1073741824)===0)return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(wi,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Ne(wi,Dt),Dt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Ne(wi,Dt),Dt|=r;return Ct(e,t,o,n),t.child}function gc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fl(e,t,n,r,o){var l=Pt(n)?Cr:xt.current;return l=ci(t,l),gi(t,o),n=Nl(e,t,n,r,l,o),r=Ol(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fn(e,t,o)):(Be&&r&&hl(t),t.flags|=1,Ct(e,t,n,o),t.child)}function yc(e,t,n,r,o){if(Pt(n)){var l=!0;qs(t)}else l=!1;if(gi(t,o),t.stateNode===null)co(e,t),sc(t,n,r),Dl(t,n,r,o),r=!0;else if(e===null){var d=t.stateNode,m=t.memoizedProps;d.props=m;var v=d.context,_=n.contextType;typeof _=="object"&&_!==null?_=Vt(_):(_=Pt(n)?Cr:xt.current,_=ci(t,_));var L=n.getDerivedStateFromProps,A=typeof L=="function"||typeof d.getSnapshotBeforeUpdate=="function";A||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==r||v!==_)&&oc(t,d,r,_),nr=!1;var z=t.memoizedState;d.state=z,to(t,r,d,o),v=t.memoizedState,m!==r||z!==v||Et.current||nr?(typeof L=="function"&&(Bl(t,n,L,r),v=t.memoizedState),(m=nr||ic(t,n,m,r,z,v,_))?(A||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=v),d.props=r,d.state=v,d.context=_,r=m):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{d=t.stateNode,Iu(e,t),m=t.memoizedProps,_=t.type===t.elementType?m:an(t.type,m),d.props=_,A=t.pendingProps,z=d.context,v=n.contextType,typeof v=="object"&&v!==null?v=Vt(v):(v=Pt(n)?Cr:xt.current,v=ci(t,v));var H=n.getDerivedStateFromProps;(L=typeof H=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==A||z!==v)&&oc(t,d,r,v),nr=!1,z=t.memoizedState,d.state=z,to(t,r,d,o);var K=t.memoizedState;m!==A||z!==K||Et.current||nr?(typeof H=="function"&&(Bl(t,n,H,r),K=t.memoizedState),(_=nr||ic(t,n,_,r,z,K,v)||!1)?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,K,v),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,K,v)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=K),d.props=r,d.state=K,d.context=v,r=_):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),r=!1)}return Ul(e,t,n,r,l,o)}function Ul(e,t,n,r,o,l){gc(e,t);var d=(t.flags&128)!==0;if(!r&&!d)return o&&ku(t,n,!1),Fn(e,t,l);r=t.stateNode,Rf.current=t;var m=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&d?(t.child=hi(t,e.child,null,l),t.child=hi(t,null,m,l)):Ct(e,t,m,l),t.memoizedState=r.state,o&&ku(t,n,!0),t.child}function vc(e){var t=e.stateNode;t.pendingContext?wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wu(e,t.context,!1),Cl(e,t.containerInfo)}function xc(e,t,n,r,o){return pi(),vl(o),t.flags|=256,Ct(e,t,n,r),t.child}var $l={dehydrated:null,treeContext:null,retryLane:0};function Hl(e){return{baseLanes:e,cachePool:null,transitions:null}}function wc(e,t,n){var r=t.pendingProps,o=Me.current,l=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(o&2)!==0),m?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ne(Me,o&1),e===null)return yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(d=r.children,e=r.fallback,l?(r=t.mode,l=t.child,d={mode:"hidden",children:d},(r&1)===0&&l!==null?(l.childLanes=0,l.pendingProps=d):l=jo(d,r,0,null),e=Lr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Hl(n),t.memoizedState=$l,e):Vl(t,d));if(o=e.memoizedState,o!==null&&(m=o.dehydrated,m!==null))return Nf(e,t,d,r,m,o,n);if(l){l=r.fallback,d=t.mode,o=e.child,m=o.sibling;var v={mode:"hidden",children:r.children};return(d&1)===0&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=v,t.deletions=null):(r=ur(o,v),r.subtreeFlags=o.subtreeFlags&14680064),m!==null?l=ur(m,l):(l=Lr(l,d,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,d=e.child.memoizedState,d=d===null?Hl(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~n,t.memoizedState=$l,r}return l=e.child,e=l.sibling,r=ur(l,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vl(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uo(e,t,n,r){return r!==null&&vl(r),hi(t,e.child,null,n),e=Vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nf(e,t,n,r,o,l,d){if(n)return t.flags&256?(t.flags&=-257,r=Ml(Error(s(422))),uo(e,t,d,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=jo({mode:"visible",children:r.children},o,0,null),l=Lr(l,o,d,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,(t.mode&1)!==0&&hi(t,e.child,null,d),t.child.memoizedState=Hl(d),t.memoizedState=$l,l);if((t.mode&1)===0)return uo(e,t,d,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var m=r.dgst;return r=m,l=Error(s(419)),r=Ml(l,r,void 0),uo(e,t,d,r)}if(m=(d&e.childLanes)!==0,bt||m){if(r=lt,r!==null){switch(d&-d){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(r.suspendedLanes|d))!==0?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Mn(e,o),dn(r,e,o,-1))}return la(),r=Ml(Error(s(421))),uo(e,t,d,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Hf.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Bt=Xn(o.nextSibling),At=t,Be=!0,ln=null,e!==null&&($t[Ht++]=Bn,$t[Ht++]=Dn,$t[Ht++]=_r,Bn=e.id,Dn=e.overflow,_r=t),t=Vl(t,r.children),t.flags|=4096,t)}function Sc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kl(e.return,t,n)}function ql(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function kc(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(Ct(e,t,r.children,n),r=Me.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,n,t);else if(e.tag===19)Sc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Me,r),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&no(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ql(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&no(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ql(t,!0,n,null,l);break;case"together":ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function co(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=ur(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ur(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Of(e,t,n){switch(t.tag){case 3:vc(t),pi();break;case 5:Au(t);break;case 1:Pt(t.type)&&qs(t);break;case 4:Cl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Ne(Xs,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Me,Me.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?wc(e,t,n):(Ne(Me,Me.current&1),e=Fn(e,t,n),e!==null?e.sibling:null);Ne(Me,Me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return kc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ne(Me,Me.current),r)break;return null;case 22:case 23:return t.lanes=0,mc(e,t,n)}return Fn(e,t,n)}var jc,Gl,Tc,Cc;jc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gl=function(){},Tc=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,br(Sn.current);var l=null;switch(n){case"input":o=_s(e,o),r=_s(e,r),l=[];break;case"select":o=V({},o,{value:void 0}),r=V({},r,{value:void 0}),l=[];break;case"textarea":o=Br(e,o),r=Br(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$s)}Fe(n,r);var d;n=null;for(_ in o)if(!r.hasOwnProperty(_)&&o.hasOwnProperty(_)&&o[_]!=null)if(_==="style"){var m=o[_];for(d in m)m.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(p.hasOwnProperty(_)?l||(l=[]):(l=l||[]).push(_,null));for(_ in r){var v=r[_];if(m=o?.[_],r.hasOwnProperty(_)&&v!==m&&(v!=null||m!=null))if(_==="style")if(m){for(d in m)!m.hasOwnProperty(d)||v&&v.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in v)v.hasOwnProperty(d)&&m[d]!==v[d]&&(n||(n={}),n[d]=v[d])}else n||(l||(l=[]),l.push(_,n)),n=v;else _==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,m=m?m.__html:void 0,v!=null&&m!==v&&(l=l||[]).push(_,v)):_==="children"?typeof v!="string"&&typeof v!="number"||(l=l||[]).push(_,""+v):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(p.hasOwnProperty(_)?(v!=null&&_==="onScroll"&&Ie("scroll",e),l||m===v||(l=[])):(l=l||[]).push(_,v))}n&&(l=l||[]).push("style",n);var _=l;(t.updateQueue=_)&&(t.flags|=4)}},Cc=function(e,t,n,r){n!==r&&(t.flags|=4)};function ms(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function If(e,t,n){var r=t.pendingProps;switch(ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Pt(t.type)&&Vs(),St(t),null;case 3:return r=t.stateNode,yi(),ze(Et),ze(xt),Pl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ln!==null&&(ia(ln),ln=null))),Gl(e,t),St(t),null;case 5:_l(t);var o=br(cs.current);if(n=t.type,e!==null&&t.stateNode!=null)Tc(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(s(166));return St(t),null}if(e=br(Sn.current),Js(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[wn]=t,r[ss]=l,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(o=0;o<ns.length;o++)Ie(ns[o],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":pn(r,l),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Ie("invalid",r);break;case"textarea":Pi(r,l),Ie("invalid",r)}Fe(n,l),o=null;for(var d in l)if(l.hasOwnProperty(d)){var m=l[d];d==="children"?typeof m=="string"?r.textContent!==m&&(l.suppressHydrationWarning!==!0&&Us(r.textContent,m,e),o=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(l.suppressHydrationWarning!==!0&&Us(r.textContent,m,e),o=["children",""+m]):p.hasOwnProperty(d)&&m!=null&&d==="onScroll"&&Ie("scroll",r)}switch(n){case"input":hr(r),dt(r,l,!0);break;case"textarea":hr(r),bi(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=$s)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{d=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gr(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=d.createElement(n,{is:r.is}):(e=d.createElement(n),n==="select"&&(d=e,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):e=d.createElementNS(e,n),e[wn]=t,e[ss]=r,jc(e,t,!1,!1),t.stateNode=e;e:{switch(d=Ri(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),o=r;break;case"iframe":case"object":case"embed":Ie("load",e),o=r;break;case"video":case"audio":for(o=0;o<ns.length;o++)Ie(ns[o],e);o=r;break;case"source":Ie("error",e),o=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),o=r;break;case"details":Ie("toggle",e),o=r;break;case"input":pn(e,r),o=_s(e,r),Ie("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=V({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":Pi(e,r),o=Br(e,r),Ie("invalid",e);break;default:o=r}Fe(n,o),m=o;for(l in m)if(m.hasOwnProperty(l)){var v=m[l];l==="style"?we(e,v):l==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Es(e,v)):l==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&$n(e,v):typeof v=="number"&&$n(e,""+v):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(p.hasOwnProperty(l)?v!=null&&l==="onScroll"&&Ie("scroll",e):v!=null&&jt(e,l,v,d))}switch(n){case"input":hr(e),dt(e,r,!1);break;case"textarea":hr(e),bi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Te(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?st(e,!!r.multiple,l,!1):r.defaultValue!=null&&st(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=$s)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)Cc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(n=br(cs.current),br(Sn.current),Js(t)){if(r=t.stateNode,n=t.memoizedProps,r[wn]=t,(l=r.nodeValue!==n)&&(e=At,e!==null))switch(e.tag){case 3:Us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Us(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=t,t.stateNode=r}return St(t),null;case 13:if(ze(Me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&Bt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Pu(),pi(),t.flags|=98560,l=!1;else if(l=Js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(s(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));l[wn]=t}else pi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;St(t),l=!1}else ln!==null&&(ia(ln),ln=null),l=!0;if(!l)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Me.current&1)!==0?nt===0&&(nt=3):la())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return yi(),Gl(e,t),e===null&&rs(t.stateNode.containerInfo),St(t),null;case 10:return Sl(t.type._context),St(t),null;case 17:return Pt(t.type)&&Vs(),St(t),null;case 19:if(ze(Me),l=t.memoizedState,l===null)return St(t),null;if(r=(t.flags&128)!==0,d=l.rendering,d===null)if(r)ms(l,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=no(e),d!==null){for(t.flags|=128,ms(l,!1),r=d.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Me,Me.current&1|2),t.child}e=e.sibling}l.tail!==null&&be()>Si&&(t.flags|=128,r=!0,ms(l,!1),t.lanes=4194304)}else{if(!r)if(e=no(d),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ms(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return St(t),null}else 2*be()-l.renderingStartTime>Si&&n!==1073741824&&(t.flags|=128,r=!0,ms(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(n=l.last,n!==null?n.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=be(),t.sibling=null,n=Me.current,Ne(Me,r?n&1|2:n&1),t):(St(t),null);case 22:case 23:return oa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(Dt&1073741824)!==0&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function zf(e,t){switch(ml(t),t.tag){case 1:return Pt(t.type)&&Vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yi(),ze(Et),ze(xt),Pl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return _l(t),null;case 13:if(ze(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Me),null;case 4:return yi(),null;case 10:return Sl(t.type._context),null;case 22:case 23:return oa(),null;case 24:return null;default:return null}}var fo=!1,kt=!1,Lf=typeof WeakSet=="function"?WeakSet:Set,q=null;function xi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(e,t,r)}else n.current=null}function Ql(e,t,n){try{n()}catch(r){Ue(e,t,r)}}var _c=!1;function Af(e,t){if(ol=Xr,e=iu(),Xo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var d=0,m=-1,v=-1,_=0,L=0,A=e,z=null;t:for(;;){for(var H;A!==n||o!==0&&A.nodeType!==3||(m=d+o),A!==l||r!==0&&A.nodeType!==3||(v=d+r),A.nodeType===3&&(d+=A.nodeValue.length),(H=A.firstChild)!==null;)z=A,A=H;for(;;){if(A===e)break t;if(z===n&&++_===o&&(m=d),z===l&&++L===r&&(v=d),(H=A.nextSibling)!==null)break;A=z,z=A.parentNode}A=H}n=m===-1||v===-1?null:{start:m,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(ll={focusedElem:e,selectionRange:n},Xr=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var Y=K.memoizedProps,Qe=K.memoizedState,k=t.stateNode,x=k.getSnapshotBeforeUpdate(t.elementType===t.type?Y:an(t.type,Y),Qe);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(D){Ue(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return K=_c,_c=!1,K}function gs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Ql(t,n,l)}o=o.next}while(o!==r)}}function po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Kl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ec(e){var t=e.alternate;t!==null&&(e.alternate=null,Ec(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[ss],delete t[dl],delete t[vf],delete t[xf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pc(e){return e.tag===5||e.tag===3||e.tag===4}function bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$s));else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,n),e=e.sibling;e!==null;)Jl(e,t,n),e=e.sibling}function Yl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yl(e,t,n),e=e.sibling;e!==null;)Yl(e,t,n),e=e.sibling}var pt=null,un=!1;function ir(e,t,n){for(n=n.child;n!==null;)Rc(e,t,n),n=n.sibling}function Rc(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Ae,n)}catch{}switch(n.tag){case 5:kt||xi(n,t);case 6:var r=pt,o=un;pt=null,ir(e,t,n),pt=r,un=o,pt!==null&&(un?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(un?(e=pt,n=n.stateNode,e.nodeType===8?cl(e.parentNode,n):e.nodeType===1&&cl(e,n),Jn(e)):cl(pt,n.stateNode));break;case 4:r=pt,o=un,pt=n.stateNode.containerInfo,un=!0,ir(e,t,n),pt=r,un=o;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,d=l.destroy;l=l.tag,d!==void 0&&((l&2)!==0||(l&4)!==0)&&Ql(n,t,d),o=o.next}while(o!==r)}ir(e,t,n);break;case 1:if(!kt&&(xi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){Ue(n,t,m)}ir(e,t,n);break;case 21:ir(e,t,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,ir(e,t,n),kt=r):ir(e,t,n);break;default:ir(e,t,n)}}function Nc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lf),t.forEach(function(r){var o=Vf.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,d=t,m=d;e:for(;m!==null;){switch(m.tag){case 5:pt=m.stateNode,un=!1;break e;case 3:pt=m.stateNode.containerInfo,un=!0;break e;case 4:pt=m.stateNode.containerInfo,un=!0;break e}m=m.return}if(pt===null)throw Error(s(160));Rc(l,d,o),pt=null,un=!1;var v=o.alternate;v!==null&&(v.return=null),o.return=null}catch(_){Ue(o,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Oc(t,e),t=t.sibling}function Oc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(t,e),jn(e),r&4){try{gs(3,e,e.return),po(3,e)}catch(Y){Ue(e,e.return,Y)}try{gs(5,e,e.return)}catch(Y){Ue(e,e.return,Y)}}break;case 1:cn(t,e),jn(e),r&512&&n!==null&&xi(n,n.return);break;case 5:if(cn(t,e),jn(e),r&512&&n!==null&&xi(n,n.return),e.flags&32){var o=e.stateNode;try{$n(o,"")}catch(Y){Ue(e,e.return,Y)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,d=n!==null?n.memoizedProps:l,m=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{m==="input"&&l.type==="radio"&&l.name!=null&&Ar(o,l),Ri(m,d);var _=Ri(m,l);for(d=0;d<v.length;d+=2){var L=v[d],A=v[d+1];L==="style"?we(o,A):L==="dangerouslySetInnerHTML"?Es(o,A):L==="children"?$n(o,A):jt(o,L,A,_)}switch(m){case"input":hn(o,l);break;case"textarea":Dr(o,l);break;case"select":var z=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var H=l.value;H!=null?st(o,!!l.multiple,H,!1):z!==!!l.multiple&&(l.defaultValue!=null?st(o,!!l.multiple,l.defaultValue,!0):st(o,!!l.multiple,l.multiple?[]:"",!1))}o[ss]=l}catch(Y){Ue(e,e.return,Y)}}break;case 6:if(cn(t,e),jn(e),r&4){if(e.stateNode===null)throw Error(s(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(Y){Ue(e,e.return,Y)}}break;case 3:if(cn(t,e),jn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jn(t.containerInfo)}catch(Y){Ue(e,e.return,Y)}break;case 4:cn(t,e),jn(e);break;case 13:cn(t,e),jn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(ea=be())),r&4&&Nc(e);break;case 22:if(L=n!==null&&n.memoizedState!==null,e.mode&1?(kt=(_=kt)||L,cn(t,e),kt=_):cn(t,e),jn(e),r&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!L&&(e.mode&1)!==0)for(q=e,L=e.child;L!==null;){for(A=q=L;q!==null;){switch(z=q,H=z.child,z.tag){case 0:case 11:case 14:case 15:gs(4,z,z.return);break;case 1:xi(z,z.return);var K=z.stateNode;if(typeof K.componentWillUnmount=="function"){r=z,n=z.return;try{t=r,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(Y){Ue(r,n,Y)}}break;case 5:xi(z,z.return);break;case 22:if(z.memoizedState!==null){Lc(A);continue}}H!==null?(H.return=z,q=H):Lc(A)}L=L.sibling}e:for(L=null,A=e;;){if(A.tag===5){if(L===null){L=A;try{o=A.stateNode,_?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(m=A.stateNode,v=A.memoizedProps.style,d=v!=null&&v.hasOwnProperty("display")?v.display:null,m.style.display=Wr("display",d))}catch(Y){Ue(e,e.return,Y)}}}else if(A.tag===6){if(L===null)try{A.stateNode.nodeValue=_?"":A.memoizedProps}catch(Y){Ue(e,e.return,Y)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;L===A&&(L=null),A=A.return}L===A&&(L=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:cn(t,e),jn(e),r&4&&Nc(e);break;case 21:break;default:cn(t,e),jn(e)}}function jn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pc(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&($n(o,""),r.flags&=-33);var l=bc(e);Yl(e,l,o);break;case 3:case 4:var d=r.stateNode.containerInfo,m=bc(e);Jl(e,m,d);break;default:throw Error(s(161))}}catch(v){Ue(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bf(e,t,n){q=e,Ic(e)}function Ic(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var o=q,l=o.child;if(o.tag===22&&r){var d=o.memoizedState!==null||fo;if(!d){var m=o.alternate,v=m!==null&&m.memoizedState!==null||kt;m=fo;var _=kt;if(fo=d,(kt=v)&&!_)for(q=o;q!==null;)d=q,v=d.child,d.tag===22&&d.memoizedState!==null?Ac(o):v!==null?(v.return=d,q=v):Ac(o);for(;l!==null;)q=l,Ic(l),l=l.sibling;q=o,fo=m,kt=_}zc(e)}else(o.subtreeFlags&8772)!==0&&l!==null?(l.return=o,q=l):zc(e)}}function zc(e){for(;q!==null;){var t=q;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:kt||po(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:an(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Lu(t,l,r);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lu(t,d,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var L=_.memoizedState;if(L!==null){var A=L.dehydrated;A!==null&&Jn(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}kt||t.flags&512&&Kl(t)}catch(z){Ue(t,t.return,z)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Lc(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Ac(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{po(4,t)}catch(v){Ue(t,n,v)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(v){Ue(t,o,v)}}var l=t.return;try{Kl(t)}catch(v){Ue(t,l,v)}break;case 5:var d=t.return;try{Kl(t)}catch(v){Ue(t,d,v)}}}catch(v){Ue(t,t.return,v)}if(t===e){q=null;break}var m=t.sibling;if(m!==null){m.return=t.return,q=m;break}q=t.return}}var Df=Math.ceil,ho=rt.ReactCurrentDispatcher,Xl=rt.ReactCurrentOwner,Gt=rt.ReactCurrentBatchConfig,ve=0,lt=null,Ye=null,ht=0,Dt=0,wi=Zn(0),nt=0,ys=null,Nr=0,mo=0,Zl=0,vs=null,Rt=null,ea=0,Si=1/0,Un=null,go=!1,ta=null,sr=null,yo=!1,or=null,vo=0,xs=0,na=null,xo=-1,wo=0;function _t(){return(ve&6)!==0?be():xo!==-1?xo:xo=be()}function lr(e){return(e.mode&1)===0?1:(ve&2)!==0&&ht!==0?ht&-ht:Sf.transition!==null?(wo===0&&(wo=et()),wo):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Ji(e.type)),e)}function dn(e,t,n,r){if(50<xs)throw xs=0,na=null,Error(s(185));vr(e,n,r),((ve&2)===0||e!==lt)&&(e===lt&&((ve&2)===0&&(mo|=n),nt===4&&ar(e,ht)),Nt(e,r),n===1&&ve===0&&(t.mode&1)===0&&(Si=be()+500,Gs&&tr()))}function Nt(e,t){var n=e.callbackNode;Os(e,t);var r=Vi(e,e===lt?ht:0);if(r===0)n!==null&&Zt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zt(n),t===1)e.tag===0?wf(Dc.bind(null,e)):ju(Dc.bind(null,e)),gf(function(){(ve&6)===0&&tr()}),n=null;else{switch(xr(r)){case 1:n=Wi;break;case 4:n=Fi;break;case 16:n=Ve;break;case 536870912:n=yr;break;default:n=Ve}n=qc(n,Bc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Bc(e,t){if(xo=-1,wo=0,(ve&6)!==0)throw Error(s(327));var n=e.callbackNode;if(ki()&&e.callbackNode!==n)return null;var r=Vi(e,e===lt?ht:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=So(e,r);else{t=r;var o=ve;ve|=2;var l=Wc();(lt!==e||ht!==t)&&(Un=null,Si=be()+500,Ir(e,t));do try{Ff();break}catch(m){Mc(e,m)}while(!0);wl(),ho.current=l,ve=o,Ye!==null?t=0:(lt=null,ht=0,t=nt)}if(t!==0){if(t===2&&(o=Kr(e),o!==0&&(r=o,t=ra(e,o))),t===1)throw n=ys,Ir(e,0),ar(e,r),Nt(e,be()),n;if(t===6)ar(e,r);else{if(o=e.current.alternate,(r&30)===0&&!Mf(o)&&(t=So(e,r),t===2&&(l=Kr(e),l!==0&&(r=l,t=ra(e,l))),t===1))throw n=ys,Ir(e,0),ar(e,r),Nt(e,be()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:zr(e,Rt,Un);break;case 3:if(ar(e,r),(r&130023424)===r&&(t=ea+500-be(),10<t)){if(Vi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){_t(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ul(zr.bind(null,e,Rt,Un),t);break}zr(e,Rt,Un);break;case 4:if(ar(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var d=31-zt(r);l=1<<d,d=t[d],d>o&&(o=d),r&=~l}if(r=o,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Df(r/1960))-r,10<r){e.timeoutHandle=ul(zr.bind(null,e,Rt,Un),r);break}zr(e,Rt,Un);break;case 5:zr(e,Rt,Un);break;default:throw Error(s(329))}}}return Nt(e,be()),e.callbackNode===n?Bc.bind(null,e):null}function ra(e,t){var n=vs;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=So(e,t),e!==2&&(t=Rt,Rt=n,t!==null&&ia(t)),e}function ia(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function Mf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!on(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ar(e,t){for(t&=~Zl,t&=~mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function Dc(e){if((ve&6)!==0)throw Error(s(327));ki();var t=Vi(e,0);if((t&1)===0)return Nt(e,be()),null;var n=So(e,t);if(e.tag!==0&&n===2){var r=Kr(e);r!==0&&(t=r,n=ra(e,r))}if(n===1)throw n=ys,Ir(e,0),ar(e,t),Nt(e,be()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zr(e,Rt,Un),Nt(e,be()),null}function sa(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(Si=be()+500,Gs&&tr())}}function Or(e){or!==null&&or.tag===0&&(ve&6)===0&&ki();var t=ve;ve|=1;var n=Gt.transition,r=Se;try{if(Gt.transition=null,Se=1,e)return e()}finally{Se=r,Gt.transition=n,ve=t,(ve&6)===0&&tr()}}function oa(){Dt=wi.current,ze(wi)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mf(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(ml(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vs();break;case 3:yi(),ze(Et),ze(xt),Pl();break;case 5:_l(r);break;case 4:yi();break;case 13:ze(Me);break;case 19:ze(Me);break;case 10:Sl(r.type._context);break;case 22:case 23:oa()}n=n.return}if(lt=e,Ye=e=ur(e.current,null),ht=Dt=t,nt=0,ys=null,Zl=mo=Nr=0,Rt=vs=null,Pr!==null){for(t=0;t<Pr.length;t++)if(n=Pr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var d=l.next;l.next=o,r.next=d}n.pending=r}Pr=null}return e}function Mc(e,t){do{var n=Ye;try{if(wl(),ro.current=lo,io){for(var r=We.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}io=!1}if(Rr=0,ot=tt=We=null,ds=!1,fs=0,Xl.current=null,n===null||n.return===null){nt=1,ys=t,Ye=null;break}e:{var l=e,d=n.return,m=n,v=t;if(t=ht,m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var _=v,L=m,A=L.tag;if((L.mode&1)===0&&(A===0||A===11||A===15)){var z=L.alternate;z?(L.updateQueue=z.updateQueue,L.memoizedState=z.memoizedState,L.lanes=z.lanes):(L.updateQueue=null,L.memoizedState=null)}var H=cc(d);if(H!==null){H.flags&=-257,dc(H,d,m,l,t),H.mode&1&&uc(l,_,t),t=H,v=_;var K=t.updateQueue;if(K===null){var Y=new Set;Y.add(v),t.updateQueue=Y}else K.add(v);break e}else{if((t&1)===0){uc(l,_,t),la();break e}v=Error(s(426))}}else if(Be&&m.mode&1){var Qe=cc(d);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),dc(Qe,d,m,l,t),vl(vi(v,m));break e}}l=v=vi(v,m),nt!==4&&(nt=2),vs===null?vs=[l]:vs.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var k=lc(l,v,t);zu(l,k);break e;case 1:m=v;var x=l.type,T=l.stateNode;if((l.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(sr===null||!sr.has(T)))){l.flags|=65536,t&=-t,l.lanes|=t;var D=ac(l,m,t);zu(l,D);break e}}l=l.return}while(l!==null)}Uc(n)}catch(X){t=X,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function Wc(){var e=ho.current;return ho.current=lo,e===null?lo:e}function la(){(nt===0||nt===3||nt===2)&&(nt=4),lt===null||(Nr&268435455)===0&&(mo&268435455)===0||ar(lt,ht)}function So(e,t){var n=ve;ve|=2;var r=Wc();(lt!==e||ht!==t)&&(Un=null,Ir(e,t));do try{Wf();break}catch(o){Mc(e,o)}while(!0);if(wl(),ve=n,ho.current=r,Ye!==null)throw Error(s(261));return lt=null,ht=0,nt}function Wf(){for(;Ye!==null;)Fc(Ye)}function Ff(){for(;Ye!==null&&!Je();)Fc(Ye)}function Fc(e){var t=Vc(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?Uc(e):Ye=t,Xl.current=null}function Uc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=If(n,t,Dt),n!==null){Ye=n;return}}else{if(n=zf(n,t),n!==null){n.flags&=32767,Ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Ye=null;return}}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);nt===0&&(nt=5)}function zr(e,t,n){var r=Se,o=Gt.transition;try{Gt.transition=null,Se=1,Uf(e,t,n,r)}finally{Gt.transition=o,Se=r}return null}function Uf(e,t,n,r){do ki();while(or!==null);if((ve&6)!==0)throw Error(s(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Jr(e,l),e===lt&&(Ye=lt=null,ht=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||yo||(yo=!0,qc(Ve,function(){return ki(),null})),l=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||l){l=Gt.transition,Gt.transition=null;var d=Se;Se=1;var m=ve;ve|=4,Xl.current=null,Af(e,n),Oc(n,e),af(ll),Xr=!!ol,ll=ol=null,e.current=n,Bf(n),Ma(),ve=m,Se=d,Gt.transition=l}else e.current=n;if(yo&&(yo=!1,or=e,vo=o),l=e.pendingLanes,l===0&&(sr=null),$o(n.stateNode),Nt(e,be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(go)throw go=!1,e=ta,ta=null,e;return(vo&1)!==0&&e.tag!==0&&ki(),l=e.pendingLanes,(l&1)!==0?e===na?xs++:(xs=0,na=e):xs=0,tr(),null}function ki(){if(or!==null){var e=xr(vo),t=Gt.transition,n=Se;try{if(Gt.transition=null,Se=16>e?16:e,or===null)var r=!1;else{if(e=or,or=null,vo=0,(ve&6)!==0)throw Error(s(331));var o=ve;for(ve|=4,q=e.current;q!==null;){var l=q,d=l.child;if((q.flags&16)!==0){var m=l.deletions;if(m!==null){for(var v=0;v<m.length;v++){var _=m[v];for(q=_;q!==null;){var L=q;switch(L.tag){case 0:case 11:case 15:gs(8,L,l)}var A=L.child;if(A!==null)A.return=L,q=A;else for(;q!==null;){L=q;var z=L.sibling,H=L.return;if(Ec(L),L===_){q=null;break}if(z!==null){z.return=H,q=z;break}q=H}}}var K=l.alternate;if(K!==null){var Y=K.child;if(Y!==null){K.child=null;do{var Qe=Y.sibling;Y.sibling=null,Y=Qe}while(Y!==null)}}q=l}}if((l.subtreeFlags&2064)!==0&&d!==null)d.return=l,q=d;else e:for(;q!==null;){if(l=q,(l.flags&2048)!==0)switch(l.tag){case 0:case 11:case 15:gs(9,l,l.return)}var k=l.sibling;if(k!==null){k.return=l.return,q=k;break e}q=l.return}}var x=e.current;for(q=x;q!==null;){d=q;var T=d.child;if((d.subtreeFlags&2064)!==0&&T!==null)T.return=d,q=T;else e:for(d=x;q!==null;){if(m=q,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:po(9,m)}}catch(X){Ue(m,m.return,X)}if(m===d){q=null;break e}var D=m.sibling;if(D!==null){D.return=m.return,q=D;break e}q=m.return}}if(ve=o,tr(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Ae,e)}catch{}r=!0}return r}finally{Se=n,Gt.transition=t}}return!1}function $c(e,t,n){t=vi(n,t),t=lc(e,t,1),e=rr(e,t,1),t=_t(),e!==null&&(vr(e,1,t),Nt(e,t))}function Ue(e,t,n){if(e.tag===3)$c(e,e,n);else for(;t!==null;){if(t.tag===3){$c(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sr===null||!sr.has(r))){e=vi(n,e),e=ac(t,e,1),t=rr(t,e,1),e=_t(),t!==null&&(vr(t,1,e),Nt(t,e));break}}t=t.return}}function $f(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(ht&n)===n&&(nt===4||nt===3&&(ht&130023424)===ht&&500>be()-ea?Ir(e,0):Zl|=n),Nt(e,t)}function Hc(e,t){t===0&&((e.mode&1)===0?t=1:(t=en,en<<=1,(en&130023424)===0&&(en=4194304)));var n=_t();e=Mn(e,t),e!==null&&(vr(e,t,n),Nt(e,n))}function Hf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hc(e,n)}function Vf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}r!==null&&r.delete(t),Hc(e,n)}var Vc;Vc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)bt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return bt=!1,Of(e,t,n);bt=(e.flags&131072)!==0}else bt=!1,Be&&(t.flags&1048576)!==0&&Tu(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;co(e,t),e=t.pendingProps;var o=ci(t,xt.current);gi(t,n),o=Nl(null,t,r,e,o,n);var l=Ol();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(r)?(l=!0,qs(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Tl(t),o.updater=ao,t.stateNode=o,o._reactInternals=t,Dl(t,r,e,n),t=Ul(null,t,r,!0,l,n)):(t.tag=0,Be&&l&&hl(t),Ct(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(co(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Gf(r),e=an(r,e),o){case 0:t=Fl(null,t,r,e,n);break e;case 1:t=yc(null,t,r,e,n);break e;case 11:t=fc(null,t,r,e,n);break e;case 14:t=pc(null,t,r,an(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:an(r,o),Fl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:an(r,o),yc(e,t,r,o,n);case 3:e:{if(vc(t),e===null)throw Error(s(387));r=t.pendingProps,l=t.memoizedState,o=l.element,Iu(e,t),to(t,r,null,n);var d=t.memoizedState;if(r=d.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=vi(Error(s(423)),t),t=xc(e,t,r,n,o);break e}else if(r!==o){o=vi(Error(s(424)),t),t=xc(e,t,r,n,o);break e}else for(Bt=Xn(t.stateNode.containerInfo.firstChild),At=t,Be=!0,ln=null,n=Nu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pi(),r===o){t=Fn(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return Au(t),e===null&&yl(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,d=o.children,al(r,o)?d=null:l!==null&&al(r,l)&&(t.flags|=32),gc(e,t),Ct(e,t,d,n),t.child;case 6:return e===null&&yl(t),null;case 13:return wc(e,t,n);case 4:return Cl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hi(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:an(r,o),fc(e,t,r,o,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,d=o.value,Ne(Xs,r._currentValue),r._currentValue=d,l!==null)if(on(l.value,d)){if(l.children===o.children&&!Et.current){t=Fn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var m=l.dependencies;if(m!==null){d=l.child;for(var v=m.firstContext;v!==null;){if(v.context===r){if(l.tag===1){v=Wn(-1,n&-n),v.tag=2;var _=l.updateQueue;if(_!==null){_=_.shared;var L=_.pending;L===null?v.next=v:(v.next=L.next,L.next=v),_.pending=v}}l.lanes|=n,v=l.alternate,v!==null&&(v.lanes|=n),kl(l.return,n,t),m.lanes|=n;break}v=v.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(s(341));d.lanes|=n,m=d.alternate,m!==null&&(m.lanes|=n),kl(d,n,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}Ct(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,gi(t,n),o=Vt(o),r=r(o),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,o=an(r,t.pendingProps),o=an(r.type,o),pc(e,t,r,o,n);case 15:return hc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:an(r,o),co(e,t),t.tag=1,Pt(r)?(e=!0,qs(t)):e=!1,gi(t,n),sc(t,r,o),Dl(t,r,o,n),Ul(null,t,r,!0,e,n);case 19:return kc(e,t,n);case 22:return mc(e,t,n)}throw Error(s(156,t.tag))};function qc(e,t){return Mi(e,t)}function qf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,n,r){return new qf(e,t,n,r)}function aa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gf(e){if(typeof e=="function")return aa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yt)return 11;if(e===ct)return 14}return 2}function ur(e,t){var n=e.alternate;return n===null?(n=Qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ko(e,t,n,r,o,l){var d=2;if(r=e,typeof e=="function")aa(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case He:return Lr(n.children,o,l,t);case Oe:d=8,o|=8;break;case Ze:return e=Qt(12,n,t,o|2),e.elementType=Ze,e.lanes=l,e;case gt:return e=Qt(13,n,t,o),e.elementType=gt,e.lanes=l,e;case xe:return e=Qt(19,n,t,o),e.elementType=xe,e.lanes=l,e;case Re:return jo(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:d=10;break e;case mt:d=9;break e;case Yt:d=11;break e;case ct:d=14;break e;case it:d=16,r=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Qt(d,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function Lr(e,t,n,r){return e=Qt(7,e,r,t),e.lanes=n,e}function jo(e,t,n,r){return e=Qt(22,e,r,t),e.elementType=Re,e.lanes=n,e.stateNode={isHidden:!1},e}function ua(e,t,n){return e=Qt(6,e,null,t),e.lanes=n,e}function ca(e,t,n){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qf(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kn(0),this.expirationTimes=Kn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function da(e,t,n,r,o,l,d,m,v){return e=new Qf(e,t,n,m,v),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Qt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(l),e}function Kf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$e,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Gc(e){if(!e)return er;e=e._reactInternals;e:{if(It(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(Pt(n))return Su(e,n,t)}return t}function Qc(e,t,n,r,o,l,d,m,v){return e=da(n,r,!0,e,o,l,d,m,v),e.context=Gc(null),n=e.current,r=_t(),o=lr(n),l=Wn(r,o),l.callback=t??null,rr(n,l,o),e.current.lanes=o,vr(e,o,r),Nt(e,r),e}function To(e,t,n,r){var o=t.current,l=_t(),d=lr(o);return n=Gc(n),t.context===null?t.context=n:t.pendingContext=n,t=Wn(l,d),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rr(o,t,d),e!==null&&(dn(e,o,d,l),eo(e,o,d)),d}function Co(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fa(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}function Jf(){return null}var Jc=typeof reportError=="function"?reportError:function(e){console.error(e)};function pa(e){this._internalRoot=e}_o.prototype.render=pa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));To(e,t,null,null)},_o.prototype.unmount=pa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){To(null,e,null,null)}),t[Ln]=null}};function _o(e){this._internalRoot=e}_o.prototype.unstable_scheduleHydration=function(e){if(e){var t=zs();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xn.length&&t!==0&&t<xn[n].priority;n++);xn.splice(n,0,e),n===0&&Rn(e)}};function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function Yf(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var _=Co(d);l.call(_)}}var d=Qc(t,r,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=d,e[Ln]=d.current,rs(e.nodeType===8?e.parentNode:e),Or(),d}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var m=r;r=function(){var _=Co(v);m.call(_)}}var v=da(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=v,e[Ln]=v.current,rs(e.nodeType===8?e.parentNode:e),Or(function(){To(t,v,n,r)}),v}function Po(e,t,n,r,o){var l=n._reactRootContainer;if(l){var d=l;if(typeof o=="function"){var m=o;o=function(){var v=Co(d);m.call(v)}}To(t,d,e,o)}else d=Yf(n,t,e,o,r);return Co(d)}gn=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qn(t.pendingLanes);n!==0&&(qi(t,n|1),Nt(t,be()),(ve&6)===0&&(Si=be()+500,tr()))}break;case 13:Or(function(){var r=Mn(e,1);if(r!==null){var o=_t();dn(r,e,1,o)}}),fa(e,1)}},Gi=function(e){if(e.tag===13){var t=Mn(e,134217728);if(t!==null){var n=_t();dn(t,e,134217728,n)}fa(e,134217728)}},Is=function(e){if(e.tag===13){var t=lr(e),n=Mn(e,t);if(n!==null){var r=_t();dn(n,e,t,r)}fa(e,t)}},zs=function(){return Se},Yr=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}},Ur=function(e,t,n){switch(t){case"input":if(hn(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Hs(r);if(!o)throw Error(s(90));mr(r),hn(r,o)}}}break;case"textarea":Dr(e,n);break;case"select":t=n.value,t!=null&&st(e,!!n.multiple,t,!1)}},zi=sa,Li=Or;var Xf={usingClientEntryPoint:!1,Events:[os,ai,Hs,$r,Ii,sa]},ws={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zf={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ns(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||Jf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{Ae=bo.inject(Zf),Wt=bo}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xf,Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ha(t))throw Error(s(200));return Kf(e,t,null,n)},Ot.createRoot=function(e,t){if(!ha(e))throw Error(s(299));var n=!1,r="",o=Jc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=da(e,1,!1,null,null,n,!1,r,o),e[Ln]=t.current,rs(e.nodeType===8?e.parentNode:e),new pa(t)},Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ns(t),e=e===null?null:e.stateNode,e},Ot.flushSync=function(e){return Or(e)},Ot.hydrate=function(e,t,n){if(!Eo(t))throw Error(s(200));return Po(null,e,t,!0,n)},Ot.hydrateRoot=function(e,t,n){if(!ha(e))throw Error(s(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",d=Jc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=Qc(t,null,e,1,n??null,o,!1,l,d),e[Ln]=t.current,rs(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new _o(t)},Ot.render=function(e,t,n){if(!Eo(t))throw Error(s(200));return Po(null,e,t,!1,n)},Ot.unmountComponentAtNode=function(e){if(!Eo(e))throw Error(s(40));return e._reactRootContainer?(Or(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[Ln]=null})}),!0):!1},Ot.unstable_batchedUpdates=sa,Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Eo(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Po(e,t,n,!1,r)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var sd;function ap(){if(sd)return ya.exports;sd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(i){console.error(i)}}return u(),ya.exports=lp(),ya.exports}var od;function up(){if(od)return Ro;od=1;var u=ap();return Ro.createRoot=u.createRoot,Ro.hydrateRoot=u.hydrateRoot,Ro}var cp=up();const dp=tp(cp);var O=Ia();const fp=({suit:u,color:i,size:s=40})=>{const a=()=>{switch(u){case"eicheln":return c.jsxs("svg",{width:s,height:s,viewBox:"0 0 100 100",children:[c.jsx("ellipse",{cx:"50",cy:"35",rx:"25",ry:"15",fill:i}),c.jsx("path",{d:"M 30,35 Q 30,40 35,42 L 45,48 Q 50,52 55,48 L 65,42 Q 70,40 70,35",fill:i}),c.jsx("ellipse",{cx:"50",cy:"65",rx:"20",ry:"25",fill:i,opacity:"0.8"}),c.jsx("line",{x1:"40",y1:"35",x2:"38",y2:"42",stroke:"#654321",strokeWidth:"1"}),c.jsx("line",{x1:"50",y1:"35",x2:"50",y2:"45",stroke:"#654321",strokeWidth:"1"}),c.jsx("line",{x1:"60",y1:"35",x2:"62",y2:"42",stroke:"#654321",strokeWidth:"1"})]});case"schellen":return c.jsxs("svg",{width:s,height:s,viewBox:"0 0 100 100",children:[c.jsx("path",{d:"M 50,20 Q 35,25 30,45 L 30,60 Q 30,70 50,75 Q 70,70 70,60 L 70,45 Q 65,25 50,20 Z",fill:i,stroke:"#333",strokeWidth:"2"}),c.jsx("rect",{x:"45",y:"15",width:"10",height:"8",rx:"2",fill:i}),c.jsx("circle",{cx:"50",cy:"75",r:"5",fill:"#FFD700"}),c.jsx("line",{x1:"50",y1:"70",x2:"50",y2:"25",stroke:"#666",strokeWidth:"2"}),c.jsx("path",{d:"M 20,50 Q 15,50 12,55",stroke:i,strokeWidth:"2",fill:"none",opacity:"0.4"}),c.jsx("path",{d:"M 80,50 Q 85,50 88,55",stroke:i,strokeWidth:"2",fill:"none",opacity:"0.4"})]});case"rosen":return c.jsxs("svg",{width:s,height:s,viewBox:"0 0 100 100",children:[c.jsx("circle",{cx:"50",cy:"50",r:"12",fill:i}),c.jsx("ellipse",{cx:"35",cy:"40",rx:"15",ry:"20",fill:i,opacity:"0.7",transform:"rotate(-30 35 40)"}),c.jsx("ellipse",{cx:"65",cy:"40",rx:"15",ry:"20",fill:i,opacity:"0.7",transform:"rotate(30 65 40)"}),c.jsx("ellipse",{cx:"35",cy:"60",rx:"15",ry:"20",fill:i,opacity:"0.7",transform:"rotate(30 35 60)"}),c.jsx("ellipse",{cx:"65",cy:"60",rx:"15",ry:"20",fill:i,opacity:"0.7",transform:"rotate(-30 65 60)"}),c.jsx("ellipse",{cx:"50",cy:"32",rx:"12",ry:"15",fill:i,opacity:"0.8"}),c.jsx("ellipse",{cx:"68",cy:"50",rx:"12",ry:"15",fill:i,opacity:"0.8",transform:"rotate(90 68 50)"}),c.jsx("ellipse",{cx:"50",cy:"68",rx:"12",ry:"15",fill:i,opacity:"0.8"}),c.jsx("ellipse",{cx:"32",cy:"50",rx:"12",ry:"15",fill:i,opacity:"0.8",transform:"rotate(90 32 50)"}),c.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"#8B0000",opacity:"0.6"})]});case"schilten":return c.jsxs("svg",{width:s,height:s,viewBox:"0 0 100 100",children:[c.jsx("path",{d:"M 50,10 L 80,25 L 80,55 Q 80,75 50,90 Q 20,75 20,55 L 20,25 Z",fill:i,stroke:"#000",strokeWidth:"3"}),c.jsx("rect",{x:"45",y:"30",width:"10",height:"35",fill:"#fff",opacity:"0.3"}),c.jsx("rect",{x:"35",y:"45",width:"30",height:"10",fill:"#fff",opacity:"0.3"}),c.jsx("path",{d:"M 30,35 Q 50,40 70,35",stroke:"#fff",strokeWidth:"2",fill:"none",opacity:"0.4"}),c.jsx("path",{d:"M 30,60 Q 50,55 70,60",stroke:"#fff",strokeWidth:"2",fill:"none",opacity:"0.4"})]});default:return c.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",fontSize:s,children:"?"})}};return c.jsx("div",{style:{display:"inline-block"},children:a()})},pp=({rank:u,suit:i,color:s})=>{const a=()=>{switch(u){case"U":return c.jsxs("svg",{width:"50",height:"70",viewBox:"0 0 50 70",children:[c.jsx("circle",{cx:"25",cy:"15",r:"8",fill:s})," ",c.jsx("rect",{x:"20",y:"23",width:"10",height:"20",fill:s})," ",c.jsx("line",{x1:"20",y1:"30",x2:"10",y2:"40",stroke:s,strokeWidth:"3"})," ",c.jsx("line",{x1:"30",y1:"30",x2:"40",y2:"40",stroke:s,strokeWidth:"3"})," ",c.jsx("line",{x1:"22",y1:"43",x2:"18",y2:"60",stroke:s,strokeWidth:"3"})," ",c.jsx("line",{x1:"28",y1:"43",x2:"32",y2:"60",stroke:s,strokeWidth:"3"})," "]});case"O":return c.jsxs("svg",{width:"50",height:"70",viewBox:"0 0 50 70",children:[c.jsx("rect",{x:"18",y:"8",width:"14",height:"6",fill:s})," ",c.jsx("rect",{x:"20",y:"3",width:"10",height:"8",fill:s})," ",c.jsx("circle",{cx:"25",cy:"18",r:"7",fill:s})," ",c.jsx("rect",{x:"18",y:"25",width:"14",height:"22",fill:s})," ",c.jsx("line",{x1:"18",y1:"30",x2:"8",y2:"38",stroke:s,strokeWidth:"3"})," ",c.jsx("line",{x1:"32",y1:"30",x2:"42",y2:"38",stroke:s,strokeWidth:"3"})," ",c.jsx("line",{x1:"21",y1:"47",x2:"18",y2:"65",stroke:s,strokeWidth:"3"})," ",c.jsx("line",{x1:"29",y1:"47",x2:"32",y2:"65",stroke:s,strokeWidth:"3"})," "]});case"K":return c.jsxs("svg",{width:"50",height:"70",viewBox:"0 0 50 70",children:[c.jsx("path",{d:"M 15,8 L 18,3 L 21,8 L 25,2 L 29,8 L 32,3 L 35,8 Z",fill:"#FFD700"})," ",c.jsx("circle",{cx:"25",cy:"18",r:"8",fill:s})," ",c.jsx("rect",{x:"17",y:"26",width:"16",height:"24",fill:s})," ",c.jsx("line",{x1:"17",y1:"32",x2:"5",y2:"40",stroke:s,strokeWidth:"4"})," ",c.jsx("line",{x1:"33",y1:"32",x2:"45",y2:"40",stroke:s,strokeWidth:"4"})," ",c.jsx("line",{x1:"21",y1:"50",x2:"18",y2:"68",stroke:s,strokeWidth:"4"})," ",c.jsx("line",{x1:"29",y1:"50",x2:"32",y2:"68",stroke:s,strokeWidth:"4"})," ",c.jsx("line",{x1:"45",y1:"40",x2:"48",y2:"55",stroke:"#FFD700",strokeWidth:"2"}),c.jsx("circle",{cx:"48",cy:"52",r:"3",fill:"#FFD700"})]});default:return null}};return c.jsx("div",{style:{display:"inline-flex",justifyContent:"center",alignItems:"center"},children:a()})},wa=({card:u,isSelected:i,isPlayable:s,onClick:a})=>{const[p,h]=O.useState(!1),[S,R]=O.useState(!1),y={eicheln:"#8B4513",schellen:"#FFD700",rosen:"#DC143C",schilten:"#2F4F4F"},P={U:"U",O:"O",K:"K",A:"A"},b=["U","O","K"].includes(u.rank),B=y[u.suit]||"#000",ne=()=>`/assets/cards/${u.suit}_${u.rank}.png`,W=()=>{h(!0),R(!1)},F=()=>{R(!0),h(!1)},N=()=>{const Le={width:"80px",height:"112px",backgroundColor:S&&!p?"transparent":"white",borderRadius:"10px",padding:S&&!p?"0":"6px",margin:"2px",display:"flex",flexDirection:"column",justifyContent:"space-between",fontSize:"14px",position:"relative",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",overflow:"hidden",cursor:s?"pointer":"default",border:"2px solid #e5e7eb",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",color:i?"white":"black",opacity:s===!1?.5:1,filter:s===!1?"grayscale(40%)":"none"};return i?(Le.transform="translateY(-16px) scale(1.1)",Le.boxShadow="0 20px 40px rgba(245, 158, 11, 0.6), 0 0 0 3px #f59e0b",Le.border="2px solid #f59e0b",Le.zIndex=101):s&&!i&&(Le.border="2px solid #10b981"),u.isTrump&&(Le.boxShadow="0 4px 20px rgba(255, 215, 0, 0.5), 0 0 15px rgba(255, 215, 0, 0.3)",Le.border="3px solid #FFD700"),Le},J=P[u.rank]||u.rank,Ee=()=>p?c.jsxs(c.Fragment,{children:[c.jsx("div",{style:{fontWeight:"bold",fontSize:"16px",color:i?"white":y[u.suit]},children:J}),c.jsx("div",{style:{fontSize:"28px",textAlign:"center",filter:i?"brightness(1.2)":"none",display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1},children:b?c.jsx(pp,{rank:u.rank,suit:u.suit,color:B}):c.jsx(fp,{suit:u.suit,color:B,size:35})}),c.jsx("div",{style:{transform:"rotate(180deg)",fontWeight:"bold",fontSize:"16px",color:i?"white":y[u.suit]},children:J}),u.points>=10&&c.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0,0,0,0.1)",borderRadius:"50%",width:"25px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",color:i?"white":"black"},children:u.points})]}):c.jsxs(c.Fragment,{children:[c.jsx("img",{src:ne(),alt:`${u.suit} ${u.rank}`,onError:W,onLoad:F,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px",display:S?"block":"none"}}),!S&&c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",color:"#999"},children:"Loading..."})]});return c.jsxs("div",{style:N(),onClick:s?a:void 0,children:[Ee(),u.isTrump&&c.jsx("div",{style:{position:"absolute",top:"-8px",right:"-8px",background:"linear-gradient(135deg, #FFD700, #FFA500)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",zIndex:10},children:"♔"}),s&&!i&&c.jsx("div",{style:{position:"absolute",bottom:"-5px",left:"50%",transform:"translateX(-50%)",width:"8px",height:"8px",background:"#10b981",borderRadius:"50%",animation:"pulse 1.5s infinite",zIndex:10}})]})},fr=["eicheln","schellen","rosen","schilten"],hp=["6","7","8","9","10","U","O","K","A"],Ts={6:0,7:0,8:0,9:0,10:10,U:2,O:3,K:4,A:11},Cs={U:20,9:14,A:11,10:10,K:4,O:3,8:0,7:0,6:0},mp=["U","9","A","K","O","10","8","7","6"],ld=["A","K","O","U","10","9","8","7","6"];function pr(u,i,s){return i==="unden-ufe"?["6","7","8","9","U","O","K","10","A"].indexOf(u):i==="oben-abe"?ld.indexOf(u):s?mp.indexOf(u):ld.indexOf(u)}function gp(u,i){return`${u}_${i}_${Math.random().toString(36).slice(2,9)}`}function yp(){const u=[];for(const i of fr)for(const s of hp)u.push({id:gp(i,s),suit:i,rank:s});return u}function vp(u){for(let i=u.length-1;i>0;i--){const s=Math.floor(Math.random()*(i+1));[u[i],u[s]]=[u[s],u[i]]}}function wd(){const u=yp();vp(u);const i=["You","Anna (bot)","Reto (bot)","Fritz (bot)"],s=[0,1,2,3].map(a=>({id:a,name:i[a]||`Player ${a+1}`,team:a%2===0?1:2,hand:[],tricks:[],points:0,weis:[]}));for(let a=0;a<9;a++)for(let p=0;p<4;p++){const h=u.pop();s[p].hand.push(h)}return s}function xp(u){const i=wd(),s=0,a=(s+1)%4;return{phase:"trump_selection",trump:null,currentPlayer:a,dealer:s,forehand:a,currentTrick:[],trickLead:null,players:i,scores:{team1:0,team2:0}}}function ad(u){const i=wd(),s=(u.dealer+1)%4,a=(s+1)%4;return{phase:"trump_selection",trump:null,currentPlayer:a,dealer:s,forehand:a,currentTrick:[],trickLead:null,players:i,scores:u.scores}}function wp(){return fr[Math.floor(Math.random()*fr.length)]}function Sp(u,i){const s=u.players.find(F=>F.id===i);if(!s)return wp();const a=s.hand,p={eicheln:0,schellen:0,rosen:0,schilten:0},h={eicheln:0,schellen:0,rosen:0,schilten:0};a.forEach(F=>{switch(p[F.suit]++,F.rank){case"A":h[F.suit]+=4;break;case"K":h[F.suit]+=3;break;case"O":h[F.suit]+=3;break;case"U":h[F.suit]+=5;break;case"10":h[F.suit]+=2;break;case"9":h[F.suit]+=1;break}});let S="eicheln",R=0;Object.keys(p).forEach(F=>{const N=p[F]*2+h[F];N>R&&(R=N,S=F)});const y=a.filter(F=>["A","K","O"].includes(F.rank)).length,P=Math.random();if(y>=5&&P<.1)return"oben-abe";const b=a.filter(F=>["6","7","8"].includes(F.rank)).length;if(b>=5&&P<.05)return"unden-ufe";const B=Object.values(h).reduce((F,N)=>F+N,0)+y*2-b,ne=["eicheln","schellen","rosen","schilten"].reduce((F,N)=>F+s.hand.filter(J=>J.suit===N).length,0);let W=.2;return(ne>=4||R>=10)&&(W=.05),b>=6&&(W=.35),B<6&&Math.random()<W?"schieben":S}function ud(u,i){const s=JSON.parse(JSON.stringify(u));if(i==="schieben")return s.currentPlayer=(u.currentPlayer+2)%4,s.phase="trump_selection",s.declarer=null,s.trump=null,s;const a=i;s.trump=a,s.declarer=u.currentPlayer,typeof u.forehand=="number"?s.forehand=u.forehand:s.forehand=(u.dealer+1)%4,i==="schellen"||i==="schilten"?s.trumpMultiplier=2:i==="oben-abe"?s.trumpMultiplier=3:i==="unden-ufe"?s.trumpMultiplier=4:s.trumpMultiplier=1,s.matchBonus=100,s.weis={};for(const h of s.players)h.weis=Tp(h.hand),s.weis[h.id]=h.weis;s.stoeckPending={};const p=a==="oben-abe"||a==="unden-ufe"?null:a;if(p)for(const h of s.players){const S=h.hand.some(y=>y.suit===p&&y.rank==="K"),R=h.hand.some(y=>y.suit===p&&y.rank==="O");S&&R&&(s.stoeckPending[h.id]={remaining:2,awarded:!1})}return s.phase="playing",s.currentPlayer=typeof s.forehand=="number"?s.forehand:s.dealer,s.trickLead=null,s}function ut(u,i){const s=u.players.find(y=>y.id===i);if(!s)return[];if(u.currentTrick.length===0)return s.hand.slice();const a=u.trickLead,p=u.trump,h=s.hand.filter(y=>y.suit===a);if(h.length>0)return h;const S=p&&fr.includes(p)?p:null;if(S){const y=s.hand.filter(P=>P.suit===S);if(y.length>0)return y}const R=s.hand.slice();return R.length>0?R:[]}function kp(u,i,s,a){const p=s&&fr.includes(s)?s:null,h=p?u.suit===p:!1,S=p?i.suit===p:!1;return h&&!S?1:!h&&S?-1:pr(u.rank,s,h)-pr(i.rank,s,S)}function Sd(u,i,s){let a=0;for(let S=1;S<u.length;S++)kp(u[S],u[a],i);let p=0,h=u[0];for(let S=1;S<u.length;S++){const R=u[S],y=h,P=i?R.suit===i:!1,b=i?y.suit===i:!1;if(P&&!b){h=R,p=S;continue}if(!P&&b)continue;if(s){const W=R.suit===s,F=y.suit===s;if(W&&!F){h=R,p=S;continue}if(!W&&F)continue}const B=pr(R.rank,i,P),ne=pr(y.rank,i,b);B<ne&&(h=R,p=S)}return p}function jp(u){if(!u.currentTrick||u.currentTrick.length!==4)return null;const i=u.trickLead,s=Sd(u.currentTrick,u.trump||void 0,i);return u.currentTrick[s].playerId}function Sa(u,i,s){const a=JSON.parse(JSON.stringify(u)),p=a.players.find(y=>y.id===i),h=p.hand.findIndex(y=>y.id===s);if(h===-1)return a;const S=p.hand.splice(h,1)[0];a.currentTrick.length===0&&(a.trickLead=S.suit);const R=a.trump&&fr.includes(a.trump)?a.trump:null;if(R&&S.suit===R&&(S.rank==="K"||S.rank==="O")&&a.stoeckPending){const y=a.stoeckPending[i];if(y&&!y.awarded){if(y.remaining=Math.max(0,y.remaining-1),y.remaining===0){y.awarded=!0;const P=a.players.find(b=>b.id===i)?.team;P===1?a.scores.team1+=20:P===2&&(a.scores.team2+=20)}a.stoeckPending[i]=y}}return a.currentTrick.push({...S,playerId:i}),a.currentTrick.length===4?(a.pendingResolve=!0,a.phase="resolving"):a.currentPlayer=(a.currentPlayer+1)%4,a}function Ti(u){return["6","7","8","9","10","U","O","K","A"].indexOf(u)}function Tp(u,i){const s=[],a={};for(const h of u)a[h.suit]||(a[h.suit]=[]),a[h.suit].push(h);for(const h in a)a[h].sort((S,R)=>Ti(S.rank)-Ti(R.rank));for(const h in a){const S=a[h];if(S.length>=3){const R=Cp(S);for(const y of R){const P=y.length;if(P>=3){const b=P===3?20:P===4?50:P===5?100:P===6?150:P===7?200:P===8?250:300,B=P>=5?"sequence5plus":P===4?"sequence4":"sequence3";s.push({type:B,cards:y,points:b,description:`Sequenz ${P} (${y[0].rank}-${y[P-1].rank} ${h})`})}}}}const p={};for(const h of u)p[h.rank]||(p[h.rank]=[]),p[h.rank].push(h);for(const h in p)if(p[h].length===4){const S=p[h],R=h==="U"?{type:"four_jacks",points:200,label:"Vier Buben"}:h==="9"?{type:"four_nines",points:150,label:"Vier Neuner"}:h==="A"?{type:"four_aces",points:100,label:"Vier Asse"}:h==="K"?{type:"four_kings",points:100,label:"Vier Könige"}:h==="O"?{type:"four_queens",points:100,label:"Vier Damen"}:h==="10"?{type:"four_tens",points:100,label:"Vier Zehner"}:{type:"four_misc",points:100,label:"Vier Gleiche"};s.push({type:R.type,cards:S,points:R.points,description:R.label})}return s}function Cp(u){const i=[];let s=[u[0]];for(let a=1;a<u.length;a++){const p=Ti(u[a-1].rank);Ti(u[a].rank)===p+1?s.push(u[a]):(s.length>=3&&i.push(s),s=[u[a]])}return s.length>=3&&i.push(s),i}function _p(u){const i=u.filter(y=>y.team===1),s=u.filter(y=>y.team===2);let a=null,p=null;const h={};for(const y of i){h[y.id]=y.weis||[];for(const P of y.weis||[])(!a||No(P,a))&&(a=P)}for(const y of s){h[y.id]=y.weis||[];for(const P of y.weis||[])(!p||No(P,p))&&(p=P)}let S=0,R=0;return a&&p?No(a,p)?S=i.reduce((y,P)=>y+(P.weis?.reduce((b,B)=>b+B.points,0)||0),0):No(p,a)&&(R=s.reduce((y,P)=>y+(P.weis?.reduce((b,B)=>b+B.points,0)||0),0)):a?S=i.reduce((y,P)=>y+(P.weis?.reduce((b,B)=>b+B.points,0)||0),0):p&&(R=s.reduce((y,P)=>y+(P.weis?.reduce((b,B)=>b+B.points,0)||0),0)),{team1:S,team2:R,details:h}}function No(u,i){if(u.points!==i.points)return u.points>i.points;if(u.type.startsWith("sequence")&&i.type.startsWith("sequence")){if(u.cards.length!==i.cards.length)return u.cards.length>i.cards.length;const s=Math.max(...u.cards.map(p=>Ti(p.rank))),a=Math.max(...i.cards.map(p=>Ti(p.rank)));return s>a}return!1}function Oo(u){const i=JSON.parse(JSON.stringify(u));if(!i.pendingResolve)return i;if(!i.currentTrick||i.currentTrick.length!==4)return i.pendingResolve=!1,i;const s=i.trickLead,a=Sd(i.currentTrick,i.trump||void 0,s),h=i.currentTrick[a].playerId,S=i.currentTrick.slice();i.lastTrick=S.slice(),i.players.find(b=>b.id===h).tricks.push(...S.map(b=>({id:b.id,suit:b.suit,rank:b.rank})));let R=0;for(const b of S){const B=i.trump&&b.suit===i.trump;R+=B?Cs[b.rank]:Ts[b.rank]}if(i.players.every(b=>b.hand.length===0)&&(R+=5),i.players.find(b=>b.id===h).team===1?i.scores.team1+=R:i.scores.team2+=R,i.currentTrick=[],i.trickLead=null,i.currentPlayer=h,i.pendingResolve=!1,i.players.every(b=>b.hand.length===0)){const b=kd(i);i.scores=b.scores,i.trumpMultiplier=b.trumpMultiplier,i.matchBonus=b.matchBonus,i.phase="finished";const B=i.players.filter(N=>N.team===1),ne=i.players.filter(N=>N.team===2),W=i.scores.team1,F=i.scores.team2;B.forEach(N=>N.points=W),ne.forEach(N=>N.points=F),i.scores.team1>=1e3||i.scores.team2>=1e3?i.phase="finished":i.phase="playing"}else i.phase="playing";return i}function kd(u){const i=JSON.parse(JSON.stringify(u)),s=i.trumpMultiplier||1,a=_p(i.players),p=i.scores.team1||0,h=i.scores.team2||0;let S=p+(a.team1||0),R=h+(a.team2||0);try{console.log("settleHand debug: rawTeam1=",p,"rawTeam2=",h,"weisTeam1=",a.team1,"weisTeam2=",a.team2,"multiplier=",s,"declarer=",i.declarer),console.log("  after weis: t1=",S,"t2=",R)}catch{}S=S*s,R=R*s;try{console.log("  after multiplier: t1=",S,"t2=",R)}catch{}try{const y=i.players.filter(B=>B.team===1).reduce((B,ne)=>B+(ne.tricks?.length||0),0),P=i.players.filter(B=>B.team===2).reduce((B,ne)=>B+(ne.tricks?.length||0),0),b=i.matchBonus||100;y===36?S+=b*s:P===36&&(R+=b*s)}catch{}try{console.log("  after match bonus: t1=",S,"t2=",R)}catch{}return i.scores.team1=S,i.scores.team2=R,i}function cd(u,i){const s=ut(u,i);if(s.length===0){const W=u.players.find(F=>F.id===i)?.hand?.[0];return W?W.id:null}const a=u.players.find(W=>W.id===i),p=u.trump,h=u.currentTrick,S=h.length===0,R=h.length===3,y=u.trickLead;if(S){const W=s.filter(N=>N.suit===p);if(W.length>0){const N=W.filter(J=>["O","K","A"].includes(J.rank));if(N.length>0)return N[Math.floor(Math.random()*N.length)].id;if(W.some(J=>J.rank==="U")&&W.length<=2)return W.find(J=>J.rank==="U").id}const F=s.filter(N=>N.suit!==p);if(F.length>0){const N=F.filter(J=>["A","K","O"].includes(J.rank));if(N.length>0)return N[Math.floor(Math.random()*N.length)].id}}if(R){const W=dd(s,h,p,y);return W.length>0?W.slice().sort((N,J)=>{const Ee=N.suit===p?Cs[N.rank]:Ts[N.rank],Le=J.suit===p?Cs[J.rank]:Ts[J.rank];return Ee!==Le?Ee-Le:ji(N,J,p)})[0].id:s.sort((N,J)=>ji(N,J,p))[0].id}const P=u.players.find(W=>W.team===a.team&&W.id!==a.id),b=Ep(h,p,y);if(P&&b?.playerId===P.id){const W=s.filter(N=>N.suit!==p);return W.length>0?W.sort((N,J)=>ji(N,J,p))[0].id:s.sort((N,J)=>ji(N,J,p))[0].id}else{const W=dd(s,h,p,y);if(W.length>0){const F=W.filter(N=>N.rank!=="U");return F.length>0?F.sort((N,J)=>ji(N,J,p))[0].id:W.sort((N,J)=>ji(N,J,p))[0].id}}return s[Math.floor(Math.random()*s.length)].id}function dd(u,i,s,a){if(i.length===0)return u;let p=i[0];for(let h=1;h<i.length;h++)Ca(i[h],p,s,a)&&(p=i[h]);return u.filter(h=>Ca(h,p,s,a))}function Ep(u,i,s){if(u.length===0)return null;let a=u[0];for(let p=1;p<u.length;p++)Ca(u[p],a,i,s)&&(a=u[p]);return a}function ji(u,i,s,a){const p=s&&fr.includes(s)?s:null,h=p?u.suit===p:!1,S=p?i.suit===p:!1,R=h?Cs[u.rank]:Ts[u.rank],y=S?Cs[i.rank]:Ts[i.rank];if(R!==y)return R-y;const P=pr(u.rank,s,h),b=pr(i.rank,s,S);return P-b}function Ca(u,i,s,a){const p=s&&fr.includes(s)?s:null,h=p?u.suit===p:!1,S=p?i.suit===p:!1;if(h&&!S)return!0;if(!h&&S)return!1;if(a){const P=u.suit===a,b=i.suit===a;if(P&&!b)return!0;if(!P&&b)return!1}const R=pr(u.rank,s,h),y=pr(i.rank,s,S);return R<y}const Pp=O.forwardRef((u,i)=>{const{playlistId:s,width:a=320,height:p=200,autoplay:h=!1}=u,S=O.useRef("yt-player-"+Math.random().toString(36).slice(2,9)),R=O.useRef(null);return O.useImperativeHandle(i,()=>({next:()=>R.current?.nextVideo(),prev:()=>R.current?.previousVideo(),play:()=>R.current?.playVideo(),pause:()=>R.current?.pauseVideo()})),O.useEffect(()=>{if(!window.YT){const P=document.createElement("script");P.src="https://www.youtube.com/iframe_api",document.body.appendChild(P)}const y=()=>{window.YT&&(R.current=new window.YT.Player(S.current,{height:String(p),width:String(a),playerVars:{listType:"playlist",list:s,autoplay:h?1:0,controls:1},events:{onReady:P=>{}}}))};return window.YT&&window.YT.Player&&y(),window.onYouTubeIframeAPIReady=y,()=>{try{R.current?.destroy()}catch{}}},[s,a,p,h]),c.jsx("div",{style:{width:a,height:p},children:c.jsx("div",{id:S.current})})}),bp=typeof location<"u"&&location.hostname==="localhost",jd=typeof location<"u"&&location.hostname.includes("github.io"),Rp="http://192.168.1.141:3000";let pe;typeof window<"u"&&window.location.hostname==="jrudyray.github.io"?pe="https://192.168.1.141":pe="http://localhost:3000";console.log("API_URL configured as:",pe);console.log("Environment:",bp?"Development":"Production (Pi backend)");console.log("GitHub Pages deployment detected:",jd);jd&&Rp.startsWith("http:")&&(console.warn("⚠️  Mixed Content Warning: HTTPS frontend trying to connect to HTTP backend"),console.warn("💡 Solutions:"),console.warn("   1. Test locally: npm run dev"),console.warn("   2. Set up HTTPS on your Pi"),console.warn("   3. Allow insecure content in browser settings"));const Cn=Object.create(null);Cn.open="0";Cn.close="1";Cn.ping="2";Cn.pong="3";Cn.message="4";Cn.upgrade="5";Cn.noop="6";const Lo=Object.create(null);Object.keys(Cn).forEach(u=>{Lo[Cn[u]]=u});const _a={type:"error",data:"parser error"},Td=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Cd=typeof ArrayBuffer=="function",_d=u=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u&&u.buffer instanceof ArrayBuffer,za=({type:u,data:i},s,a)=>Td&&i instanceof Blob?s?a(i):fd(i,a):Cd&&(i instanceof ArrayBuffer||_d(i))?s?a(i):fd(new Blob([i]),a):a(Cn[u]+(i||"")),fd=(u,i)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];i("b"+(a||""))},s.readAsDataURL(u)};function pd(u){return u instanceof Uint8Array?u:u instanceof ArrayBuffer?new Uint8Array(u):new Uint8Array(u.buffer,u.byteOffset,u.byteLength)}let ka;function Np(u,i){if(Td&&u.data instanceof Blob)return u.data.arrayBuffer().then(pd).then(i);if(Cd&&(u.data instanceof ArrayBuffer||_d(u.data)))return i(pd(u.data));za(u,!1,s=>{ka||(ka=new TextEncoder),i(ka.encode(s))})}const hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",js=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let u=0;u<hd.length;u++)js[hd.charCodeAt(u)]=u;const Op=u=>{let i=u.length*.75,s=u.length,a,p=0,h,S,R,y;u[u.length-1]==="="&&(i--,u[u.length-2]==="="&&i--);const P=new ArrayBuffer(i),b=new Uint8Array(P);for(a=0;a<s;a+=4)h=js[u.charCodeAt(a)],S=js[u.charCodeAt(a+1)],R=js[u.charCodeAt(a+2)],y=js[u.charCodeAt(a+3)],b[p++]=h<<2|S>>4,b[p++]=(S&15)<<4|R>>2,b[p++]=(R&3)<<6|y&63;return P},Ip=typeof ArrayBuffer=="function",La=(u,i)=>{if(typeof u!="string")return{type:"message",data:Ed(u,i)};const s=u.charAt(0);return s==="b"?{type:"message",data:zp(u.substring(1),i)}:Lo[s]?u.length>1?{type:Lo[s],data:u.substring(1)}:{type:Lo[s]}:_a},zp=(u,i)=>{if(Ip){const s=Op(u);return Ed(s,i)}else return{base64:!0,data:u}},Ed=(u,i)=>{switch(i){case"blob":return u instanceof Blob?u:new Blob([u]);case"arraybuffer":default:return u instanceof ArrayBuffer?u:u.buffer}},Pd="",Lp=(u,i)=>{const s=u.length,a=new Array(s);let p=0;u.forEach((h,S)=>{za(h,!1,R=>{a[S]=R,++p===s&&i(a.join(Pd))})})},Ap=(u,i)=>{const s=u.split(Pd),a=[];for(let p=0;p<s.length;p++){const h=La(s[p],i);if(a.push(h),h.type==="error")break}return a};function Bp(){return new TransformStream({transform(u,i){Np(u,s=>{const a=s.length;let p;if(a<126)p=new Uint8Array(1),new DataView(p.buffer).setUint8(0,a);else if(a<65536){p=new Uint8Array(3);const h=new DataView(p.buffer);h.setUint8(0,126),h.setUint16(1,a)}else{p=new Uint8Array(9);const h=new DataView(p.buffer);h.setUint8(0,127),h.setBigUint64(1,BigInt(a))}u.data&&typeof u.data!="string"&&(p[0]|=128),i.enqueue(p),i.enqueue(s)})}})}let ja;function Io(u){return u.reduce((i,s)=>i+s.length,0)}function zo(u,i){if(u[0].length===i)return u.shift();const s=new Uint8Array(i);let a=0;for(let p=0;p<i;p++)s[p]=u[0][a++],a===u[0].length&&(u.shift(),a=0);return u.length&&a<u[0].length&&(u[0]=u[0].slice(a)),s}function Dp(u,i){ja||(ja=new TextDecoder);const s=[];let a=0,p=-1,h=!1;return new TransformStream({transform(S,R){for(s.push(S);;){if(a===0){if(Io(s)<1)break;const y=zo(s,1);h=(y[0]&128)===128,p=y[0]&127,p<126?a=3:p===126?a=1:a=2}else if(a===1){if(Io(s)<2)break;const y=zo(s,2);p=new DataView(y.buffer,y.byteOffset,y.length).getUint16(0),a=3}else if(a===2){if(Io(s)<8)break;const y=zo(s,8),P=new DataView(y.buffer,y.byteOffset,y.length),b=P.getUint32(0);if(b>Math.pow(2,21)-1){R.enqueue(_a);break}p=b*Math.pow(2,32)+P.getUint32(4),a=3}else{if(Io(s)<p)break;const y=zo(s,p);R.enqueue(La(h?y:ja.decode(y),i)),a=0}if(p===0||p>u){R.enqueue(_a);break}}}})}const bd=4;function Xe(u){if(u)return Mp(u)}function Mp(u){for(var i in Xe.prototype)u[i]=Xe.prototype[i];return u}Xe.prototype.on=Xe.prototype.addEventListener=function(u,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(i),this};Xe.prototype.once=function(u,i){function s(){this.off(u,s),i.apply(this,arguments)}return s.fn=i,this.on(u,s),this};Xe.prototype.off=Xe.prototype.removeListener=Xe.prototype.removeAllListeners=Xe.prototype.removeEventListener=function(u,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+u];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+u],this;for(var a,p=0;p<s.length;p++)if(a=s[p],a===i||a.fn===i){s.splice(p,1);break}return s.length===0&&delete this._callbacks["$"+u],this};Xe.prototype.emit=function(u){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+u],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,p=s.length;a<p;++a)s[a].apply(this,i)}return this};Xe.prototype.emitReserved=Xe.prototype.emit;Xe.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]};Xe.prototype.hasListeners=function(u){return!!this.listeners(u).length};const Mo=typeof Promise=="function"&&typeof Promise.resolve=="function"?i=>Promise.resolve().then(i):(i,s)=>s(i,0),Jt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Wp="arraybuffer";function Rd(u,...i){return i.reduce((s,a)=>(u.hasOwnProperty(a)&&(s[a]=u[a]),s),{})}const Fp=Jt.setTimeout,Up=Jt.clearTimeout;function Wo(u,i){i.useNativeTimers?(u.setTimeoutFn=Fp.bind(Jt),u.clearTimeoutFn=Up.bind(Jt)):(u.setTimeoutFn=Jt.setTimeout.bind(Jt),u.clearTimeoutFn=Jt.clearTimeout.bind(Jt))}const $p=1.33;function Hp(u){return typeof u=="string"?Vp(u):Math.ceil((u.byteLength||u.size)*$p)}function Vp(u){let i=0,s=0;for(let a=0,p=u.length;a<p;a++)i=u.charCodeAt(a),i<128?s+=1:i<2048?s+=2:i<55296||i>=57344?s+=3:(a++,s+=4);return s}function Nd(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function qp(u){let i="";for(let s in u)u.hasOwnProperty(s)&&(i.length&&(i+="&"),i+=encodeURIComponent(s)+"="+encodeURIComponent(u[s]));return i}function Gp(u){let i={},s=u.split("&");for(let a=0,p=s.length;a<p;a++){let h=s[a].split("=");i[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return i}class Qp extends Error{constructor(i,s,a){super(i),this.description=s,this.context=a,this.type="TransportError"}}class Aa extends Xe{constructor(i){super(),this.writable=!1,Wo(this,i),this.opts=i,this.query=i.query,this.socket=i.socket,this.supportsBinary=!i.forceBase64}onError(i,s,a){return super.emitReserved("error",new Qp(i,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(i){this.readyState==="open"&&this.write(i)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(i){const s=La(i,this.socket.binaryType);this.onPacket(s)}onPacket(i){super.emitReserved("packet",i)}onClose(i){this.readyState="closed",super.emitReserved("close",i)}pause(i){}createUri(i,s={}){return i+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const i=this.opts.hostname;return i.indexOf(":")===-1?i:"["+i+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(i){const s=qp(i);return s.length?"?"+s:""}}class Kp extends Aa{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(i){this.readyState="pausing";const s=()=>{this.readyState="paused",i()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(i){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};Ap(i,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const i=()=>{this.write([{type:"close"}])};this.readyState==="open"?i():this.once("open",i)}write(i){this.writable=!1,Lp(i,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const i=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=Nd()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(i,s)}}let Od=!1;try{Od=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Jp=Od;function Yp(){}class Xp extends Kp{constructor(i){if(super(i),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&i.hostname!==location.hostname||a!==i.port}}doWrite(i,s){const a=this.request({method:"POST",data:i});a.on("success",s),a.on("error",(p,h)=>{this.onError("xhr post error",p,h)})}doPoll(){const i=this.request();i.on("data",this.onData.bind(this)),i.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=i}}class Tn extends Xe{constructor(i,s,a){super(),this.createRequest=i,Wo(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var i;const s=Rd(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let p in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(p)&&a.setRequestHeader(p,this._opts.extraHeaders[p])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(i=this._opts.cookieJar)===null||i===void 0||i.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var p;a.readyState===3&&((p=this._opts.cookieJar)===null||p===void 0||p.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(p){this.setTimeoutFn(()=>{this._onError(p)},0);return}typeof document<"u"&&(this._index=Tn.requestsCount++,Tn.requests[this._index]=this)}_onError(i){this.emitReserved("error",i,this._xhr),this._cleanup(!0)}_cleanup(i){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Yp,i)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Tn.requests[this._index],this._xhr=null}}_onLoad(){const i=this._xhr.responseText;i!==null&&(this.emitReserved("data",i),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Tn.requestsCount=0;Tn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",md);else if(typeof addEventListener=="function"){const u="onpagehide"in Jt?"pagehide":"unload";addEventListener(u,md,!1)}}function md(){for(let u in Tn.requests)Tn.requests.hasOwnProperty(u)&&Tn.requests[u].abort()}const Zp=(function(){const u=Id({xdomain:!1});return u&&u.responseType!==null})();class eh extends Xp{constructor(i){super(i);const s=i&&i.forceBase64;this.supportsBinary=Zp&&!s}request(i={}){return Object.assign(i,{xd:this.xd},this.opts),new Tn(Id,this.uri(),i)}}function Id(u){const i=u.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!i||Jp))return new XMLHttpRequest}catch{}if(!i)try{return new Jt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const zd=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class th extends Aa{get name(){return"websocket"}doOpen(){const i=this.uri(),s=this.opts.protocols,a=zd?{}:Rd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(i,s,a)}catch(p){return this.emitReserved("error",p)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=i=>this.onClose({description:"websocket connection closed",context:i}),this.ws.onmessage=i=>this.onData(i.data),this.ws.onerror=i=>this.onError("websocket error",i)}write(i){this.writable=!1;for(let s=0;s<i.length;s++){const a=i[s],p=s===i.length-1;za(a,this.supportsBinary,h=>{try{this.doWrite(a,h)}catch{}p&&Mo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const i=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=Nd()),this.supportsBinary||(s.b64=1),this.createUri(i,s)}}const Ta=Jt.WebSocket||Jt.MozWebSocket;class nh extends th{createSocket(i,s,a){return zd?new Ta(i,s,a):s?new Ta(i,s):new Ta(i)}doWrite(i,s){this.ws.send(s)}}class rh extends Aa{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(i){return this.emitReserved("error",i)}this._transport.closed.then(()=>{this.onClose()}).catch(i=>{this.onError("webtransport error",i)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(i=>{const s=Dp(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=i.readable.pipeThrough(s).getReader(),p=Bp();p.readable.pipeTo(i.writable),this._writer=p.writable.getWriter();const h=()=>{a.read().then(({done:R,value:y})=>{R||(this.onPacket(y),h())}).catch(R=>{})};h();const S={type:"open"};this.query.sid&&(S.data=`{"sid":"${this.query.sid}"}`),this._writer.write(S).then(()=>this.onOpen())})})}write(i){this.writable=!1;for(let s=0;s<i.length;s++){const a=i[s],p=s===i.length-1;this._writer.write(a).then(()=>{p&&Mo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var i;(i=this._transport)===null||i===void 0||i.close()}}const ih={websocket:nh,webtransport:rh,polling:eh},sh=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,oh=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ea(u){if(u.length>8e3)throw"URI too long";const i=u,s=u.indexOf("["),a=u.indexOf("]");s!=-1&&a!=-1&&(u=u.substring(0,s)+u.substring(s,a).replace(/:/g,";")+u.substring(a,u.length));let p=sh.exec(u||""),h={},S=14;for(;S--;)h[oh[S]]=p[S]||"";return s!=-1&&a!=-1&&(h.source=i,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=lh(h,h.path),h.queryKey=ah(h,h.query),h}function lh(u,i){const s=/\/{2,9}/g,a=i.replace(s,"/").split("/");return(i.slice(0,1)=="/"||i.length===0)&&a.splice(0,1),i.slice(-1)=="/"&&a.splice(a.length-1,1),a}function ah(u,i){const s={};return i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,p,h){p&&(s[p]=h)}),s}const Pa=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ao=[];Pa&&addEventListener("offline",()=>{Ao.forEach(u=>u())},!1);class dr extends Xe{constructor(i,s){if(super(),this.binaryType=Wp,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,i&&typeof i=="object"&&(s=i,i=null),i){const a=Ea(i);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=Ea(s.host).host);Wo(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const p=a.prototype.name;this.transports.push(p),this._transportsByName[p]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Gp(this.opts.query)),Pa&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ao.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(i){const s=Object.assign({},this.opts.query);s.EIO=bd,s.transport=i,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[i]);return new this._transportsByName[i](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const i=this.opts.rememberUpgrade&&dr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(i);s.open(),this.setTransport(s)}setTransport(i){this.transport&&this.transport.removeAllListeners(),this.transport=i,i.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",dr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",i),this.emitReserved("heartbeat"),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=i.data,this._onError(s);break;case"message":this.emitReserved("data",i.data),this.emitReserved("message",i.data);break}}onHandshake(i){this.emitReserved("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this._pingInterval=i.pingInterval,this._pingTimeout=i.pingTimeout,this._maxPayload=i.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const i=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+i,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},i),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const i=this._getWritablePackets();this.transport.send(i),this._prevBufferLen=i.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const p=this.writeBuffer[a].data;if(p&&(s+=Hp(p)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const i=Date.now()>this._pingTimeoutTime;return i&&(this._pingTimeoutTime=0,Mo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),i}write(i,s,a){return this._sendPacket("message",i,s,a),this}send(i,s,a){return this._sendPacket("message",i,s,a),this}_sendPacket(i,s,a,p){if(typeof s=="function"&&(p=s,s=void 0),typeof a=="function"&&(p=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const h={type:i,data:s,options:a};this.emitReserved("packetCreate",h),this.writeBuffer.push(h),p&&this.once("flush",p),this.flush()}close(){const i=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),i()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():i()}):this.upgrading?a():i()),this}_onError(i){if(dr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",i),this._onClose("transport error",i)}_onClose(i,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Pa&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=Ao.indexOf(this._offlineEventListener);a!==-1&&Ao.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",i,s),this.writeBuffer=[],this._prevBufferLen=0}}}dr.protocol=bd;class uh extends dr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let i=0;i<this._upgrades.length;i++)this._probe(this._upgrades[i])}_probe(i){let s=this.createTransport(i),a=!1;dr.priorWebsocketSuccess=!1;const p=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",B=>{if(!a)if(B.type==="pong"&&B.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;dr.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(b(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const ne=new Error("probe error");ne.transport=s.name,this.emitReserved("upgradeError",ne)}}))};function h(){a||(a=!0,b(),s.close(),s=null)}const S=B=>{const ne=new Error("probe error: "+B);ne.transport=s.name,h(),this.emitReserved("upgradeError",ne)};function R(){S("transport closed")}function y(){S("socket closed")}function P(B){s&&B.name!==s.name&&h()}const b=()=>{s.removeListener("open",p),s.removeListener("error",S),s.removeListener("close",R),this.off("close",y),this.off("upgrading",P)};s.once("open",p),s.once("error",S),s.once("close",R),this.once("close",y),this.once("upgrading",P),this._upgrades.indexOf("webtransport")!==-1&&i!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(i){this._upgrades=this._filterUpgrades(i.upgrades),super.onHandshake(i)}_filterUpgrades(i){const s=[];for(let a=0;a<i.length;a++)~this.transports.indexOf(i[a])&&s.push(i[a]);return s}}let ch=class extends uh{constructor(i,s={}){const a=typeof i=="object"?i:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(p=>ih[p]).filter(p=>!!p)),super(i,a)}};function dh(u,i="",s){let a=u;s=s||typeof location<"u"&&location,u==null&&(u=s.protocol+"//"+s.host),typeof u=="string"&&(u.charAt(0)==="/"&&(u.charAt(1)==="/"?u=s.protocol+u:u=s.host+u),/^(https?|wss?):\/\//.test(u)||(typeof s<"u"?u=s.protocol+"//"+u:u="https://"+u),a=Ea(u)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const h=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+h+":"+a.port+i,a.href=a.protocol+"://"+h+(s&&s.port===a.port?"":":"+a.port),a}const fh=typeof ArrayBuffer=="function",ph=u=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(u):u.buffer instanceof ArrayBuffer,Ld=Object.prototype.toString,hh=typeof Blob=="function"||typeof Blob<"u"&&Ld.call(Blob)==="[object BlobConstructor]",mh=typeof File=="function"||typeof File<"u"&&Ld.call(File)==="[object FileConstructor]";function Ba(u){return fh&&(u instanceof ArrayBuffer||ph(u))||hh&&u instanceof Blob||mh&&u instanceof File}function Bo(u,i){if(!u||typeof u!="object")return!1;if(Array.isArray(u)){for(let s=0,a=u.length;s<a;s++)if(Bo(u[s]))return!0;return!1}if(Ba(u))return!0;if(u.toJSON&&typeof u.toJSON=="function"&&arguments.length===1)return Bo(u.toJSON(),!0);for(const s in u)if(Object.prototype.hasOwnProperty.call(u,s)&&Bo(u[s]))return!0;return!1}function gh(u){const i=[],s=u.data,a=u;return a.data=ba(s,i),a.attachments=i.length,{packet:a,buffers:i}}function ba(u,i){if(!u)return u;if(Ba(u)){const s={_placeholder:!0,num:i.length};return i.push(u),s}else if(Array.isArray(u)){const s=new Array(u.length);for(let a=0;a<u.length;a++)s[a]=ba(u[a],i);return s}else if(typeof u=="object"&&!(u instanceof Date)){const s={};for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&(s[a]=ba(u[a],i));return s}return u}function yh(u,i){return u.data=Ra(u.data,i),delete u.attachments,u}function Ra(u,i){if(!u)return u;if(u&&u._placeholder===!0){if(typeof u.num=="number"&&u.num>=0&&u.num<i.length)return i[u.num];throw new Error("illegal attachments")}else if(Array.isArray(u))for(let s=0;s<u.length;s++)u[s]=Ra(u[s],i);else if(typeof u=="object")for(const s in u)Object.prototype.hasOwnProperty.call(u,s)&&(u[s]=Ra(u[s],i));return u}const vh=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],xh=5;var me;(function(u){u[u.CONNECT=0]="CONNECT",u[u.DISCONNECT=1]="DISCONNECT",u[u.EVENT=2]="EVENT",u[u.ACK=3]="ACK",u[u.CONNECT_ERROR=4]="CONNECT_ERROR",u[u.BINARY_EVENT=5]="BINARY_EVENT",u[u.BINARY_ACK=6]="BINARY_ACK"})(me||(me={}));class wh{constructor(i){this.replacer=i}encode(i){return(i.type===me.EVENT||i.type===me.ACK)&&Bo(i)?this.encodeAsBinary({type:i.type===me.EVENT?me.BINARY_EVENT:me.BINARY_ACK,nsp:i.nsp,data:i.data,id:i.id}):[this.encodeAsString(i)]}encodeAsString(i){let s=""+i.type;return(i.type===me.BINARY_EVENT||i.type===me.BINARY_ACK)&&(s+=i.attachments+"-"),i.nsp&&i.nsp!=="/"&&(s+=i.nsp+","),i.id!=null&&(s+=i.id),i.data!=null&&(s+=JSON.stringify(i.data,this.replacer)),s}encodeAsBinary(i){const s=gh(i),a=this.encodeAsString(s.packet),p=s.buffers;return p.unshift(a),p}}function gd(u){return Object.prototype.toString.call(u)==="[object Object]"}class Da extends Xe{constructor(i){super(),this.reviver=i}add(i){let s;if(typeof i=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(i);const a=s.type===me.BINARY_EVENT;a||s.type===me.BINARY_ACK?(s.type=a?me.EVENT:me.ACK,this.reconstructor=new Sh(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Ba(i)||i.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(i),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+i)}decodeString(i){let s=0;const a={type:Number(i.charAt(0))};if(me[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===me.BINARY_EVENT||a.type===me.BINARY_ACK){const h=s+1;for(;i.charAt(++s)!=="-"&&s!=i.length;);const S=i.substring(h,s);if(S!=Number(S)||i.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(S)}if(i.charAt(s+1)==="/"){const h=s+1;for(;++s&&!(i.charAt(s)===","||s===i.length););a.nsp=i.substring(h,s)}else a.nsp="/";const p=i.charAt(s+1);if(p!==""&&Number(p)==p){const h=s+1;for(;++s;){const S=i.charAt(s);if(S==null||Number(S)!=S){--s;break}if(s===i.length)break}a.id=Number(i.substring(h,s+1))}if(i.charAt(++s)){const h=this.tryParse(i.substr(s));if(Da.isPayloadValid(a.type,h))a.data=h;else throw new Error("invalid payload")}return a}tryParse(i){try{return JSON.parse(i,this.reviver)}catch{return!1}}static isPayloadValid(i,s){switch(i){case me.CONNECT:return gd(s);case me.DISCONNECT:return s===void 0;case me.CONNECT_ERROR:return typeof s=="string"||gd(s);case me.EVENT:case me.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&vh.indexOf(s[0])===-1);case me.ACK:case me.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Sh{constructor(i){this.packet=i,this.buffers=[],this.reconPack=i}takeBinaryData(i){if(this.buffers.push(i),this.buffers.length===this.reconPack.attachments){const s=yh(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const kh=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Da,Encoder:wh,get PacketType(){return me},protocol:xh},Symbol.toStringTag,{value:"Module"}));function fn(u,i,s){return u.on(i,s),function(){u.off(i,s)}}const jh=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ad extends Xe{constructor(i,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=i,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const i=this.io;this.subs=[fn(i,"open",this.onopen.bind(this)),fn(i,"packet",this.onpacket.bind(this)),fn(i,"error",this.onerror.bind(this)),fn(i,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...i){return i.unshift("message"),this.emit.apply(this,i),this}emit(i,...s){var a,p,h;if(jh.hasOwnProperty(i))throw new Error('"'+i.toString()+'" is a reserved event name');if(s.unshift(i),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const S={type:me.EVENT,data:s};if(S.options={},S.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const b=this.ids++,B=s.pop();this._registerAckCallback(b,B),S.id=b}const R=(p=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||p===void 0?void 0:p.writable,y=this.connected&&!(!((h=this.io.engine)===null||h===void 0)&&h._hasPingExpired());return this.flags.volatile&&!R||(y?(this.notifyOutgoingListeners(S),this.packet(S)):this.sendBuffer.push(S)),this.flags={},this}_registerAckCallback(i,s){var a;const p=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(p===void 0){this.acks[i]=s;return}const h=this.io.setTimeoutFn(()=>{delete this.acks[i];for(let R=0;R<this.sendBuffer.length;R++)this.sendBuffer[R].id===i&&this.sendBuffer.splice(R,1);s.call(this,new Error("operation has timed out"))},p),S=(...R)=>{this.io.clearTimeoutFn(h),s.apply(this,R)};S.withError=!0,this.acks[i]=S}emitWithAck(i,...s){return new Promise((a,p)=>{const h=(S,R)=>S?p(S):a(R);h.withError=!0,s.push(h),this.emit(i,...s)})}_addToQueue(i){let s;typeof i[i.length-1]=="function"&&(s=i.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:i,flags:Object.assign({fromQueue:!0},this.flags)};i.push((p,...h)=>a!==this._queue[0]?void 0:(p!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(p)):(this._queue.shift(),s&&s(null,...h)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(i=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!i||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(i){i.nsp=this.nsp,this.io._packet(i)}onopen(){typeof this.auth=="function"?this.auth(i=>{this._sendConnectPacket(i)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(i){this.packet({type:me.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},i):i})}onerror(i){this.connected||this.emitReserved("connect_error",i)}onclose(i,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",i,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(i=>{if(!this.sendBuffer.some(a=>String(a.id)===i)){const a=this.acks[i];delete this.acks[i],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(i){if(i.nsp===this.nsp)switch(i.type){case me.CONNECT:i.data&&i.data.sid?this.onconnect(i.data.sid,i.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case me.EVENT:case me.BINARY_EVENT:this.onevent(i);break;case me.ACK:case me.BINARY_ACK:this.onack(i);break;case me.DISCONNECT:this.ondisconnect();break;case me.CONNECT_ERROR:this.destroy();const a=new Error(i.data.message);a.data=i.data.data,this.emitReserved("connect_error",a);break}}onevent(i){const s=i.data||[];i.id!=null&&s.push(this.ack(i.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(i){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,i)}super.emit.apply(this,i),this._pid&&i.length&&typeof i[i.length-1]=="string"&&(this._lastOffset=i[i.length-1])}ack(i){const s=this;let a=!1;return function(...p){a||(a=!0,s.packet({type:me.ACK,id:i,data:p}))}}onack(i){const s=this.acks[i.id];typeof s=="function"&&(delete this.acks[i.id],s.withError&&i.data.unshift(null),s.apply(this,i.data))}onconnect(i,s){this.id=i,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(i=>this.emitEvent(i)),this.receiveBuffer=[],this.sendBuffer.forEach(i=>{this.notifyOutgoingListeners(i),this.packet(i)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(i=>i()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:me.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(i){return this.flags.compress=i,this}get volatile(){return this.flags.volatile=!0,this}timeout(i){return this.flags.timeout=i,this}onAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(i),this}prependAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(i),this}offAny(i){if(!this._anyListeners)return this;if(i){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(i===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(i){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(i),this}prependAnyOutgoing(i){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(i),this}offAnyOutgoing(i){if(!this._anyOutgoingListeners)return this;if(i){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(i===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(i){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,i.data)}}}function Ci(u){u=u||{},this.ms=u.min||100,this.max=u.max||1e4,this.factor=u.factor||2,this.jitter=u.jitter>0&&u.jitter<=1?u.jitter:0,this.attempts=0}Ci.prototype.duration=function(){var u=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),s=Math.floor(i*this.jitter*u);u=(Math.floor(i*10)&1)==0?u-s:u+s}return Math.min(u,this.max)|0};Ci.prototype.reset=function(){this.attempts=0};Ci.prototype.setMin=function(u){this.ms=u};Ci.prototype.setMax=function(u){this.max=u};Ci.prototype.setJitter=function(u){this.jitter=u};class Na extends Xe{constructor(i,s){var a;super(),this.nsps={},this.subs=[],i&&typeof i=="object"&&(s=i,i=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Wo(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Ci({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=i;const p=s.parser||kh;this.encoder=new p.Encoder,this.decoder=new p.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(i){return arguments.length?(this._reconnection=!!i,i||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(i){return i===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=i,this)}reconnectionDelay(i){var s;return i===void 0?this._reconnectionDelay:(this._reconnectionDelay=i,(s=this.backoff)===null||s===void 0||s.setMin(i),this)}randomizationFactor(i){var s;return i===void 0?this._randomizationFactor:(this._randomizationFactor=i,(s=this.backoff)===null||s===void 0||s.setJitter(i),this)}reconnectionDelayMax(i){var s;return i===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=i,(s=this.backoff)===null||s===void 0||s.setMax(i),this)}timeout(i){return arguments.length?(this._timeout=i,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(i){if(~this._readyState.indexOf("open"))return this;this.engine=new ch(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const p=fn(s,"open",function(){a.onopen(),i&&i()}),h=R=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",R),i?i(R):this.maybeReconnectOnOpen()},S=fn(s,"error",h);if(this._timeout!==!1){const R=this._timeout,y=this.setTimeoutFn(()=>{p(),h(new Error("timeout")),s.close()},R);this.opts.autoUnref&&y.unref(),this.subs.push(()=>{this.clearTimeoutFn(y)})}return this.subs.push(p),this.subs.push(S),this}connect(i){return this.open(i)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const i=this.engine;this.subs.push(fn(i,"ping",this.onping.bind(this)),fn(i,"data",this.ondata.bind(this)),fn(i,"error",this.onerror.bind(this)),fn(i,"close",this.onclose.bind(this)),fn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(i){try{this.decoder.add(i)}catch(s){this.onclose("parse error",s)}}ondecoded(i){Mo(()=>{this.emitReserved("packet",i)},this.setTimeoutFn)}onerror(i){this.emitReserved("error",i)}socket(i,s){let a=this.nsps[i];return a?this._autoConnect&&!a.active&&a.connect():(a=new Ad(this,i,s),this.nsps[i]=a),a}_destroy(i){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(i){const s=this.encoder.encode(i);for(let a=0;a<s.length;a++)this.engine.write(s[a],i.options)}cleanup(){this.subs.forEach(i=>i()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(i,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",i,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const i=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{i.skipReconnect||(this.emitReserved("reconnect_attempt",i.backoff.attempts),!i.skipReconnect&&i.open(p=>{p?(i._reconnecting=!1,i.reconnect(),this.emitReserved("reconnect_error",p)):i.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const i=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",i)}}const ks={};function Do(u,i){typeof u=="object"&&(i=u,u=void 0),i=i||{};const s=dh(u,i.path||"/socket.io"),a=s.source,p=s.id,h=s.path,S=ks[p]&&h in ks[p].nsps,R=i.forceNew||i["force new connection"]||i.multiplex===!1||S;let y;return R?y=new Na(a,i):(ks[p]||(ks[p]=new Na(a,i)),y=ks[p]),s.query&&!i.query&&(i.query=s.queryKey),y.socket(s.path,i)}Object.assign(Do,{Manager:Na,Socket:Ad,io:Do,connect:Do});const Th=({apiUrl:u,onBack:i,onReset:s})=>{const[a,p]=O.useState([]),[h,S]=O.useState("totalWins");O.useEffect(()=>{(async()=>{try{const P=await(await fetch(`${u}/api/admin/leaderboard`)).json();P.success&&Array.isArray(P.leaderboard)&&p(P.leaderboard)}catch{}})()},[u]);const R=[...a].sort((y,P)=>P[h]-y[h]);return c.jsxs("div",{style:{marginTop:8},children:[c.jsx("h3",{children:"Player Rankings & Statistics"}),c.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center"},children:[c.jsxs("label",{style:{marginRight:8},children:["Sort by:",c.jsxs("select",{value:h,onChange:y=>S(y.target.value),style:{marginLeft:4},children:[c.jsx("option",{value:"totalWins",children:"Wins"}),c.jsx("option",{value:"totalGames",children:"Games Played"}),c.jsx("option",{value:"totalPoints",children:"Total Points"}),c.jsx("option",{value:"winRate",children:"Win Rate"})]})]}),c.jsx("button",{onClick:i,style:{marginRight:8},children:"Back to Game"}),c.jsx("button",{onClick:s,style:{background:"#ef4444"},children:"Reset Totals"})]}),c.jsx("ol",{style:{margin:0,paddingLeft:20},children:R.map((y,P)=>c.jsxs("li",{style:{marginBottom:6,display:"flex",alignItems:"center"},children:[c.jsxs("span",{style:{fontWeight:P===0?"700":"500",color:P===0?"#059669":"#374151"},children:[y.username,": ",h==="winRate"?(y.winRate*100).toFixed(0)+"%":y[h],h==="winRate"?" WR":""]}),P===0&&c.jsx("span",{style:{marginLeft:8},children:"🏆"})]},y.id))})]})},Ch=({isOpen:u,winningTeam:i,teamNames:s,finalScores:a,roundHistory:p,onPlayAgain:h,onClose:S})=>{const[R,y]=O.useState([]);if(O.useEffect(()=>{if(u){const F=Array.from({length:50},(N,J)=>({id:J,left:Math.random()*100,delay:Math.random()*.5}));y(F);try{const N=new Audio("/assets/sounds/victory.mp3");N.volume=.3,N.play().catch(()=>{})}catch{}}},[u]),!u)return null;const P=s[i]||`Team ${i}`,b=i===1?a.team1:a.team2,B=i===1?a.team2:a.team1,ne=p.length,W=Math.round(b/ne);return c.jsxs("div",{className:"victory-overlay",children:[R.map(F=>c.jsx("div",{className:"confetti",style:{left:`${F.left}%`,animationDelay:`${F.delay}s`}},F.id)),c.jsxs("div",{className:"victory-modal",children:[c.jsx("div",{className:"victory-emoji",children:"🏆"}),c.jsxs("h1",{className:"victory-title",children:[P," Wins!"]}),c.jsx("div",{style:{fontSize:"20px",color:"#6b7280",marginBottom:"2rem",fontWeight:500},children:"Congratulations on a well-played Swiss Jass match!"}),c.jsxs("div",{className:"victory-stats",children:[c.jsxs("div",{className:"victory-stat-row",children:[c.jsx("span",{style:{fontWeight:600,color:"#374151"},children:"Final Score"}),c.jsxs("span",{style:{fontWeight:700,fontSize:"18px",color:i===1?"#DC291E":"#1A7A4C"},children:[b," - ",B]})]}),c.jsxs("div",{className:"victory-stat-row",children:[c.jsx("span",{style:{fontWeight:600,color:"#374151"},children:"Rounds Played"}),c.jsx("span",{style:{fontWeight:700,color:"#667eea"},children:ne})]}),c.jsxs("div",{className:"victory-stat-row",children:[c.jsx("span",{style:{fontWeight:600,color:"#374151"},children:"Avg Points/Round"}),c.jsx("span",{style:{fontWeight:700,color:"#10b981"},children:W})]}),p.length>0&&c.jsxs("div",{style:{marginTop:"1.5rem",paddingTop:"1rem",borderTop:"2px solid #e5e7eb"},children:[c.jsx("div",{style:{fontWeight:700,marginBottom:"0.75rem",color:"#1f2937"},children:"Round-by-Round Breakdown"}),c.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",padding:"0.5rem"},children:p.map((F,N)=>c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",background:N%2===0?"#f9fafb":"white",borderRadius:"6px",marginBottom:"0.25rem",fontSize:"13px"},children:[c.jsxs("span",{style:{fontWeight:600,color:"#4b5563"},children:["Round ",F.round]}),c.jsx("span",{style:{fontSize:"11px",color:"#9ca3af",textTransform:"uppercase"},children:F.trump}),c.jsxs("span",{style:{display:"flex",gap:"1rem"},children:[c.jsx("span",{style:{color:"#DC291E",fontWeight:600},children:F.team1}),c.jsx("span",{style:{color:"#9ca3af"},children:"-"}),c.jsx("span",{style:{color:"#1A7A4C",fontWeight:600},children:F.team2})]})]},N))})]})]}),c.jsxs("div",{className:"victory-buttons",children:[c.jsx("button",{className:"btn btn-primary",onClick:h,style:{minWidth:"160px"},children:"🎮 Play Again"}),c.jsx("button",{className:"btn btn-secondary",onClick:S,style:{minWidth:"160px"},children:"📊 View Stats"})]}),c.jsx("div",{style:{marginTop:"2rem",fontSize:"14px",color:"#9ca3af",fontStyle:"italic"},children:`"Jass is more than a game—it's Swiss tradition." 🇨🇭`})]})]})},_h=({message:u,type:i="default",duration:s=3e3,onClose:a})=>{O.useEffect(()=>{if(s>0){const h=setTimeout(()=>{a()},s);return()=>clearTimeout(h)}},[s,a]);const p=()=>{switch(i){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";default:return"💬"}};return c.jsxs("div",{className:`toast ${i}`,children:[c.jsx("span",{style:{marginRight:"0.5rem",fontSize:"18px"},children:p()}),u]})},Eh=({lang:u,onLangChange:i,onLogout:s,username:a})=>{const p={background:"linear-gradient(135deg, #DC291E 0%, #A42423 100%)",color:"white",padding:"1.5rem 2rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.25)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem",position:"relative",overflow:"hidden"},h={display:"flex",alignItems:"center",gap:"1rem",fontSize:"28px",fontWeight:900,letterSpacing:"0.5px",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.3)"},S={display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},R=P=>({padding:"0.5rem 1rem",borderRadius:"8px",border:"none",background:P?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.1)",color:"white",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",fontSize:"14px",backdropFilter:"blur(10px)"}),y={padding:"0.5rem 1rem",borderRadius:"20px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"0.5rem"};return c.jsxs("header",{style:p,children:[c.jsx("div",{style:{position:"absolute",right:"-50px",top:"-50px",fontSize:"200px",opacity:.1,transform:"rotate(15deg)",pointerEvents:"none"},children:"🇨🇭"}),c.jsxs("div",{style:h,children:[c.jsx("span",{children:"🃏"}),c.jsx("span",{children:"Swiss Jass"})]}),c.jsxs("div",{style:S,children:[c.jsxs("div",{style:{display:"flex",gap:"0.5rem",background:"rgba(0, 0, 0, 0.2)",padding:"0.25rem",borderRadius:"10px"},children:[c.jsx("button",{style:R(u==="en"),onClick:()=>i("en"),onMouseEnter:P=>{u!=="en"&&(P.currentTarget.style.background="rgba(255, 255, 255, 0.2)")},onMouseLeave:P=>{u!=="en"&&(P.currentTarget.style.background="rgba(255, 255, 255, 0.1)")},children:"🇬🇧 English"}),c.jsx("button",{style:R(u==="ch"),onClick:()=>i("ch"),onMouseEnter:P=>{u!=="ch"&&(P.currentTarget.style.background="rgba(255, 255, 255, 0.2)")},onMouseLeave:P=>{u!=="ch"&&(P.currentTarget.style.background="rgba(255, 255, 255, 0.1)")},children:"🇨🇭 Schwyzerdütsch"})]}),a&&c.jsxs("div",{style:y,children:[c.jsx("span",{children:"👤"}),c.jsx("span",{children:a})]}),s&&c.jsx("button",{className:"btn",style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid rgba(255, 255, 255, 0.3)",padding:"0.5rem 1rem",fontSize:"14px"},onClick:s,children:"🚪 Logout"})]})]})},Oa=({size:u="md",color:i="var(--color-swiss-green, #1A7A4C)"})=>{const a={sm:"16px",md:"32px",lg:"48px"}[u];return c.jsx("div",{className:"spinner",style:{width:a,height:a,border:"3px solid rgba(0, 0, 0, 0.1)",borderTop:`3px solid ${i}`,borderRadius:"50%",animation:"spin 0.8s linear infinite"}})},Ph=({message:u="Loading...",fullScreen:i=!1})=>{const s=i?{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(245, 242, 232, 0.95)",backdropFilter:"blur(4px)",zIndex:9999}:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"3rem",minHeight:"200px"};return c.jsxs("div",{style:s,children:[c.jsx(Oa,{size:"lg"}),c.jsx("p",{style:{marginTop:"1rem",fontSize:"1.1rem",fontWeight:600,color:"#374151",animation:"pulse 2s ease-in-out infinite"},children:u})]})},yd=({icon:u="🎴",title:i,description:s,action:a,style:p={}})=>c.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",...p},children:[c.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem",opacity:.5},children:u}),c.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:700,color:"#1f2937",marginBottom:"0.5rem"},children:i}),s&&c.jsx("p",{style:{fontSize:"1rem",color:"#6b7280",marginBottom:"2rem",maxWidth:"400px",margin:"0.5rem auto 2rem"},children:s}),a&&c.jsx("div",{style:{marginTop:"2rem"},children:a})]});if(typeof document<"u"){const u=document.createElement("style");u.textContent=`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    @keyframes shimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
  `,document.head.appendChild(u)}const vd={eicheln:"🌰",schellen:"🔔",rosen:"🌹",schilten:"🛡️","oben-abe":"⬆️","unden-ufe":"⬇️"},je={container:{fontFamily:'"Helvetica Neue", "Arial", sans-serif',minHeight:"100vh",background:"#f5f2e8",paddingBottom:40},gameArea:{maxWidth:1200,margin:"2rem auto",background:"rgba(255, 255, 255, 0.8)",borderRadius:20,padding:24,boxShadow:"0 10px 40px rgba(0,0,0,0.1)",backdropFilter:"blur(8px)",border:"1px solid rgba(0,0,0,0.05)"},button:{background:"#1A7A4C",color:"white",border:"none",padding:"10px 18px",borderRadius:8,cursor:"pointer",fontWeight:600,fontSize:14,boxShadow:"0 2px 8px rgba(26, 122, 76, 0.3)",transition:"all 0.2s ease"},message:{textAlign:"center",marginBottom:16,fontSize:16,fontWeight:600,color:"#3a2e20",padding:"12px 16px",background:"rgba(255,255,255,0.7)",borderRadius:10,border:"1px solid rgba(0,0,0,0.05)"},hand:{display:"flex",gap:10,flexWrap:"wrap",justifyContent:"center",padding:"12px 8px"}},bh=({user:u,onLogout:i})=>{O.useEffect(()=>{const f=document.createElement("style");return f.textContent=`
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      @keyframes bounceIn {
        0% { transform: scale(0.3); opacity: 0; }
        50% { transform: scale(1.05); }
        70% { transform: scale(0.9); }
        100% { transform: scale(1); opacity: 1; }
      }
      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
      }
    `,document.head.appendChild(f),()=>{document.head.removeChild(f)}},[]);const s=O.useRef(null),[a,p]=O.useState("ch"),h={en:{welcome:"Welcome to Swiss Jass!",noCardsPlayed:"No cards played",weisPoints:"Weis points",weisNotCount:"(does not count)",weisRulesTitle:"Weis Rules",weisRulesDesc:"Only the team with the best Weis scores points. Weis are declared during the first trick and are detected automatically after trump is chosen.",currentTrump:"Current Trump",roundScores:"Round — Team1",yourHand:"Your Hand",singleSetupTitle:"Local match setup",singleSetupSubtitle:"Play a solo Swiss Jass match against three classic bots. Choose your team names and race to your preferred target score.",offlineBadge:"Offline friendly",startLocalMatch:"Start local match",autosaveHint:"Matches autosave locally, so you can leave and resume later.",singleModeHint:"Configure your local match to begin playing.",multiModeHint:"Join or create a table to start multiplayer.",multiTablesBlurb:"Multiplayer runs through live tables. Open the Tables tab to host or join, then return here once the match begins.",selectTrump:"Select Trump",submitTrump:"Submit Trump",scoringDetails:"Scoring Details",musicPlaylist:"Mountain Music Playlist",cards:"Cards",team:"Team",tricks:"Tricks",game:"Game",rankings:"Rankings",settings:"Settings",startGame:"Start Game",newGame:"New Game",refresh:"Refresh",logout:"Logout",chooseTeam:"Choose Team",dealer:"Dealer",trumpSelector:"Trump Selector",itsYourTurn:"It's your turn",matchFinished:"Match finished — start a new game to continue",pleaseChooseTrump:"Please choose trump",playAgain:"Play Again",backToGame:"Back to Game",profile:"Profile",changePassword:"Change Password",username:"Username",newPassword:"New password",savePassword:"Save Password"},ch:{welcome:"Willkomme bi Swiss Jass!",noCardsPlayed:"Keini Chart gspielt",weisPoints:"Weis Punkt",weisNotCount:"(zählt nicht)",weisRulesTitle:"Weis Regle",weisRulesDesc:"Nur d Team mit em bestä Weis kassiert Punkt. Weis wärend em erschte Stich angekündigt und werdet automatisch nach Trump-Auswahl entdeckt.",currentTrump:"Trump jetzt",roundScores:"Rundi — Team1",yourHand:"Dini Chart",singleSetupTitle:"Lokal-Spiel iirichte",singleSetupSubtitle:"Spil e Solo-Jass mit drü klassischä Bots. Wähl d Teamname und s Ziel zum starte.",offlineBadge:"Offline freundlich",startLocalMatch:"Lokal Match starte",autosaveHint:"Spili werde lokal gspeicheret – du chasch spöter wiiterspiele.",singleModeHint:"Richte dis lokal Spiel ii zum starte.",multiModeHint:"Erstell oder tritt eme Tisch bi zum Multiplayer starte.",multiTablesBlurb:"Multiplayer lauft über live Tische. Gang uf d «Tables»-Register, hoste oder tritt bi und chomm däno zrugg, woni Fokus im Spiel ligt.",selectTrump:"Trump wähle",submitTrump:"Trump bestätigt",scoringDetails:"Punktetabelle",musicPlaylist:"Bärgmusig Playlist",cards:"Charte",team:"Mannschaft",tricks:"Stich",game:"Spiel",rankings:"Rangliste",settings:"Iistellige",startGame:"Spiel starte",newGame:"Neus Spiel",refresh:"Aktualisiere",logout:"Abmelde",chooseTeam:"Mannschaft wähle",dealer:"Gäber",trumpSelector:"Trump-Wähler",itsYourTurn:"Du bisch dra",matchFinished:"Spiel fertig — start es neus Spiel",pleaseChooseTrump:"Bitte wähl en Trump",playAgain:"Nomol spiele",backToGame:"Zrugg zum Spiel",profile:"Profil",changePassword:"Passwort ändere",username:"Benutzername",newPassword:"Neus Passwort",savePassword:"Speichere"}},[S,R]=O.useState(null),[y,P]=O.useState(null),[b,B]=O.useState([]),[ne,W]=O.useState([]),[F,N]=O.useState([]),[J,Ee]=O.useState([]),[Le,jt]=O.useState(null),[rt,$]=O.useState(h[a].welcome),[$e,He]=O.useState(!1),[Oe,Ze]=O.useState("game"),[Tt,mt]=O.useState([]),[Yt,gt]=O.useState(()=>{try{const f=localStorage.getItem("jassTotals");return f?JSON.parse(f):{}}catch{return{}}}),xe=f=>({phase:f.phase,currentPlayer:f.currentPlayer,trumpSuit:f.trump||null,currentTrick:f.currentTrick||[],scores:f.scores,dealer:f.dealer,weis:f.weis,forehand:f.forehand??null}),[ct,it]=O.useState(()=>{try{return JSON.parse(localStorage.getItem("jassUsers")||"{}")}catch{return{}}}),[Re,U]=O.useState("schieber"),[ee,V]=O.useState(1e3),[w,I]=O.useState(!1),[te,le]=O.useState(null),[he,ge]=O.useState(450),[_e,Te]=O.useState(null),[Pe,Ke]=O.useState(!1),hr=O.useRef(null),mr=O.useRef(Date.now());O.useRef(null),O.useRef(null),O.useRef(null),O.useRef(null),O.useRef(null);const[_i,_s]=O.useState(null),[pn,Ar]=O.useState(()=>({1:"Team 1",2:"Team 2"})),[hn,dt]=O.useState(!0),Ei=_e?.cards??[],_n=!!_e,[st,Br]=O.useState(null),Pi=["🇨🇭","🧀","🫕","🏔️","🐄","🍫"],[Dr,bi]=O.useState(null),[gr,mn]=O.useState(!1),[ft,Es]=O.useState(u?.username||"You"),[$n,Xt]=O.useState(null),[Mr,Wr]=O.useState(""),[we,Hn]=O.useState("single"),[Fe,Ri]=O.useState(null),[Fr,Ni]=O.useState(0),[Ur,Vn]=O.useState([]),[Mt,Oi]=O.useState(!1),[$r,Ii]=O.useState(null),[zi,Li]=O.useState(""),[Hr,Ps]=O.useState("schieber"),[qn,Ai]=O.useState("Team 1"),[Gn,Fo]=O.useState("Team 2"),[En,Vr]=O.useState(1e3),[Pn,Bi]=O.useState({friends:[],requests:[]}),[bs,Rs]=O.useState(!1),[De,It]=O.useState(null),[Di,qr]=O.useState(!1),[Uo,Ns]=O.useState(1),[Gr,Mi]=O.useState(null),Zt=O.useRef(null);O.useEffect(()=>{Zt.current=De},[De]),O.useEffect(()=>{try{De&&localStorage.setItem("lastActiveTableId",De)}catch{}},[De]),O.useEffect(()=>{try{const f=localStorage.getItem("lastActiveTableId");f&&!De&&(Hn("multi"),It(f))}catch{}},[]);const[Je,Ma]=O.useState(null),[be,Qr]=O.useState(null),[Wi,Fi]=O.useState(null),[Ve,Ui]=O.useState(null),yr=O.useRef(null);O.useEffect(()=>{yr.current=Ve},[Ve]);const Ae=O.useRef(null),Wt=async f=>{if(Ae.current)try{(await(await fetch(`${pe}/api/tables/${f}/start`,{method:"POST",headers:{Authorization:`Bearer ${Ae.current}`}})).json()).success&&(It(f),Ze("game"),$("Game starting...")),Rn()}catch{}};async function $o(f){const j=new TextEncoder().encode(f),E=await crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(E)).map(C=>C.toString(16).padStart(2,"0")).join("")}const zt=async()=>{if(!ft)return Xt("No user");if(!Mr||Mr.length<6)return Xt("Password must be at least 6 chars");const f=await $o(Mr),g={...ct};g[ft]||(g[ft]={totalPoints:0,gamesPlayed:0,wins:0,lastSeen:null}),g[ft].passwordHash=f,localStorage.setItem("jassUsers",JSON.stringify(g)),it(g),Xt("Password updated locally"),Wr(""),setTimeout(()=>Xt(null),3e3)},[Wa,Fa]=O.useState(0),[$i,Hi]=O.useState([]),[en,Qn]=O.useState(null),[Vi,Ua]=O.useState({active:!1,currentPlayer:0,bestWeis:null,declarations:[]}),Os=f=>["south","west","north","east"][f]||"south",Kr=f=>{const g=b.find(j=>j.id===f);if(g?.position)return g.position;if(Ve!=null){const j=(f-Ve+4)%4;return j===0?"south":j===1?"east":j===2?"north":"west"}return Os(f)},et=f=>(f||[]).map(g=>{let j=g.tricks||[];if((!j||j.length===0)&&y?.playedTricks)try{const E=y.playedTricks;Array.isArray(E)&&(j=E.flatMap(M=>Array.isArray(M)?M:[]).filter(M=>M.playerId===g.id).map(M=>({id:M.id,suit:M.suit,rank:M.rank})))}catch{}if(!j||j.length===0)try{const E=localStorage.getItem("jassLocalState");if(E){const C=JSON.parse(E);if(C.players&&Array.isArray(C.players)){const M=C.players.find(Q=>Q.id===g.id);M&&M.tricks&&M.tricks.length&&(j=M.tricks)}}}catch{}return{id:g.id,name:g.name,hand:g.hand,team:g.team,teamName:pn[g.team]||`Team ${g.team}`,position:Os(g.id),points:g.points,tricks:j||[],weis:g.weis||[]}}),Kn=f=>b.find(g=>g.position===f);Kn("north"),Kn("west"),Kn("east"),Kn("south");function vr(f,g){if(!f||!f.length)return f.slice();const j=g||null,E=["6","7","8","9","10","U","O","K","A"],C=["6","7","8","O","K","10","A","9","U"],M=f.filter(G=>G.suit!==j),Q=f.filter(G=>G.suit===j);return M.sort((G,ce)=>G.suit!==ce.suit?G.suit.localeCompare(ce.suit):E.indexOf(G.rank)-E.indexOf(ce.rank)),Q.sort((G,ce)=>C.indexOf(ce.rank)-C.indexOf(G.rank)),[...M,...Q]}function Jr(f){return Math.floor((f?.tricks?.length||0)/4)}function qi(f){try{if(!y)return null;const g=y.currentTrick||[];if(!g||g.length===0)return null;const j=g[0].suit,E=ne||[],C=E.some(G=>G.suit===j);if(C&&f.suit!==j)return"Must follow suit";const M=y.trumpSuit,Q=M&&["eicheln","schellen","rosen","schilten"].includes(M)?M:null;return!C&&Q&&E.some(ce=>ce.suit===Q)&&f.suit!==Q?"Must play trump when void in lead suit":"Card not legal right now"}catch{return null}}async function Se(f){const g=jp(f);if(g===null)return f;const j=Pi[Math.floor(Math.random()*Pi.length)];try{Br({id:g,emoji:j}),await new Promise(C=>setTimeout(C,1e3));const E=Oo(f);if(qe(E),P(xe(E)),B(et(E.players)),W(E.players.find(C=>C.id===0)?.hand||[]),N(ut(E,0)),E.phase==="finished"){bi(E.lastTrick||null),await new Promise(Q=>setTimeout(Q,2e3)),bi(null);const C=E.scores.team1||0,M=E.scores.team2||0;if(C>=ee||M>=ee){const Q=C>=ee?1:2;if(Ns(Q),qr(!0),mn(!0),P({...xe(E),phase:"finished"}),Mi({message:`${pn[Q]} wins!`,type:"success"}),S&&pe){const G=E.players.find(In=>In.id===0)?.team||1,ce=G===1?C:M,ue=G===1?M:C,Ge=ce>ue,On=Math.floor((ce+ue)/100)+1;Is(ce,ue,Ge,On)}}else{const Q=ad(E);qe(Q),B(et(Q.players)),P(xe(Q)),W(Q.players.find(G=>G.id===0)?.hand||[]),N(ut(Q,0)),Q.currentPlayer!==0?(setTimeout(()=>{yt()},150),$(`Waiting for ${Q.players.find(G=>G.id===Q.currentPlayer)?.name||"dealer"} to choose trump...`)):$("Your turn to choose trump")}}return E}finally{Br(null),Te(null)}}const xr=f=>{const g=y?.dealer===f,j=st?.id===f;return c.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[c.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:8,background:g?"linear-gradient(90deg,#fde68a,#fca5a5)":"transparent",padding:g?"6px 10px":"2px 6px",borderRadius:14,boxShadow:g?"0 6px 18px rgba(0,0,0,0.12)":"none",border:g?"2px solid rgba(0,0,0,0.06)":"1px dashed rgba(0,0,0,0.04)",opacity:g?1:.6},children:[c.jsx("span",{style:{fontWeight:800,color:g?"#7c2d12":"#6b7280",fontSize:12},children:h[a].dealer}),c.jsx("span",{style:{fontSize:18},children:g?"🎩":" "})]}),j&&st&&c.jsx("span",{style:{fontSize:28,lineHeight:1,display:"inline-block",animation:"bounceIn 550ms ease, pulse 1200ms infinite",transformOrigin:"center"},children:st.emoji})]})};O.useEffect(()=>{S&&bn(S)},[S]),O.useEffect(()=>{if(Oe!=="game")return;if(S&&!w){bn(S),dt(!1);return}const f=Ft();if(f){if(f.phase==="finished"){const g=ad(f);qe(g),B(et(g.players)),P(xe(g)),W(g.players.find(j=>j.id===0)?.hand||[]),N(ut(g,0)),dt(!1),I(!0),$("Previous match finished — new round started");return}P(xe(f)),B(et(f.players)),W(f.players.find(g=>g.id===0)?.hand||[]),N(ut(f,0)),dt(!1),I(!0),$("Resumed local game");return}dt(!0),P(null),B([]),W([]),N([]),le(null),Ke(!1),$("No active game — start a new one")},[Oe]),O.useEffect(()=>{we==="single"&&hn?$(h[a].singleModeHint):we==="multi"&&hn&&$(h[a].multiModeHint)},[a,we,hn]),O.useEffect(()=>{const f=setInterval(()=>{try{if(Pe){const j=Ft();if(j&&j.pendingResolve&&Date.now()-(j._lastActionAt||Date.now())>8e3){const C=Oo(j);qe(C),P(xe(C)),B(et(C.players)),W(C.players.find(M=>M.id===0)?.hand||[]),N(ut(C,0)),Ke(!1),$("Auto-resolved stalled trick")}}const g=Ft();if(g){const j=Date.now();if(hr.current!==g.currentPlayer)hr.current=g.currentPlayer,mr.current=j;else{const E=j-mr.current;if(E>15e3){if(g.currentPlayer!==0&&g.phase==="playing"&&!g.pendingResolve)try{const C=cd(g,g.currentPlayer);if(C){const M=Sa(g,g.currentPlayer,C);qe(M),P(xe(M)),B(et(M.players)),W(M.players.find(Q=>Q.id===0)?.hand||[]),N(ut(M,0)),mr.current=Date.now();return}}catch{}if((g.currentTrick?.length||0)===4&&!g.pendingResolve)try{const C=Oo(g);qe(C),P(xe(C)),B(et(C.players)),W(C.players.find(M=>M.id===0)?.hand||[]),N(ut(C,0)),mr.current=Date.now();return}catch{}E>2e4&&$("Game appears idle — you can Force Resume or Reset Local to recover")}}}}catch{}},2500);return()=>clearInterval(f)},[Pe]),O.useEffect(()=>{(async()=>{try{const g=await(await fetch(`${pe}/api/admin/users`)).json();g?.success&&mt(g.users||[])}catch{}})()},[]),O.useEffect(()=>{if(y&&(y.phase==="finished"||y.phase==="scoring")){const f=localStorage.getItem("jassProcessedGames"),g=f?JSON.parse(f):[];if(S&&g.includes(S))return;vn(y,b,S)}},[y]);const gn=y?.trumpSuit||te,Gi=async()=>{He(!0);try{if(mn(!1),!pe){Yr(),$("No backend detected — running local game");return}const g=await(await fetch(`${pe}/api/games/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerNames:["You","Anna (bot)","Reto (bot)","Fritz (bot)"],gameType:Re})})).json();g?.success?(R(g.gameId),P(g.state||null),B(et(g.players||[])),W(g.hand||[]),$("Game created"),dt(!1)):$(g?.message||"Failed to create game")}catch{$("Could not create game — is backend running?")}finally{He(!1)}},Is=async(f,g,j,E)=>{if(!(!S||!pe))try{const C=localStorage.getItem("jassToken"),Q=await(await fetch(`${pe}/api/games/${S}/complete`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({userTeamScore:f,opponentTeamScore:g,userWon:j,totalRounds:E})})).json();if(Q?.success){console.log(`Game completed: ${Q.message}`),Q.pointsEarned>0&&$(`${Q.message} (+${Q.pointsEarned} points)`);try{const ce=await(await fetch(`${pe}/api/admin/users`)).json();ce?.success&&mt(ce.users||[])}catch{}}}catch(C){console.error("Failed to complete game:",C)}},zs=()=>{const f=xp();B(et(f.players)),P(xe(f)),W(f.players.find(g=>g.id===0)?.hand||[]),N(ut(f,0)),$("Local game started — select trump or have bots choose"),qe(f)},Yr=()=>{try{localStorage.setItem("jassLocalOptions",JSON.stringify({gameType:Re,maxPoints:ee}))}catch{}mn(!1),I(!0),zs(),setTimeout(()=>{yt()},200),dt(!1)},Ft=()=>{try{const f=localStorage.getItem("jassLocalState");if(!f)return null;const g=JSON.parse(f);return g._lastActionAt||(g._lastActionAt=Date.now()),g}catch{return null}},qe=f=>{try{try{f._lastActionAt=Date.now()}catch{}localStorage.setItem("jassLocalState",JSON.stringify(f))}catch{}},yt=async()=>{let f=Ft();if(f){for(;f.phase!=="finished"&&!gr;){if(f.phase==="trump_selection"){if(f.currentPlayer===0){P(xe(f)),$(h[a].pleaseChooseTrump);break}const g=Sp(f,f.currentPlayer),j=ud(f,g);f=j,le(g);const E=j.players.find(C=>C.id===j.currentPlayer);$(`${E?.name||"Bot"} chose trump: ${g}`),qe(j),P(xe(f)),B(et(f.players)),W(f.players.find(C=>C.id===0)?.hand||[]),N(ut(f,0)),await new Promise(C=>setTimeout(C,he));continue}if(f.currentPlayer!==0){const g=f.currentPlayer,j=cd(f,g);if(!j)break;if(f=Sa(f,g,j),qe(f),P(xe(f)),B(et(f.players)),W(f.players.find(E=>E.id===0)?.hand||[]),N(ut(f,0)),f.pendingResolve){Ke(!0);try{if(f=await Se(f),gr)break}finally{Ke(!1)}continue}await new Promise(E=>setTimeout(E,he));continue}if(f.currentPlayer===0){P(xe(f)),W(f.players.find(g=>g.id===0)?.hand||[]),N(ut(f,0));break}}$("Local round finished — updating totals"),vn({phase:"finished",currentPlayer:f.currentPlayer,trumpSuit:f.trump,scores:f.scores},f.players,"local-"+Date.now())}},yn=()=>{if(w){const f=Ft();if(!f)return;if(!te)return $("Choose a trump first");if(te==="schieben"){const E=f.currentPlayer===0?2:(f.currentPlayer+2)%4;f.currentPlayer=E,$(`Trump decision passed to ${f.players.find(C=>C.id===E)?.name||"partner"} (Schieben)`),qe(f),P(xe(f)),le(null),setTimeout(()=>yt(),200);return}f.trump=te,f.phase="playing";const g=ud(f,te),j=Qi(g.weis||{});if(Qn(j),qe(g),B(et(g.players)),P(xe(g)),j){const E=g.players.find(C=>C.id===j.playerId)?.name;$(`Trump: ${te} | Weis Winner: ${E} (Team ${j.teamId})`)}else $(`Trump set: ${te} - No Weis declared`);setTimeout(()=>yt(),200);return}if(!te)return $("Choose a trump first");if(we==="multi"&&Fe&&De&&be){Fe.emit("game:selectTrump",{tableId:De,gameId:be,trump:te}),$(`Trump submitted: ${te}`);return}xn(te)},tn=async f=>{if(gr)return $(h[a].matchFinished);if(Pe)return;const g=Ft();if(!g)return;if(g.phase!=="playing")return $("Game not in playing phase");if(g.currentPlayer!==0)return $(h[a].itsYourTurn);if(!ut(g,0).map(C=>C.id).includes(f))return $("Illegal card");const E=Sa(g,0,f);if(E.pendingResolve){Ke(!0);try{qe(E),P(xe(E)),B(et(E.players)),W(E.players.find(M=>M.id===0)?.hand||[]),N(ut(E,0));const C=await Se(E);qe(C),B(et(C.players)),P(xe(C)),W(C.players.find(M=>M.id===0)?.hand||[]),N(ut(C,0))}finally{Ke(!1)}setTimeout(()=>yt(),80);return}qe(E),B(et(E.players)),P(xe(E)),W(E.players.find(C=>C.id===0)?.hand||[]),N(ut(E,0)),setTimeout(()=>yt(),200)},bn=async f=>{try{const j=await(await fetch(`${pe}/api/games/${f}`)).json();if(j?.success&&(P(j.state||null),B(j.players||[]),W(j.hand||[]),N(j.legalCards||[]),j.state?.phase==="finished"||j.state?.phase==="scoring")){const E=localStorage.getItem("jassProcessedGames"),C=E?JSON.parse(E):[];f&&!C.includes(f)&&vn(j.state,j.players||[],f)}}catch{$("Error loading game state")}},vn=(f,g,j)=>{try{if(j)try{const Z=localStorage.getItem("jassProcessedGames");if((Z?JSON.parse(Z):[]).includes(j))return}catch{}const E=localStorage.getItem("jassTotals"),C=E?JSON.parse(E):{},M=localStorage.getItem("jassUsers"),Q=M?JSON.parse(M):{},G={};if(f.scores&&f.scores.team1!==void 0){let Z=f.scores.team1||0,de=f.scores.team2||0;try{if(f.phase==="finished"){const Ce=f.scores||{team1:0,team2:0},rn=(Ce.team1||0)+(Ce.team2||0);if(f.trumpMultiplier!==void 0&&f.trumpMultiplier!==null||rn>157)Z=Ce.team1||Z,de=Ce.team2||de;else{const fe=kd(f);Z=fe.scores.team1||Z,de=fe.scores.team2||de}}}catch{}const Lt=g.filter(Ce=>Ce.team===1),vt=g.filter(Ce=>Ce.team===2);Lt.forEach(Ce=>G[Ce.name]=Z),vt.forEach(Ce=>G[Ce.name]=de)}else g&&g.length&&g.every(Z=>typeof Z.points=="number")&&g.forEach(Z=>{G[Z.name]=Z.points||0});const ce={...C},ue={...Q};Object.keys(G).forEach(Z=>{const de=G[Z]||0;ce[Z]=(ce[Z]||0)+de,ue[Z]||(ue[Z]={totalPoints:0,gamesPlayed:0,wins:0,lastSeen:null}),ue[Z].totalPoints=(ue[Z].totalPoints||0)+de,ue[Z].gamesPlayed=(ue[Z].gamesPlayed||0)+1});const Ge=f.scores?.team1||0,On=f.scores?.team2||0,In=Ge>=On?1:2;g.filter(Z=>Z.team===In).forEach(Z=>{const de=Z.name;ue[de]||(ue[de]={totalPoints:0,gamesPlayed:0,wins:0,lastSeen:null}),ue[de].wins=(ue[de].wins||0)+1});const nn=Date.now();if(g.forEach(Z=>{const de=Z.name;ue[de]||(ue[de]={totalPoints:0,gamesPlayed:0,wins:0,lastSeen:null}),ue[de].lastSeen=nn}),Object.keys(G).length>0){const Z=Object.entries(G).reduce((Lt,[vt,Ce])=>Lt+(g.find(rn=>rn.name===vt)?.team===1?Ce:0),0),de=Object.entries(G).reduce((Lt,[vt,Ce])=>Lt+(g.find(rn=>rn.name===vt)?.team===2?Ce:0),0);console.log("Swiss Jass: Team scores - Team 1:",Z,"Team 2:",de),$(`Game finished! Team 1: ${Z} pts, Team 2: ${de} pts`)}localStorage.setItem("jassTotals",JSON.stringify(ce)),localStorage.setItem("jassUsers",JSON.stringify(ue)),gt(ce),it(ue);try{if(!Tt||Tt.length===0){const Z=Object.entries(ce).map(([de,Lt])=>({id:`local-${de}`,username:de,totalPoints:Lt}));mt(Z)}}catch{}if((async()=>{try{const Z=localStorage.getItem("jassToken");if((await(await fetch(`${pe}/api/admin/totals/sync`,{method:"POST",headers:{"Content-Type":"application/json",...Z?{Authorization:`Bearer ${Z}`}:{}},body:JSON.stringify({totals:ce})})).json())?.success)try{const Ce=await(await fetch(`${pe}/api/admin/users`)).json();Ce?.success&&mt(Ce.users||[])}catch{}try{const vt=localStorage.getItem("jassToken");if(vt&&g&&g.length>0&&f.scores){const Ce={};(Tt||[]).forEach(ye=>{Ce[ye.username]=ye.id});const rn=(Tt||[]).find(ye=>ye.username===ft);rn&&(Ce.You=rn.id),console.log("Mapping player names to IDs",{playersList:g.map(ye=>ye.name),mapNameToId:Ce});const sn=g.filter(ye=>ye.team===1).map(ye=>Ce[ye.name]).filter(Boolean),fe=g.filter(ye=>ye.team===2).map(ye=>Ce[ye.name]).filter(Boolean);if(sn.length>0&&fe.length>0){await fetch(`${pe}/api/games/report`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${vt}`},body:JSON.stringify({teamA:sn,teamB:fe,scoreA:f.scores.team1,scoreB:f.scores.team2,rounds:0})});const Ut=await(await fetch(`${pe}/api/admin/users`)).json();Ut?.success&&mt(Ut.users||[])}else{console.warn("Skipping /games/report due to unmapped players; attempting single-user fallback",{teamAIds:sn,teamBIds:fe});try{const ye=(f.scores?.team1||0)>=(f.scores?.team2||0);await fetch(`${pe}/api/games/user-result`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${vt}`},body:JSON.stringify({won:ye,points:ye?3:0,rounds:0})});const ti=await(await fetch(`${pe}/api/admin/users`)).json();ti?.success&&mt(ti.users||[])}catch{}}}}catch{}}catch(Z){console.warn("Totals sync failed",Z)}})(),j){const Z=localStorage.getItem("jassProcessedGames"),de=Z?JSON.parse(Z):[];de.push(j),localStorage.setItem("jassProcessedGames",JSON.stringify(de))}}catch(E){console.error("Failed updating totals",E)}},xn=async f=>{if(!(!S&&!w)){He(!0);try{if(!pe||w){const E=Ft();if(!E)return;E.trump=f,E.phase="playing",qe(E),P(xe(E)),$(`Trump selected: ${f}`),setTimeout(()=>yt(),200);return}const j=await(await fetch(`${pe}/api/games/${S}/trump`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trump:f,playerId:0})})).json();if(j?.success){P(j.state||null),B(j.players||[]),W(j.hand||[]);try{const E=j.state&&j.state.weis?j.state.weis:null;if(E){const C=Qi(E);Qn(C)}}catch{}$(`Trump selected: ${f}`)}else $(j?.message||"Failed to select trump")}catch{$("Error selecting trump")}finally{He(!1)}}},Ho=async f=>{if(!pe||w){tn(f);return}if(we==="multi"&&Fe&&De&&be){if(Ve===null||y?.currentPlayer!==Ve){$("It's not your turn");return}Fe.emit("game:playCard",{tableId:De,gameId:be,playerId:Ve,cardId:f}),jt(null);return}if(!(!S||!y)){if(y.currentPlayer!==0){$("It's not your turn");return}He(!0);try{const j=await(await fetch(`${pe}/api/games/${S}/play`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:0,cardId:f})})).json();if(j?.success){if(P(j.state||null),B(j.players||[]),W(j.hand||[]),N(j.legalCards||[]),jt(null),$("Card played"),j.state?.phase==="finished"||j.state?.phase==="scoring"){const E=localStorage.getItem("jassProcessedGames"),C=E?JSON.parse(E):[];S&&!C.includes(S)&&vn(j.state,j.players||[],S)}}else $(j?.message||"Invalid play")}catch{$("Error playing card")}finally{He(!1)}}},Qi=f=>{let g=null,j=null,E=null;return Object.entries(f).forEach(([C,M])=>{if(!M||M.length===0)return;const Q=b.find(G=>G.id===parseInt(C));Q&&M.forEach(G=>{(!g||G.points>g.points||G.points===g.points&&wr(G,g,Q.team))&&(g=G,j=parseInt(C),E=Q.team)})}),j!==null&&E!==null?{playerId:j,teamId:E}:null},wr=(f,g,j)=>{if(f.points!==g.points)return!1;if(f.type.includes("sequence")&&g.type.includes("sequence"))return f.cards.length>g.cards.length;const E=f.cards.some(M=>M.suit===y?.trumpSuit),C=g.cards.some(M=>M.suit===y?.trumpSuit);return E&&!C},Vo=()=>{localStorage.removeItem("jassTotals"),localStorage.removeItem("jassProcessedGames"),localStorage.removeItem("jassUsers"),gt({}),it({}),mt([])};O.useEffect(()=>{try{Ae.current=localStorage.getItem("jassToken")}catch{}if(we==="multi"&&!Fe){const f=Do(pe||"http://localhost:3000",{auth:{token:Ae.current}});Ri(f),f.on("connect",()=>{}),f.on("presence:count",E=>Ni(E.online)),f.on("tables:updated",()=>Rn()),f.on("table:starting",E=>{console.debug("[multiplayer] table:starting received",E),E?.tableId===Zt.current&&(Ze("game"),Hn("multi"),E?.gameId&&Qr(E.gameId),$("Game starting..."),f.emit("table:join",{tableId:E.tableId}))}),f.on("game:dealerAssigned",E=>{Qr(E.gameId),Fi(E.dealerUserId),$(`Dealer assigned: ${E.dealerUserId}`)}),f.on("table:started",E=>{Ze("game"),$(`Game started: ${E?.table?.name||""}`)}),f.on("friends:update",()=>kr()),f.on("game:state",E=>{if(E?.tableId&&E.tableId!==Zt.current){console.debug("[multiplayer] Ignoring game:state for other table",E.tableId,"expected",Zt.current);return}console.debug("[multiplayer] game:state received",{table:E.tableId,phase:E?.state?.phase,gameId:E?.gameId});const{state:C,players:M,tableConfig:Q,gameId:G}=E;if(G&&(!be||be!==G)&&Qr(G),P({phase:C.phase,currentPlayer:C.currentPlayer,trumpSuit:C.trumpSuit,currentTrick:C.currentTrick,scores:C.scores,roundScores:C.roundScores,dealer:C.dealer,forehand:C.forehand??null,weis:C.weis}),Q)try{Ar({1:Q.team1Name||"Team 1",2:Q.team2Name||"Team 2"}),typeof Q.targetPoints=="number"&&V(Q.targetPoints)}catch{}const ce=M.map(fe=>({id:fe.id,name:fe.name,hand:fe.hand,team:fe.team,position:fe.position,userId:fe.userId})),ue=typeof yr.current=="number"?yr.current:null,Ge=u?.id?ce.find(fe=>fe.userId===u.id):null,On=ue!==null?ce.find(fe=>fe.id===ue):null,In=u?.id?null:ce.find(fe=>fe.id===0),nn=Ge||On||In||null,Z=typeof(Ge?.id??nn?.id??ue)=="number"?Ge?.id??nn?.id??ue:null;Ge&&Ge.id!==ue?Ui(Ge.id):!Ge&&ue===null&&typeof nn?.id=="number"&&Ui(nn.id);const de=Ge||nn;W(de?.hand||[]);const Lt=fe=>{if(Z===null)return ce[fe]?.position||"south";const ye=(fe-Z+4)%4;return ye===0?"south":ye===1?"east":ye===2?"north":"west"},vt=ce.map(fe=>({...fe,position:Lt(fe.id)}));B(vt),we==="multi"&&dt(!1);const Ce=C.currentTrick||[];if(Ce.length){const fe=Ce.map(ye=>{if(Z===null){const ni=ce[ye.playerId]?.position||"south";return{...ye,pos:ni}}const Ut=(ye.playerId-Z+4)%4;return{...ye,pos:Ut===0?"south":Ut===1?"east":Ut===2?"north":"west"}});Ee(fe)}else Ee([]);const sn=(()=>{const fe=de?.hand||[];if(!fe.length)return[];if(C.phase!=="playing")return[];if(Z===null||C.currentPlayer!==Z)return[];const ye=C.currentTrick||[];if(ye.length===0)return fe.slice();const Ut=ye[0].suit;if(fe.some(zn=>zn.suit===Ut))return fe.filter(zn=>zn.suit===Ut);const ni=C.trumpSuit&&["eicheln","schellen","rosen","schilten"].includes(C.trumpSuit)?C.trumpSuit:null;if(ni){const zn=fe.filter(Go=>Go.suit===ni);if(zn.length)return zn}return fe.slice()})();N(sn);try{window.gameDebug={state:C,mySeat:Z,legal:sn,trick:C.currentTrick}}catch{}C.phase&&C.phase!=="waiting"&&$(`Game phase: ${C.phase}`)}),setTimeout(()=>{we==="multi"&&Zt.current&&!y&&(console.debug("[multiplayer] Late join fallback requesting state"),f.emit("table:requestState",{tableId:Zt.current}))},1500);let g=0;const j=setInterval(()=>{if(y?.phase){clearInterval(j);return}if(we!=="multi"||!Zt.current){clearInterval(j);return}if(g++,g>5){clearInterval(j);return}console.debug("[multiplayer] Retry requesting state attempt",g),f.emit("table:requestState",{tableId:Zt.current})},2e3);return()=>{f.disconnect()}}},[we]),O.useEffect(()=>{if(!Fe)return;const f=g=>{$(g?.message||"Illegal move")};return Fe.on("game:error",f),()=>{Fe.off("game:error",f)}},[Fe]),O.useEffect(()=>{if(!u?.id||!b.length)return;const f=b.find(g=>g.userId===u.id);f&&(f.id!==yr.current&&Ui(f.id),W(g=>{const j=f.hand||[];return g.length===j.length&&g.every((E,C)=>E?.id===j[C]?.id)?g:j}))},[b,u?.id]),O.useEffect(()=>{try{if(!y||Ve==null)return;const f=y,g=f.currentTrick||[];if(g.length){const C=g.map(M=>{const Q=(M.playerId-Ve+4)%4;return{...M,pos:Q===0?"south":Q===1?"east":Q===2?"north":"west"}});Ee(C)}else J.length&&Ee([]);const j=f.currentPlayer,E=b.find(C=>C.id===Ve);if(E&&j===Ve&&f.phase==="playing"){const C=E.hand||[];let M=[];if(C.length){const Q=f.currentTrick||[];if(!Q.length)M=C.slice();else{const G=Q[0].suit;if(C.some(ue=>ue.suit===G))M=C.filter(ue=>ue.suit===G);else{const ue=f.trumpSuit&&["eicheln","schellen","rosen","schilten"].includes(f.trumpSuit)?f.trumpSuit:null;if(ue){const Ge=C.filter(On=>On.suit===ue);M=Ge.length?Ge:C.slice()}else M=C.slice()}}}N(M)}}catch{}},[y,Ve,b]),O.useEffect(()=>{let f=0,g=y?.currentTrick?.length||0;const j=setInterval(()=>{const E=y;if(!E)return;const C=E.currentTrick?.length||0,M=E.currentPlayer;if(C!==g){g=C,f=0;return}const Q=b.find(G=>G.id===M);E.phase==="playing"&&Q&&Q.id!==Ve&&/bot_/i.test(Q.name)&&(f++,f===2&&Fe&&De&&Fe.emit("table:requestState",{tableId:De}),f>=4&&(console.warn("Desync detected – reloading page"),window.location.reload()))},2e3);return()=>clearInterval(j)},[y,b,Ve,Fe,De]),O.useEffect(()=>{we==="multi"&&Fe&&De&&(console.debug("[multiplayer] Emitting table:join",De),Fe.emit("table:join",{tableId:De}))},[we,Fe,De]);const Rn=async()=>{if(Ae.current)try{const g=await(await fetch(`${pe}/api/tables`,{headers:{Authorization:`Bearer ${Ae.current}`}})).json();g.success&&Vn(g.tables||[])}catch{}},Sr=async f=>{if(Ae.current){Oi(!0);try{const j=await(await fetch(`${pe}/api/tables`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ae.current}`},body:JSON.stringify({name:f||"Table",maxPlayers:4,gameType:Hr,team1Name:qn,team2Name:Gn,targetPoints:En})})).json();j.success?($(`Table '${j.table?.name||f||"Table"}' created`),Li(""),It(j.table.id),Fe?.emit("table:join",{tableId:j.table.id}),dt(!1),Hn("multi")):$(j.message||"Failed to create table"),Rn()}catch{$("Error creating table")}finally{Oi(!1)}}},Ls=async f=>{if(Ae.current){Ii(f);try{await fetch(`${pe}/api/tables/${f}/join`,{method:"POST",headers:{Authorization:`Bearer ${Ae.current}`}}),It(f),Fe?.emit("table:join",{tableId:f}),dt(!1),Hn("multi"),Rn()}finally{Ii(null)}}},kr=async()=>{if(Ae.current){Rs(!0);try{const[f,g]=await Promise.all([fetch(`${pe}/api/friends`,{headers:{Authorization:`Bearer ${Ae.current}`}}),fetch(`${pe}/api/friends/requests`,{headers:{Authorization:`Bearer ${Ae.current}`}})]),j=await f.json(),E=await g.json();j.success&&E.success&&Bi({friends:j.friends,requests:E.requests})}finally{Rs(!1)}}},jr=async f=>{!Ae.current||!f||(await fetch(`${pe}/api/friends/request`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ae.current}`},body:JSON.stringify({username:f})}),kr())},Jn=async(f,g)=>{Ae.current&&(await fetch(`${pe}/api/friends/requests/${f}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ae.current}`},body:JSON.stringify({accept:g})}),kr())};O.useEffect(()=>{we==="multi"&&(Rn(),kr())},[we]);const Nn=f=>{if(f!==we){if(f==="single"){Ze("game"),Hn("single"),dt(!0),It(null),Qr(null),Fi(null),$(h[a].singleModeHint);return}Ze("game"),Hn("multi"),dt(!1),$(h[a].multiModeHint)}},Xr=()=>c.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center",margin:"12px 0"},children:[c.jsx("button",{style:{...je.button,background:we==="single"?"#1A7A4C":"#64748b"},onClick:()=>Nn("single"),children:"Single Player"}),c.jsx("button",{style:{...je.button,background:we==="multi"?"#1A7A4C":"#64748b"},onClick:()=>Nn("multi"),children:"Multiplayer"}),we==="multi"&&c.jsxs("span",{style:{alignSelf:"center",fontSize:12,color:"#374151"},children:["Online: ",Fr]})]}),qo=()=>{const f={OPEN:{bg:"#dcfce7",color:"#166534",label:"Open"},STARTING:{bg:"#fef9c3",color:"#92400e",label:"Starting"},IN_PROGRESS:{bg:"#e0f2fe",color:"#1d4ed8",label:"In progress"},COMPLETED:{bg:"#ede9fe",color:"#5b21b6",label:"Completed"},CANCELLED:{bg:"#fee2e2",color:"#b91c1c",label:"Cancelled"}};return c.jsxs("div",{style:{padding:12},children:[c.jsxs("div",{style:{display:"flex",gap:10,marginBottom:14,alignItems:"center",flexWrap:"wrap"},children:[c.jsx("input",{value:zi,onChange:g=>Li(g.target.value),placeholder:"Table name",style:{padding:10,border:"1px solid #d1d5db",borderRadius:10,minWidth:180}}),c.jsx("select",{value:Hr,onChange:g=>Ps(g.target.value),style:{padding:10,border:"1px solid #d1d5db",borderRadius:10},children:c.jsx("option",{value:"schieber",children:"Schieber"})}),c.jsx("input",{value:qn,onChange:g=>Ai(g.target.value),placeholder:"Team 1 name",style:{padding:10,border:"1px solid #d1d5db",borderRadius:10,width:140}}),c.jsx("input",{value:Gn,onChange:g=>Fo(g.target.value),placeholder:"Team 2 name",style:{padding:10,border:"1px solid #d1d5db",borderRadius:10,width:140}}),c.jsx("input",{type:"number",value:En,onChange:g=>Vr(parseInt(g.target.value)||1e3),placeholder:"Target",style:{padding:10,border:"1px solid #d1d5db",borderRadius:10,width:110}}),c.jsx("button",{disabled:Mt,style:{...je.button,background:Mt?"#94a3b8":"#1A7A4C",padding:"10px 18px"},onClick:()=>Sr(zi||"Table"),children:Mt?"Creating…":"Create table"}),c.jsx("button",{style:{...je.button,background:"#2563eb",padding:"10px 18px"},onClick:Rn,children:"Refresh list"}),c.jsxs("div",{style:{fontSize:12,color:"#4b5563"},children:["Online: ",Fr]})]}),c.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:14},children:"Host a public table or join an existing lobby below. Tables automatically upgrade to live games when everyone is ready."}),c.jsxs("div",{style:{display:"grid",gap:14,gridTemplateColumns:"repeat(auto-fill,minmax(260px,1fr))"},children:[Ur.map(g=>c.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:14,padding:16,background:"#ffffff",boxShadow:"0 10px 24px rgba(15,23,42,0.08)",display:"flex",flexDirection:"column",gap:12},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[c.jsx("div",{style:{fontWeight:700,fontSize:16,color:"#111827"},children:g.name}),(()=>{const j=f[g.status]||{bg:"#e5e7eb",color:"#374151",label:g.status};return c.jsx("span",{style:{background:j.bg,color:j.color,padding:"4px 10px",borderRadius:999,fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:".6px"},children:j.label})})()]}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6,fontSize:12,color:"#4b5563"},children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Host:"})," ",g.players?.find(j=>j.isHost)?.user?.username||"Unknown"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Teams:"})," ",g.team1Name||"Team 1"," vs ",g.team2Name||"Team 2"]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Target:"})," ",g.targetPoints||En," pts • ",c.jsx("strong",{children:"Players:"})," ",g.players?.length||0,"/",g.maxPlayers]})]}),g.players&&g.players.length>0&&c.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",fontSize:11,color:"#6b7280"},children:g.players.map(j=>c.jsxs("span",{style:{background:"#f3f4f6",borderRadius:999,padding:"4px 8px",border:j.isHost?"1px solid #1A7A4C":"1px solid #e5e7eb"},children:[j.user?.username||j.userId,j.isHost?" ★":""]},j.id))}),c.jsxs("div",{style:{display:"flex",gap:8,marginTop:"auto"},children:[c.jsx("button",{disabled:$r===g.id||g.status!=="OPEN"&&g.status!=="STARTING",style:{...je.button,flex:1,background:$r===g.id?"#94a3b8":"#1A7A4C"},onClick:()=>Ls(g.id),children:$r===g.id?"Joining…":"Join table"}),g.status==="OPEN"&&g.createdById===u?.id&&c.jsx("button",{style:{...je.button,background:"#f59e0b"},onClick:()=>Wt(g.id),children:"Start now"})]})]},g.id)),!Ur.length&&c.jsx(yd,{icon:"🎴",title:"No Active Tables",description:"Be the first to create a public table and invite friends to play!",action:c.jsx("button",{onClick:()=>Sr("My Table"),disabled:Mt,style:{...je.button,padding:"12px 24px",fontSize:"1rem"},children:Mt?c.jsxs(c.Fragment,{children:[c.jsx(Oa,{size:"sm"})," Creating..."]}):"+ Create First Table"})})]})]})},[As,Zr]=O.useState(""),ei=()=>c.jsxs("div",{style:{padding:12},children:[c.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12,alignItems:"center",flexWrap:"wrap"},children:[c.jsx("input",{value:As,onChange:f=>Zr(f.target.value),placeholder:"Friend username",style:{flex:1,padding:8,border:"1px solid #ddd",borderRadius:6}}),c.jsx("button",{style:je.button,onClick:()=>{jr(As),Zr("")},children:"Add"}),c.jsx("button",{style:je.button,onClick:kr,children:"Refresh"})]}),bs&&c.jsx(Ph,{message:"Loading friends..."}),!bs&&c.jsxs(c.Fragment,{children:[c.jsx("h4",{style:{margin:"8px 0 4px"},children:"Friends"}),c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[Pn.friends.map(f=>c.jsxs("div",{style:{background:"#fff",padding:"6px 10px",borderRadius:20,fontSize:12,border:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:6},children:[c.jsx("span",{style:{width:8,height:8,borderRadius:4,background:f.online?"#10b981":"#9ca3af",display:"inline-block"}}),f.username]},f.id)),!Pn.friends.length&&c.jsx(yd,{icon:"👥",title:"No Friends Yet",description:"Add friends to play multiplayer games together",style:{gridColumn:"1 / -1"}})]}),c.jsx("h4",{style:{margin:"12px 0 4px"},children:"Requests"}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[Pn.requests.map(f=>c.jsxs("div",{style:{background:"#fff",padding:"8px 10px",borderRadius:8,border:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{fontSize:12},children:[f.senderId===u?.id?`To ${f.receiver?.username}`:`From ${f.sender?.username}`," – ",f.status]}),f.status==="PENDING"&&f.receiverId===u?.id&&c.jsxs("div",{style:{display:"flex",gap:6},children:[c.jsx("button",{style:{...je.button,background:"#1A7A4C"},onClick:()=>Jn(f.id,!0),children:"Accept"}),c.jsx("button",{style:{...je.button,background:"#D42E2C"},onClick:()=>Jn(f.id,!1),children:"Decline"})]})]},f.id)),!Pn.requests.length&&c.jsx("div",{style:{fontSize:12,color:"#555"},children:"No pending requests"})]})]})]}),Ki=()=>{const j=we==="multi"?["game","tables","friends","rankings","settings","profile"]:["game","settings","profile"];return c.jsxs("div",{style:{display:"flex",gap:10,marginBottom:16,justifyContent:"center",flexWrap:"wrap"},children:[j.map(E=>{const C={game:h[a].game,rankings:h[a].rankings,settings:h[a].settings,profile:h[a].profile,tables:"🏓 Tables",friends:"👥 Friends"},M=Oe===E;return c.jsx("button",{onClick:()=>{Ze(E),E==="game"?(dt(!0),we==="multi"&&Fe&&De&&Ae.current&&fetch(`${pe}/api/tables/${De}/ready`,{method:"POST",headers:{Authorization:`Bearer ${Ae.current}`}}).catch(()=>{})):dt(!1)},style:{padding:"8px 14px",borderRadius:24,fontSize:13,fontWeight:600,letterSpacing:".5px",cursor:"pointer",border:M?"2px solid #1A7A4C":"1px solid #d1d5db",background:M?"#1A7A4C":"#ffffff",color:M?"#ffffff":"#1f2937",boxShadow:M?"0 4px 10px rgba(26,122,76,0.35)":"0 2px 4px rgba(0,0,0,0.08)",transition:"background 120ms, color 120ms, box-shadow 150ms, border-color 150ms"},onMouseEnter:Q=>{M||(Q.currentTarget.style.background="#f3f4f6")},onMouseLeave:Q=>{M||(Q.currentTarget.style.background="#ffffff")},children:C[E]},E)}),S&&Oe==="game"&&c.jsx("button",{style:{...je.button,background:"#2563eb"},onClick:()=>bn(S),disabled:$e,children:h[a].refresh}),i&&c.jsx("button",{style:{...je.button,background:"#374151"},onClick:i,children:h[a].logout}),w&&c.jsxs(c.Fragment,{children:[c.jsx("button",{style:{...je.button,background:"#f59e0b"},onClick:()=>{const E=Ft();if(E&&E.pendingResolve){const C=Oo(E);qe(C),P(xe(C)),B(et(C.players)),W(C.players.find(M=>M.id===0)?.hand||[]),N(ut(C,0)),$("Force-resolved trick")}else $("No pending action to force-resume")},children:"Force Resume"}),c.jsx("button",{style:{...je.button,background:"#ef4444"},onClick:()=>{localStorage.removeItem("jassLocalState"),P(null),B([]),W([]),N([]),dt(!0),$("Local state reset")},children:"Reset Local"})]})]})};O.useEffect(()=>{if(we==="multi"&&Je){P({phase:Je.phase,currentPlayer:Je.currentPlayer,trumpSuit:Je.trump,currentTrick:Je.currentTrick,scores:Je.scores,roundScores:Je.roundScores,dealer:Je.dealer,forehand:Je.forehand??null,weis:Je.weis});const f=Je.players.map(j=>({id:j.id,name:j.userId===Wi?"You (Dealer)":j.userId,hand:j.hand,team:j.team,position:j.position}));B(f);const g=f.find(j=>j.userId===u?.id||j.id===0);W(g?.hand||[]),Je.currentPlayer===0?N(ut(Je,0)):N([])}},[Je]);const Ji=Oe==="game"&&(!hn||we==="multi"&&!!y);return c.jsxs("div",{style:je.container,children:[c.jsx(Eh,{lang:a,onLangChange:f=>p(f)}),c.jsxs("div",{style:je.gameArea,children:[c.jsx("div",{style:je.message,children:rt}),Xr(),Ki(),Oe==="tables"&&we==="multi"&&c.jsx("div",{style:{marginBottom:24},children:qo()}),Oe==="friends"&&we==="multi"&&c.jsx("div",{style:{marginBottom:24},children:ei()}),Ji&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:80,marginTop:12,marginBottom:16},children:[c.jsxs("div",{style:{textAlign:"center",background:"#fff",borderRadius:12,padding:"12px 20px",border:"2px solid #D42E2C",boxShadow:"0 4px 8px rgba(212, 46, 44, 0.15)"},children:[c.jsx("div",{style:{fontSize:14,fontWeight:700,color:"#A42423",marginBottom:2},children:pn[1]||"Team 1"}),c.jsx("div",{style:{fontSize:28,fontWeight:900,color:"#D42E2C"},children:y?.scores?.team1??0}),c.jsx("div",{style:{fontSize:10,color:"#6b7280",marginTop:1},children:"Punkte"})]}),c.jsxs("div",{style:{textAlign:"center",background:"#fff",borderRadius:12,padding:"12px 20px",border:"2px solid #1A7A4C",boxShadow:"0 4px 8px rgba(26, 122, 76, 0.15)"},children:[c.jsx("div",{style:{fontSize:14,fontWeight:700,color:"#135A38",marginBottom:2},children:pn[2]||"Team 2"}),c.jsx("div",{style:{fontSize:28,fontWeight:900,color:"#1A7A4C"},children:y?.scores?.team2??0}),c.jsx("div",{style:{fontSize:10,color:"#6b7280",marginTop:1},children:"Punkte"})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:16},children:c.jsxs("div",{style:{background:gn?"#fff":"#f3f4f6",border:gn?"2px solid #1A7A4C":"2px solid #9ca3af",borderRadius:12,padding:"10px 18px",fontSize:16,fontWeight:700,color:gn?"#135A38":"#6b7280",boxShadow:gn?"0 4px 12px rgba(26, 122, 76, 0.2)":"0 2px 4px rgba(0,0,0,0.1)",minWidth:200,textAlign:"center"},children:[c.jsx("span",{style:{fontSize:12,display:"block",marginBottom:2,opacity:.8},children:h[a].currentTrump}),c.jsx("span",{style:{fontSize:18},children:gn?`${vd[gn]||""} ${gn.toUpperCase()}`:"—"})]})}),we==="multi"&&Je&&c.jsxs("div",{style:{margin:"0 auto 16px",maxWidth:760,background:"#fff",padding:12,borderRadius:12,border:"1px solid #e5e7eb"},children:[c.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16,alignItems:"center"},children:[c.jsx("div",{style:{fontSize:14,fontWeight:700},children:"Multiplayer State"}),c.jsxs("div",{style:{fontSize:12},children:["Dealer Seat: ",Je.dealerSeat]}),c.jsxs("div",{style:{fontSize:12},children:["Current Player Seat: ",Je.currentPlayerSeat]}),De&&c.jsxs("div",{style:{fontSize:12,color:"#374151"},children:["Table: ",De]})]}),c.jsxs("div",{style:{marginTop:8},children:[c.jsx("div",{style:{fontSize:12,fontWeight:600,marginBottom:4},children:"Your Multiplayer Hand"}),c.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:(Je.players||[]).find(f=>f.userId===u?.id)?.hand?.map((f,g)=>c.jsx("div",{style:{padding:"4px 6px",background:"#1A7A4C",color:"#fff",borderRadius:6,fontSize:12,letterSpacing:.5},children:f},g))||c.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:"No hand"})})]})]}),$i.length>0&&c.jsxs("div",{style:{marginBottom:16,background:"#f9fafb",borderRadius:8,padding:12},children:[c.jsx("div",{style:{fontSize:14,fontWeight:600,marginBottom:8,textAlign:"center"},children:"Round History"}),c.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap",justifyContent:"center"},children:$i.map((f,g)=>c.jsxs("div",{style:{background:"white",borderRadius:6,padding:"4px 8px",fontSize:12,border:"1px solid #e5e7eb",minWidth:80,textAlign:"center"},children:[c.jsxs("div",{style:{fontWeight:600},children:["Round ",f.round]}),c.jsx("div",{style:{color:"#dc2626"},children:f.team1}),c.jsx("div",{style:{color:"#2563eb"},children:f.team2}),c.jsx("div",{style:{fontSize:10,color:"#6b7280"},children:f.trump})]},g))})]})]}),Ji&&c.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:8},children:c.jsxs("div",{style:{width:700,height:420,position:"relative",background:"radial-gradient(circle, rgba(25,122,76,1) 0%, rgba(19,93,58,1) 100%)",borderRadius:16,boxShadow:"inset 0 0 20px rgba(0,0,0,0.5), 0 8px 25px rgba(0,0,0,0.2)",padding:8,border:"4px solid #135A38"},children:[c.jsx("div",{style:{position:"absolute",top:8,left:"50%",transform:"translateX(-50%)",textAlign:"center",minWidth:100},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,marginBottom:4},children:[xr(b.find(f=>f.position==="north")?.id),c.jsxs("div",{children:[c.jsxs("div",{style:{fontWeight:"700",fontSize:13,color:"#1f2937",marginBottom:1},children:[b.find(f=>f.position==="north")?.name||"North",st?.id===b.find(f=>f.position==="north")?.id?c.jsx("span",{style:{marginLeft:4,fontSize:"1.2rem"},children:st?.emoji}):null]}),c.jsxs("div",{style:{fontSize:10,color:"#6b7280",display:"flex",gap:8,justifyContent:"center"},children:[c.jsxs("span",{children:[b.find(f=>f.position==="north")?.hand?.length??0," ",h[a].cards]}),c.jsxs("span",{children:[h[a].team," ",b.find(f=>f.position==="north")?.team??"-"," • ",Jr(b.find(f=>f.position==="north"))," ",h[a].tricks]})]})]})]})}),c.jsx("div",{style:{position:"absolute",top:"50%",left:8,transform:"translateY(-50%)",textAlign:"center",minWidth:80},children:c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,marginBottom:4,flexDirection:"column"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[xr(b.find(f=>f.position==="west")?.id),c.jsxs("div",{children:[c.jsxs("div",{style:{fontWeight:"700",fontSize:13,color:"#1f2937",marginBottom:1},children:[b.find(f=>f.position==="west")?.name||"West",st?.id===b.find(f=>f.position==="west")?.id?c.jsx("span",{style:{marginLeft:4,fontSize:"1.2rem"},children:st?.emoji}):null]}),c.jsxs("div",{style:{fontSize:9,color:"#6b7280"},children:[c.jsxs("div",{children:[b.find(f=>f.position==="west")?.hand?.length??0," ",h[a].cards]}),c.jsxs("div",{children:[h[a].team," ",b.find(f=>f.position==="west")?.team??"-"," • ",Jr(b.find(f=>f.position==="west"))," ",h[a].tricks]})]})]})]})})}),c.jsx("div",{style:{position:"absolute",top:"50%",right:8,transform:"translateY(-50%)",textAlign:"center",minWidth:80},children:c.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,marginBottom:4,flexDirection:"column"},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4},children:[c.jsxs("div",{children:[c.jsxs("div",{style:{fontWeight:"700",fontSize:13,color:"#1f2937",marginBottom:1},children:[b.find(f=>f.position==="east")?.name||"East",st?.id===b.find(f=>f.position==="east")?.id?c.jsx("span",{style:{marginLeft:4,fontSize:"1.2rem"},children:st?.emoji}):null]}),c.jsxs("div",{style:{fontSize:9,color:"#6b7280"},children:[c.jsxs("div",{children:[b.find(f=>f.position==="east")?.hand?.length??0," ",h[a].cards]}),c.jsxs("div",{children:[h[a].team," ",b.find(f=>f.position==="east")?.team??"-"," • ",Jr(b.find(f=>f.position==="east"))," ",h[a].tricks]})]})]}),xr(b.find(f=>f.position==="east")?.id)]})})}),c.jsx("div",{style:{position:"absolute",bottom:8,left:"50%",transform:"translateX(-50%)",textAlign:"center",minWidth:100},children:c.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[c.jsxs("div",{children:[c.jsxs("div",{style:{fontWeight:"800",fontSize:13,color:"#1f2937",marginBottom:1},children:[b.find(f=>f.position==="south")?.name||"You",st?.id===b.find(f=>f.position==="south")?.id?c.jsx("span",{style:{marginLeft:4,fontSize:"1.2rem"},children:st?.emoji}):null]}),c.jsxs("div",{style:{fontSize:10,color:"#6b7280",display:"flex",gap:8,justifyContent:"center"},children:[c.jsxs("span",{children:[b.find(f=>f.position==="south")?.hand?.length??0," ",h[a].cards]}),c.jsxs("span",{children:[h[a].team," ",b.find(f=>f.position==="south")?.team??"-"," • ",Jr(b.find(f=>f.position==="south"))," ",h[a].tricks]})]})]}),xr(b.find(f=>f.position==="south")?.id)]})}),c.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",width:280,height:280},children:c.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[Dr&&Dr.length>0?Dr.map((f,g)=>{const j=Kr(f.playerId??g),C={south:{left:"50%",top:"75%",rot:0},north:{left:"50%",top:"25%",rot:180},west:{left:"25%",top:"50%",rot:90},east:{left:"75%",top:"50%",rot:-90}}[j]||{left:"50%",top:"50%",rot:0};return c.jsxs("div",{style:{position:"absolute",left:C.left,top:C.top,transform:`translate(-50%,-50%) rotate(${C.rot}deg)`,textAlign:"center"},children:[c.jsx(wa,{card:f}),c.jsx("div",{style:{fontSize:9,color:"#374151",fontWeight:"600",marginTop:2},children:b.find(M=>M.id===f.playerId)?.name??"Player"})]},f.id||g)}):!_n&&y?.currentTrick&&y.currentTrick.length>0&&y.currentTrick.map((f,g)=>{const j=Kr(f.playerId??g),C={south:{left:"50%",top:"75%",rot:0},north:{left:"50%",top:"25%",rot:180},west:{left:"25%",top:"50%",rot:90},east:{left:"75%",top:"50%",rot:-90}}[j]||{left:"50%",top:"50%",rot:0},Q=Ei.findIndex(G=>G.id===f.id)!==-1&&(_e?.winnerId??null)!==null?{transition:"transform 700ms ease, left 700ms ease, top 700ms ease",zIndex:40}:{};return c.jsxs("div",{style:{position:"absolute",left:C.left,top:C.top,transform:`translate(-50%,-50%) rotate(${C.rot}deg)`,textAlign:"center",...Q},children:[c.jsx(wa,{card:f}),c.jsx("div",{style:{fontSize:9,color:"#374151",fontWeight:"600",marginTop:2},children:b.find(G=>G.id===f.playerId)?.name??"Player"})]},f.id||g)}),_n&&c.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",color:"#6b7280",fontWeight:"600",fontSize:14},children:"Resolving..."}),!y?.currentTrick?.length&&!Pe&&!_n&&c.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",color:"#6b7280",fontWeight:"500",fontSize:12},children:h[a].noCardsPlayed})]})})]})}),Oe==="game"&&hn&&we==="single"&&c.jsx("div",{style:{marginTop:12,display:"flex",justifyContent:"center"},children:c.jsxs("div",{style:{width:"100%",maxWidth:760,background:"#ffffff",borderRadius:16,padding:"24px 28px",boxShadow:"0 18px 40px rgba(17, 24, 39, 0.12)",border:"1px solid #e5e7eb"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:12},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{margin:0,fontSize:20,fontWeight:800,color:"#1f2937"},children:h[a].singleSetupTitle}),c.jsx("p",{style:{margin:"6px 0 0",fontSize:13,color:"#4b5563"},children:h[a].singleSetupSubtitle})]}),c.jsx("div",{style:{background:"#1A7A4C",color:"#fff",borderRadius:999,padding:"6px 14px",fontSize:12,fontWeight:600},children:h[a].offlineBadge})]}),c.jsxs("div",{style:{display:"grid",gap:16,marginTop:20,gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))"},children:[c.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:12,fontWeight:600,color:"#4b5563",textTransform:"uppercase",letterSpacing:.5},children:["Game type",c.jsx("select",{value:Re,onChange:f=>U(f.target.value),style:{marginTop:6,padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db",fontSize:14,fontWeight:500},children:c.jsx("option",{value:"schieber",children:"Schieber"})})]}),c.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:12,fontWeight:600,color:"#4b5563",textTransform:"uppercase",letterSpacing:.5},children:["Team 1 name",c.jsx("input",{value:pn[1],onChange:f=>Ar(g=>({...g,1:f.target.value})),style:{marginTop:6,padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db",fontSize:14,fontWeight:500}})]}),c.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:12,fontWeight:600,color:"#4b5563",textTransform:"uppercase",letterSpacing:.5},children:["Team 2 name",c.jsx("input",{value:pn[2],onChange:f=>Ar(g=>({...g,2:f.target.value})),style:{marginTop:6,padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db",fontSize:14,fontWeight:500}})]}),c.jsxs("label",{style:{display:"flex",flexDirection:"column",fontSize:12,fontWeight:600,color:"#4b5563",textTransform:"uppercase",letterSpacing:.5},children:["Target score",c.jsx("input",{type:"number",value:ee,min:100,onChange:f=>V(Number(f.target.value)),style:{marginTop:6,padding:"10px 12px",borderRadius:10,border:"1px solid #d1d5db",fontSize:14,fontWeight:500}})]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:24,flexWrap:"wrap",gap:12},children:[c.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:h[a].autosaveHint}),c.jsx("button",{style:{...je.button,padding:"12px 24px",fontSize:15},onClick:Yr,children:h[a].startLocalMatch})]})]})}),Oe==="game"&&hn&&we==="multi"&&c.jsx("div",{style:{marginTop:12,background:"#f9fafb",borderRadius:14,padding:"16px 20px",border:"1px solid #e5e7eb",color:"#374151",fontSize:13},children:h[a].multiTablesBlurb}),Oe==="rankings"&&we==="multi"&&c.jsx(Th,{apiUrl:pe,onBack:()=>Ze("game"),onReset:Vo}),Oe==="profile"&&c.jsxs("div",{style:{marginTop:8},children:[c.jsx("h3",{children:h[a].profile}),c.jsxs("div",{style:{display:"flex",gap:16},children:[c.jsxs("div",{style:{flex:1,background:"#fff",padding:12,borderRadius:8},children:[c.jsx("div",{style:{fontWeight:700,fontSize:16},children:ft}),c.jsxs("div",{style:{color:"#6b7280",marginTop:8},children:["Total Points: ",ct[ft]?.totalPoints??0]}),c.jsxs("div",{style:{color:"#6b7280"},children:["Games Played: ",ct[ft]?.gamesPlayed??0]}),c.jsxs("div",{style:{color:"#6b7280"},children:["Wins: ",ct[ft]?.wins??0]}),c.jsxs("div",{style:{color:"#6b7280"},children:["Last Seen: ",ct[ft]?.lastSeen?new Date(ct[ft].lastSeen).toLocaleString():"—"]})]}),c.jsxs("div",{style:{width:360,background:"#fff",padding:12,borderRadius:8},children:[c.jsx("h4",{children:h[a].changePassword}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[c.jsxs("label",{children:[h[a].username,c.jsx("input",{value:ft,onChange:f=>Es(f.target.value),style:{width:"100%",marginTop:6}})]}),c.jsxs("label",{children:[h[a].newPassword,c.jsx("input",{type:"password",value:Mr,onChange:f=>Wr(f.target.value),style:{width:"100%",marginTop:6}})]}),c.jsxs("div",{style:{display:"flex",gap:8},children:[c.jsx("button",{style:je.button,onClick:zt,children:h[a].savePassword}),c.jsx("button",{style:{...je.button,background:"#6b7280"},onClick:()=>{Xt(null),Wr("")},children:h[a].backToGame})]}),$n&&c.jsx("div",{style:{color:"#065f46",marginTop:6},children:$n})]})]})]})]}),Oe==="settings"&&c.jsxs("div",{style:{marginTop:8},children:[c.jsx("h3",{children:"Settings"}),c.jsxs("div",{style:{marginTop:8},children:[c.jsx("label",{children:"Delete User: "}),c.jsxs("select",{id:"delete-user-select",style:{marginLeft:8},children:[c.jsx("option",{value:"",children:"-- Select user --"}),Tt.map(f=>c.jsxs("option",{value:f.id,children:[f.username," (",f.totalPoints," pts)"]},f.id))]}),c.jsx("button",{style:{...je.button,marginLeft:8},onClick:async()=>{const f=document.getElementById("delete-user-select").value;if(!f)return $("Select a user to delete");try{const j=await(await fetch(`${pe}/api/admin/users/${f}`,{method:"DELETE"})).json();$(j?.message||"Deleted");const C=await(await fetch(`${pe}/api/admin/users`)).json();C?.success&&mt(C.users||[])}catch{$("Failed to delete user")}},children:"Delete"})]})]}),c.jsxs("div",{children:[c.jsx("h3",{children:h[a].yourHand}),c.jsx("div",{style:je.hand,children:ne.length?vr(ne,te).map(f=>{const g=F.some(E=>E.id===f.id),j=g?null:qi(f);return c.jsx("div",{style:{position:"relative"},children:c.jsx("div",{title:j||void 0,onClick:()=>{g?jt(f.id):j&&$(j)},onDoubleClick:()=>{if(!g){j&&$(j);return}w?tn(f.id):Ho(f.id)},children:c.jsx(wa,{card:f,isSelected:Le===f.id,isPlayable:g})})},f.id)}):c.jsx("div",{style:{color:"#6b7280"},children:"No cards"})})]}),y?.phase==="trump_selection"&&(we==="multi"?Ve!==null&&y.currentPlayer===Ve:y.currentPlayer===0)&&c.jsxs("div",{style:{marginTop:12},children:[c.jsxs("h4",{children:[h[a].selectTrump," — Dealer: ",b.find(f=>f.id===y.dealer)?.name||`Player ${y.dealer}`]}),c.jsxs("div",{style:{marginBottom:8,fontSize:14,color:"#374151"},children:[h[a].dealer,": ",b.find(f=>f.id===y.dealer)?.name||`Player ${y.dealer}`," (chooses trump)"]}),c.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[["eicheln","schellen","rosen","schilten","oben-abe","unden-ufe"].map(f=>c.jsx("button",{style:{...je.button,border:te===f?"2px solid #000":void 0},onClick:()=>{le(f),$(`Selected trump ${f}`)},children:f==="oben-abe"?"Oben-abe":f==="unden-ufe"?"Unden-ufe":`${vd[f]} ${f}`},f)),c.jsx("button",{style:je.button,onClick:yn,children:h[a].submitTrump}),w&&y?.dealer===0&&c.jsx("button",{style:{...je.button,background:"#6b7280"},onClick:()=>{le("schieben"),$("Dealer passed trump decision to partner (Schieben)")},children:"🔄 Schieben (Pass)"})]}),c.jsx("div",{style:{marginTop:8,fontSize:13,color:"#6b7280"},children:a==="ch"?"Der Dealer wählt de Trump in däm Modus; er cha de Entscheid a sin Partner witerge (schiebe).":"Dealer chooses trump; they may pass the decision to their partner (schieben)."})]}),y?.weis&&Object.keys(y.weis).length>0&&c.jsxs("div",{style:{marginTop:16,padding:16,background:"#f0f9ff",border:"2px solid #10b981",borderRadius:12},children:[c.jsx("h4",{style:{margin:"0 0 12px 0",color:"#064e3b",fontSize:"18px",textAlign:"center"},children:"🎯 Weis (Melds) - Swiss Jass Tradition"}),en&&c.jsxs("div",{style:{background:"#d1fae5",border:"1px solid #10b981",borderRadius:8,padding:8,marginBottom:12,textAlign:"center",fontSize:14,fontWeight:"600",color:"#064e3b"},children:["🏆 Weis Winner: ",b.find(f=>f.id===en.playerId)?.name," (Team ",en.teamId,")",c.jsx("br",{}),c.jsx("span",{style:{fontSize:"12px",fontWeight:"400"},children:"Only this team's Weis count for scoring (authentic Swiss Jass rules)"})]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:12},children:Object.entries(y.weis).map(([f,g])=>{const j=b.find(M=>M.id===parseInt(f)),E=g;if(!E||E.length===0)return null;const C=en?.teamId===j?.team;return c.jsxs("div",{style:{padding:12,background:C?"#ecfdf4":"white",borderRadius:8,border:C?"2px solid #10b981":"1px solid #e5e7eb",opacity:en&&!C?.6:1},children:[c.jsxs("div",{style:{fontWeight:"700",color:C?"#064e3b":"#1e40af",marginBottom:6,fontSize:15},children:[j?.name||`Player ${f}`," (Team ",j?.team||"?",")",C&&c.jsx("span",{style:{marginLeft:8},children:"👑"})]}),E.map((M,Q)=>c.jsxs("div",{style:{fontSize:13,color:"#374151",marginBottom:3,padding:"4px 8px",background:C?"#f0fdf4":"#f9fafb",borderRadius:4,border:`1px solid ${C?"#bbf7d0":"#e5e7eb"}`},children:[c.jsxs("span",{style:{fontWeight:"600",color:C?"#059669":"#6b7280",marginRight:8},children:[M.points," ",h[a].weisPoints]}),M.description,en&&!C&&c.jsxs("span",{style:{color:"#ef4444",fontSize:11,fontStyle:"italic"},children:[" ",h[a].weisNotCount]})]},Q))]},f)})}),c.jsxs("div",{style:{marginTop:12,padding:8,background:"#fef3c7",borderRadius:6,fontSize:12,color:"#92400e",textAlign:"center"},children:[c.jsxs("strong",{children:[h[a].weisRulesTitle,":"]})," ",h[a].weisRulesDesc]})]}),gr&&y?.phase==="finished"&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.5s ease-in-out"},children:c.jsxs("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",padding:32,borderRadius:16,textAlign:"center",maxWidth:500,boxShadow:"0 20px 60px rgba(0,0,0,0.3)",border:"3px solid #f59e0b",animation:"bounceIn 0.6s ease-out"},children:[c.jsx("div",{style:{fontSize:"4rem",marginBottom:16,animation:"pulse 2s infinite"},children:"🏆"}),c.jsx("h2",{style:{margin:"0 0 16px 0",color:"#92400e",fontSize:"2rem",fontWeight:"800"},children:y.scores.team1>y.scores.team2?"Team 1 Wins!":"Team 2 Wins!"}),c.jsxs("div",{style:{fontSize:"1.2rem",marginBottom:20,color:"#451a03"},children:[c.jsxs("div",{style:{marginBottom:8},children:[c.jsx("strong",{children:"Final Score:"})," Team 1: ",y.scores.team1," - Team 2: ",y.scores.team2]}),c.jsx("div",{style:{fontSize:"1rem",color:"#78716c"},children:"Victory achieved in authentic Swiss Jass style! 🇨🇭"})]}),c.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[c.jsx("button",{style:{...je.button,background:"#059669",color:"white",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",boxShadow:"0 4px 12px rgba(5,150,105,0.3)",opacity:$e?.7:1,cursor:$e?"not-allowed":"pointer"},onClick:()=>{mn(!1),Gi()},disabled:$e,children:$e?c.jsxs(c.Fragment,{children:[c.jsx(Oa,{size:"sm"})," Creating..."]}):`🎮 ${h[a].playAgain}`}),c.jsx("button",{style:{...je.button,background:"#dc2626",color:"white",padding:"12px 24px",fontSize:"1rem",fontWeight:"600",boxShadow:"0 4px 12px rgba(220,38,38,0.3)"},onClick:()=>{mn(!1),Ze("rankings")},children:"📊 View Rankings"})]})]})}),c.jsxs("div",{style:{marginTop:18,display:"grid",gridTemplateColumns:"1fr 320px",gap:12,alignItems:"start"},children:[c.jsxs("div",{style:{background:"#fffaf0",border:"1px solid #fde2b6",padding:8,borderRadius:8},children:[c.jsx("div",{style:{fontWeight:700,marginBottom:4,fontSize:14},children:h[a].scoringDetails}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"2px 8px",fontSize:12,lineHeight:1.3},children:[c.jsx("div",{style:{fontWeight:600,fontSize:11},children:"Non-trump"}),c.jsx("div",{}),c.jsx("div",{style:{fontWeight:600,fontSize:11},children:"Trump"}),c.jsx("div",{}),c.jsx("div",{children:"A: 11"}),c.jsx("div",{children:"K: 4"}),c.jsx("div",{children:"U: 20"}),c.jsx("div",{children:"A: 11"}),c.jsx("div",{children:"10: 10"}),c.jsx("div",{children:"O: 3"}),c.jsx("div",{children:"9: 14"}),c.jsx("div",{children:"10: 10"}),c.jsx("div",{children:"U: 2"}),c.jsx("div",{children:"9,8,7,6: 0"}),c.jsx("div",{children:"K: 4"}),c.jsx("div",{children:"O,8,7,6: 0"})]}),c.jsx("div",{style:{marginTop:4,fontSize:11,color:"#6b7280",lineHeight:1.3},children:"Last trick: +5 bonus • Total: 157 pts (152+5)"})]}),c.jsxs("div",{style:{width:320},children:[c.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Mountain Music Playlist"}),c.jsxs("div",{style:{borderRadius:10,overflow:"hidden",border:"1px solid #e5e7eb",padding:8,background:"#fff"},children:[c.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[c.jsx("button",{style:{...je.button,background:"#374151"},onClick:()=>s.current?.prev(),children:"Prev"}),c.jsx("button",{style:{...je.button,background:"#059669"},onClick:()=>s.current?.play(),children:"Play"}),c.jsx("button",{style:{...je.button,background:"#ef4444"},onClick:()=>s.current?.pause(),children:"Pause"}),c.jsx("button",{style:{...je.button,background:"#111827"},onClick:()=>s.current?.next(),children:"Next"})]}),c.jsx("div",{style:{borderRadius:6,overflow:"hidden"},children:c.jsx(Pp,{ref:s,playlistId:"PL4-gXKkSsfQpRt16x8SUGSz6wLk2Lyxdp",width:320,height:200,autoplay:!0})})]})]})]}),c.jsxs("div",{style:{marginTop:24,padding:"12px 16px",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:8,border:"1px solid #d1d5db",fontSize:11,color:"#6b7280",lineHeight:1.6,textAlign:"center"},children:[c.jsx("div",{style:{fontWeight:600,marginBottom:4,color:"#374151"},children:"Swiss Jass Card Designs"}),c.jsxs("div",{children:["Card symbols rendered using custom SVG graphics based on authentic Swiss Jass traditions.",c.jsx("br",{}),"Eicheln (Acorns) • Schellen (Bells) • Rosen (Roses) • Schilten (Shields)"]}),c.jsxs("div",{style:{marginTop:8,fontSize:10,color:"#9ca3af"},children:["Court figures (Unter, Ober, König) represent traditional Swiss card characters.",c.jsx("br",{}),"© 2025 Swiss Jass App - Cultural heritage preserved digitally"]})]})]}),Di&&c.jsx(Ch,{isOpen:Di,winningTeam:Uo,teamNames:pn,finalScores:{team1:y?.scores?.team1||0,team2:y?.scores?.team2||0},roundHistory:$i,onPlayAgain:()=>{qr(!1),mn(!1),w?Yr():Ze("tables")},onClose:()=>{qr(!1),Ze("rankings")}}),Gr&&c.jsx(_h,{message:Gr.message,type:Gr.type,duration:3e3,onClose:()=>Mi(null)})]})},oe={container:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},formCard:{background:"white",borderRadius:"20px",padding:"2rem",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",maxWidth:"400px",width:"100%"},title:{fontSize:"2rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",background:"linear-gradient(135deg, #667eea, #764ba2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},subtitle:{textAlign:"center",color:"#6b7280",marginBottom:"2rem",fontSize:"0.9rem"},tabs:{display:"flex",marginBottom:"2rem",gap:"0.5rem"},tab:{flex:1,padding:"0.75rem",border:"none",background:"#f3f4f6",borderRadius:"10px",cursor:"pointer",fontSize:"1rem",fontWeight:500,transition:"all 0.3s ease"},activeTab:{background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white"},form:{display:"flex",flexDirection:"column",gap:"1rem"},inputGroup:{display:"flex",flexDirection:"column",gap:"0.25rem"},label:{fontSize:"0.9rem",fontWeight:500,color:"#374151"},input:{padding:"0.75rem",border:"2px solid #e5e7eb",borderRadius:"10px",fontSize:"1rem",transition:"all 0.3s ease",outline:"none"},avatarSection:{marginTop:"1rem",padding:"1rem",background:"#f9fafb",borderRadius:"10px"},avatarGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem",marginTop:"0.5rem"},avatarOption:{padding:"0.5rem",background:"white",border:"2px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",textAlign:"center",transition:"all 0.2s ease"},avatarSelected:{borderColor:"#667eea",background:"#f0f4ff"},colorGrid:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"0.5rem",marginTop:"0.5rem"},colorOption:{width:"40px",height:"40px",borderRadius:"50%",border:"3px solid transparent",cursor:"pointer",transition:"all 0.2s ease"},colorSelected:{border:"3px solid #4c1d95",transform:"scale(1.1)"},button:{padding:"1rem",background:"linear-gradient(135deg, #667eea, #764ba2)",color:"white",border:"none",borderRadius:"10px",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",marginTop:"1rem"},error:{background:"#fee2e2",color:"#dc2626",padding:"0.75rem",borderRadius:"8px",fontSize:"0.9rem",marginTop:"0.5rem"},success:{background:"#d1fae5",color:"#059669",padding:"0.75rem",borderRadius:"8px",fontSize:"0.9rem",marginTop:"0.5rem"}},Rh=({onLogin:u})=>{const[i,s]=O.useState(!0),[a,p]=O.useState({email:"",username:"",password:"",confirmPassword:"",firstName:"",lastName:"",avatarShape:"circle",avatarColor:"#3B82F6"}),[h,S]=O.useState(""),[R,y]=O.useState(""),[P,b]=O.useState(!1),B=[{id:"circle",name:"Circle",emoji:"⭕"},{id:"square",name:"Square",emoji:"🔲"},{id:"triangle",name:"Triangle",emoji:"🔺"},{id:"diamond",name:"Diamond",emoji:"🔶"},{id:"star",name:"Star",emoji:"⭐"},{id:"heart",name:"Heart",emoji:"❤️"}],ne=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#F97316","#06B6D4","#84CC16","#EC4899","#6B7280"],W=async N=>{N.preventDefault(),S(""),y(""),b(!0);try{if(i){const Ee=await(await fetch(`${pe}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailOrUsername:a.email||a.username,password:a.password})})).json();Ee.success?(y("Login successful! Redirecting..."),setTimeout(()=>{u(Ee.token,Ee.user)},1e3)):S(Ee.message||"Login failed")}else{if(a.password!==a.confirmPassword){S("Passwords do not match"),b(!1);return}const Ee=await(await fetch(`${pe}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,username:a.username,password:a.password,firstName:a.firstName,lastName:a.lastName,avatarShape:a.avatarShape,avatarColor:a.avatarColor})})).json();Ee.success?(y("Registration successful! Redirecting..."),setTimeout(()=>{u(Ee.token,Ee.user)},1e3)):S(Ee.message||"Registration failed")}}catch{S("Network error. Please check if the server is running.")}finally{b(!1)}},F=N=>{p({...a,[N.target.name]:N.target.value})};return c.jsx("div",{style:oe.container,children:c.jsxs("div",{style:oe.formCard,children:[c.jsx("h1",{style:oe.title,children:"Swiss Jass 🇨🇭"}),c.jsx("p",{style:oe.subtitle,children:"Traditional Swiss Card Game"}),c.jsxs("div",{style:oe.tabs,children:[c.jsx("button",{style:{...oe.tab,...i?oe.activeTab:{}},onClick:()=>s(!0),children:"Login"}),c.jsx("button",{style:{...oe.tab,...i?{}:oe.activeTab},onClick:()=>s(!1),children:"Register"})]}),c.jsxs("form",{style:oe.form,onSubmit:W,children:[i?c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:oe.inputGroup,children:[c.jsx("label",{style:oe.label,children:"Email or Username"}),c.jsx("input",{style:oe.input,type:"text",name:"email",value:a.email,onChange:F,placeholder:"Enter email or username",required:!0})]}),c.jsxs("div",{style:oe.inputGroup,children:[c.jsx("label",{style:oe.label,children:"Password"}),c.jsx("input",{style:oe.input,type:"password",name:"password",value:a.password,onChange:F,placeholder:"Enter password",required:!0})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:oe.inputGroup,children:[c.jsx("label",{style:oe.label,children:"Email"}),c.jsx("input",{style:oe.input,type:"email",name:"email",value:a.email,onChange:F,placeholder:"your@email.com",required:!0})]}),c.jsxs("div",{style:oe.inputGroup,children:[c.jsx("label",{style:oe.label,children:"Username"}),c.jsx("input",{style:oe.input,type:"text",name:"username",value:a.username,onChange:F,placeholder:"Choose a username",required:!0})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{style:oe.inputGroup,children:[c.jsx("label",{style:oe.label,children:"First Name"}),c.jsx("input",{style:oe.input,type:"text",name:"firstName",value:a.firstName,onChange:F,placeholder:"John"})]}),c.jsxs("div",{style:oe.inputGroup,children:[c.jsx("label",{style:oe.label,children:"Last Name"}),c.jsx("input",{style:oe.input,type:"text",name:"lastName",value:a.lastName,onChange:F,placeholder:"Doe"})]})]}),c.jsxs("div",{style:oe.inputGroup,children:[c.jsx("label",{style:oe.label,children:"Password"}),c.jsx("input",{style:oe.input,type:"password",name:"password",value:a.password,onChange:F,placeholder:"Min 6 characters",required:!0})]}),c.jsxs("div",{style:oe.inputGroup,children:[c.jsx("label",{style:oe.label,children:"Confirm Password"}),c.jsx("input",{style:oe.input,type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:F,placeholder:"Re-enter password",required:!0})]}),c.jsxs("div",{style:oe.avatarSection,children:[c.jsx("label",{style:oe.label,children:"Choose Avatar Shape"}),c.jsx("div",{style:oe.avatarGrid,children:B.map(N=>c.jsxs("div",{style:{...oe.avatarOption,...a.avatarShape===N.id?oe.avatarSelected:{}},onClick:()=>p({...a,avatarShape:N.id}),children:[c.jsx("div",{style:{fontSize:"1.5rem"},children:N.emoji}),c.jsx("div",{style:{fontSize:"0.8rem"},children:N.name})]},N.id))}),c.jsx("label",{style:{...oe.label,marginTop:"1rem"},children:"Choose Avatar Color"}),c.jsx("div",{style:oe.colorGrid,children:ne.map(N=>c.jsx("div",{style:{...oe.colorOption,background:N,...a.avatarColor===N?oe.colorSelected:{}},onClick:()=>p({...a,avatarColor:N})},N))})]})]}),h&&c.jsxs("div",{style:oe.error,children:["❌ ",h]}),R&&c.jsxs("div",{style:oe.success,children:["✅ ",R]}),c.jsx("button",{type:"submit",style:oe.button,disabled:P,children:P?"Processing...":i?"Login":"Create Account"})]})]})})};class xd extends O.Component{constructor(i){super(i),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(i){return{hasError:!0}}componentDidCatch(i,s){console.error("🚨 Error Boundary Caught:",i,s),this.setState({error:i,errorInfo:s})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:c.jsx("div",{style:Kt.container,children:c.jsxs("div",{style:Kt.card,children:[c.jsx("div",{style:Kt.icon,children:"⚠️"}),c.jsx("h1",{style:Kt.title,children:"Oops! Something went wrong"}),c.jsx("p",{style:Kt.message,children:"We're sorry for the inconvenience. The game encountered an unexpected error."}),this.state.error&&c.jsxs("details",{style:Kt.details,children:[c.jsx("summary",{style:Kt.summary,children:"Technical Details"}),c.jsxs("pre",{style:Kt.errorText,children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),c.jsxs("div",{style:Kt.actions,children:[c.jsx("button",{onClick:this.handleReset,style:Kt.button,children:"🔄 Try Again"}),c.jsx("button",{onClick:()=>window.location.href="/",style:{...Kt.button,...Kt.buttonSecondary},children:"🏠 Go Home"})]})]})}):this.props.children}}const Kt={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f2e8 0%, #e8e5d8 100%)",padding:"2rem"},card:{background:"white",borderRadius:"20px",padding:"3rem",maxWidth:"600px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.15)",textAlign:"center"},icon:{fontSize:"4rem",marginBottom:"1rem",animation:"pulse 2s ease-in-out infinite"},title:{fontSize:"2rem",fontWeight:900,color:"#1a1a1a",marginBottom:"1rem"},message:{fontSize:"1.1rem",color:"#6b7280",lineHeight:1.6,marginBottom:"2rem"},details:{textAlign:"left",marginBottom:"2rem",padding:"1rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},summary:{cursor:"pointer",fontWeight:600,color:"#374151",marginBottom:"0.5rem"},errorText:{fontSize:"0.875rem",color:"#dc2626",overflow:"auto",maxHeight:"200px",padding:"1rem",background:"#fee2e2",borderRadius:"6px",margin:0},actions:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},button:{background:"#1A7A4C",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"1rem",fontWeight:600,cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(26, 122, 76, 0.3)"},buttonSecondary:{background:"#6b7280",boxShadow:"0 2px 8px rgba(107, 114, 128, 0.3)"}};function Nh(){const[u,i]=O.useState(!1),[s,a]=O.useState(null),[p,h]=O.useState(null);O.useEffect(()=>{const y=localStorage.getItem("jassToken"),P=localStorage.getItem("jassUser");y&&P&&(h(y),a(JSON.parse(P)),i(!0))},[]);const S=(y,P)=>{h(y),a(P),i(!0),localStorage.setItem("jassToken",y),localStorage.setItem("jassUser",JSON.stringify(P))},R=()=>{i(!1),a(null),h(null),localStorage.removeItem("jassToken"),localStorage.removeItem("jassUser")};return u?c.jsx(xd,{children:c.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:c.jsx(bh,{user:s,onLogout:R})})}):c.jsx(xd,{children:c.jsx(Rh,{onLogin:S})})}dp.createRoot(document.getElementById("root")).render(c.jsx(Nh,{}));
